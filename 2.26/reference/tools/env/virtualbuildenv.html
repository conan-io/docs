<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VirtualBuildEnv &mdash; conan 2.26.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/reference/tools/env/virtualbuildenv.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=0b2e7196"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="VirtualRunEnv" href="virtualrunenv.html" />
    <link rel="prev" title="EnvVars" href="envvars.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.26
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">Binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tools.html">Recipe tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../android.html">conan.tools.android</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apple.html">conan.tools.apple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan.tools.build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cmake.html">conan.tools.cmake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp_info.html">conan.tools.CppInfo</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../env.html">conan.tools.env</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="environment.html">Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="envvars.html">EnvVars</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">VirtualBuildEnv</a></li>
<li class="toctree-l4"><a class="reference internal" href="virtualrunenv.html">VirtualRunEnv</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../files.html">conan.tools.files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gnu.html">conan.tools.gnu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../google.html">conan.tools.google</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel.html">conan.tools.intel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layout.html">conan.tools.layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">conan.tools.meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microsoft.html">conan.tools.microsoft</a></li>
<li class="toctree-l3"><a class="reference internal" href="../qbs.html">conan.tools.qbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ros.html">conan.tools.ros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sbom.html">conan.tools.sbom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scm.html">conan.tools.scm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scons.html">conan.tools.scons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../premake.html">conan.tools.premake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">conan.tools.system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">Workspace files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What‚Äôs new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  üìñ The complete Conan 2 training is now available for free on
                  JFrog Academy: <a
                  href="https://academy.jfrog.com/path/conan-cc-package-manager?utm_source=Conan+Docs"
                  target="_blank">Essentials</a> and <a
                  href="https://academy.jfrog.com/path/conan-2-advanced?utm_source=Conan+Docs"
                  target="_blank">Advanced</a>.
                </p>
              </div>                                                  
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../tools.html">Recipe tools</a></li>
          <li class="breadcrumb-item"><a href="../env.html">conan.tools.env</a></li>
      <li class="breadcrumb-item active">VirtualBuildEnv</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/release/2.26/reference/tools/env/virtualbuildenv.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="virtualbuildenv">
<span id="conan-tools-env-virtualbuildenv"></span><h1>VirtualBuildEnv<a class="headerlink" href="#virtualbuildenv" title="Link to this heading">¬∂</a></h1>
<p>VirtualBuildEnv is a generator that produces a <em>conanbuildenv</em> .bat, .ps1 or .sh script containing the environment variables
of the build time context:</p>
<blockquote>
<div><ul class="simple">
<li><p>From the <code class="docutils literal notranslate"><span class="pre">self.buildenv_info</span></code> of the direct <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> in ‚Äúbuild‚Äù context.</p></li>
<li><p>From the <code class="docutils literal notranslate"><span class="pre">self.runenv_info</span></code> of the transitive dependencies of those <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code>.</p></li>
</ul>
</div></blockquote>
<p>It can be used by name in conanfiles:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id1" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;VirtualBuildEnv&quot;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#id2" title="Link to this code">¬∂</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[generators]
VirtualBuildEnv
</pre></div>
</div>
</div>
<p>And it can also be fully instantiated in the conanfile <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id3" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan.tools.env</span><span class="w"> </span><span class="kn">import</span> <span class="n">VirtualBuildEnv</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.3.1&quot;</span><span class="p">,</span> <span class="s2">&quot;bzip2/1.0.8&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ms</span> <span class="o">=</span> <span class="n">VirtualBuildEnv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">ms</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Note that instantiating the <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv()</span></code> generator without later calling the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method,
which is intended only for the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> recipe method, will inhibit the creation of environment files.</p>
<p>So something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span> <span class="o">=</span> <span class="n">VirtualBuildEnv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">my_env_var</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">vars</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MY_ENV_VAR&quot;</span><span class="p">)</span>
<span class="c1"># does not create conanbuildenv.sh|.bat files</span>
</pre></div>
</div>
<p>will stop creating the <code class="docutils literal notranslate"><span class="pre">conanbuild.sh|.bat</span></code> and <code class="docutils literal notranslate"><span class="pre">conanbuildenv.sh|.bat</span></code> files that are created by default,
even when <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv</span></code> is not instantiated.</p>
<p>In order to keep creating those files, the <code class="docutils literal notranslate"><span class="pre">auto_generate=True</span></code> argument can be passed to the constructor, as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ms</span> <span class="o">=</span> <span class="n">VirtualBuildEnv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auto_generate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">my_env_var</span> <span class="o">=</span> <span class="n">ms</span><span class="o">.</span><span class="n">vars</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MY_ENV_VAR&quot;</span><span class="p">)</span>
<span class="c1"># does create conanbuildenv.sh|.bat files</span>
</pre></div>
</div>
<section id="generated-files">
<h2>Generated files<a class="headerlink" href="#generated-files" title="Link to this heading">¬∂</a></h2>
<p>This generator (for example the invocation of <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span> <span class="pre">--tool-require=cmake/3.20.0&#64;</span> <span class="pre">-g</span> <span class="pre">VirtualBuildEnv</span></code>)
will create the following files:</p>
<ul class="simple">
<li><p>conanbuildenv-release-x86_64.(bat|ps1|sh): This file contains the actual definition of environment variables
like PATH, LD_LIBRARY_PATH, etc, and any other variable defined in the dependencies <code class="docutils literal notranslate"><span class="pre">buildenv_info</span></code>
corresponding to the <code class="docutils literal notranslate"><span class="pre">build</span></code> context, and to the current installed
configuration. If a repeated call is done with other settings, a different file will be created.
After the execution or sourcing of this file, a new deactivation script will be generated, capturing the current
environment, so the environment can be restored when desired. The file will be named also following the
current active configuration, like <code class="docutils literal notranslate"><span class="pre">deactivate_conanbuildenv-release-x86_64.bat</span></code>.</p></li>
<li><p>conanbuild.(bat|ps1|sh): Accumulates the calls to one or more other scripts, in case there are multiple tools
in the generate process that create files, to give one single convenient file for all. This only calls
the latest specific configuration one, that is, if <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> is called first for Release build type,
and then for Debug, <code class="docutils literal notranslate"><span class="pre">conanbuild.(bat|ps1|sh)</span></code> script will call the Debug one.</p></li>
<li><p>deactivate_conanbuild.(bat|ps1|sh): Accumulates the deactivation calls defined in the above <code class="docutils literal notranslate"><span class="pre">conanbuild.(bat|ps1|sh)</span></code>.
This file should only be called after the accumulated activate has been called first.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To create <code class="docutils literal notranslate"><span class="pre">.ps1</span></code> files required for PowerShell, you need to set the
<code class="docutils literal notranslate"><span class="pre">tools.env.virtualenv:powershell</span></code> configuration with the value of the PowerShell
executable (e.g., <code class="docutils literal notranslate"><span class="pre">powershell.exe</span></code> or <code class="docutils literal notranslate"><span class="pre">pwsh</span></code>). Note that, setting it to <code class="docutils literal notranslate"><span class="pre">True</span></code>
or <code class="docutils literal notranslate"><span class="pre">False</span></code> is deprecated as of Conan 2.11.0 and should no longer be used.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To create <code class="docutils literal notranslate"><span class="pre">.env</span></code> dotenv files, use the <strong>experimental</strong> (new in Conan 2.21) <code class="docutils literal notranslate"><span class="pre">tools.env:dotenv</span></code> configuration.
These files are not intended to be activated as scripts, but loaded by tools such as IDEs.
The configuration specific files such as <code class="docutils literal notranslate"><span class="pre">conanbuildenv-Release.env</span></code> will be generated, as the
environment can be different for Release and Debug configurations.
These files at the moment do not use variable interpolation due to some VScode limitations,
a warning is printed pointing to <a class="reference external" href="https://github.com/microsoft/vscode-cpptools/issues/13781">https://github.com/microsoft/vscode-cpptools/issues/13781</a> to
track progress.
Please open a Github ticket to report any feedback about this feature.</p>
</div>
</section>
<section id="disabling-virtualbuildenv">
<span id="reference-tools-env-virtualbuildenv-disable"></span><h2>Disabling VirtualBuildEnv<a class="headerlink" href="#disabling-virtualbuildenv" title="Link to this heading">¬∂</a></h2>
<p>It is possible to disable the generation of the <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv</span></code> and <code class="docutils literal notranslate"><span class="pre">VirtualRunEnv</span></code> files with
different mechanisms:</p>
<ul>
<li><p>By passing <code class="docutils literal notranslate"><span class="pre">--envs-generation=false</span></code> to the <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command, it will disable the generation
of environment files (both <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv</span></code> and <code class="docutils literal notranslate"><span class="pre">VirtualRunEnv</span></code>) for the current consumer only
(dependencies that need to be built from source will generate their own environment files as needed).
<strong>This feature is experimental and subject to change</strong>.</p></li>
<li><p>Recipes can instantiate a <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv(self)</span></code> in their <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method, without calling
their <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method. That will inhibit the creation of environment files for that specific
recipe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">VirtualBuildEnv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="c1"># do not call its generate() method</span>
    <span class="c1"># discouraged, in most cases, it is desired</span>
    <span class="c1"># to call generate()</span>
    <span class="n">VirtualRunEnv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="c1"># Same for VirtualRunEnv</span>
</pre></div>
</div>
</li>
<li><p>Recipes can directly define their <code class="docutils literal notranslate"><span class="pre">virtualbuildenv</span> <span class="pre">=</span> <span class="pre">False</span></code> attribute to inhibit the automatic
default creation of <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv</span></code> files for this recipe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">virtualbuildenv</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="c1"># Also for VirtualRunEnv</span>
    <span class="n">virtualrunenv</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In general, disabling the generation of environment files is <strong>discouraged</strong>. Environment files are the
mechanism use for things like <code class="docutils literal notranslate"><span class="pre">[tool_requires]</span></code> defined in the profiles to be able to inject those
tools dynamically in dependencies, even if those dependencies didn‚Äôt directly declare such
<code class="docutils literal notranslate"><span class="pre">tool_requires</span></code>. Without proper <code class="docutils literal notranslate"><span class="pre">VirtualBuildEnv</span></code> files in the recipe, the <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> will
fail to apply.</p>
</div>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Link to this heading">¬∂</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="conan.tools.env.virtualbuildenv.VirtualBuildEnv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VirtualBuildEnv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conanfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_generate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.virtualbuildenv.VirtualBuildEnv" title="Link to this definition">¬∂</a></dt>
<dd><p>Calculates the environment variables of the build time context and produces a conanbuildenv
.bat or .sh script</p>
<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.virtualbuildenv.VirtualBuildEnv.environment">
<span class="sig-name descname"><span class="pre">environment</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.virtualbuildenv.VirtualBuildEnv.environment" title="Link to this definition">¬∂</a></dt>
<dd><p>Returns an <code class="docutils literal notranslate"><span class="pre">Environment</span></code> object containing the environment variables of the build context.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>an <code class="docutils literal notranslate"><span class="pre">Environment</span></code> object instance containing the obtained variables.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.virtualbuildenv.VirtualBuildEnv.vars">
<span class="sig-name descname"><span class="pre">vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'build'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.virtualbuildenv.VirtualBuildEnv.vars" title="Link to this definition">¬∂</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scope</strong> ‚Äì Scope to be used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An <code class="docutils literal notranslate"><span class="pre">EnvVars</span></code> instance containing the computed environment variables.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.virtualbuildenv.VirtualBuildEnv.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'build'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.virtualbuildenv.VirtualBuildEnv.generate" title="Link to this definition">¬∂</a></dt>
<dd><p>Produces the launcher scripts activating the variables for the build context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scope</strong> ‚Äì Scope to be used.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="envvars.html" class="btn btn-neutral float-left" title="EnvVars" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="virtualrunenv.html" class="btn btn-neutral float-right" title="VirtualRunEnv" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2026, JFrog.
      <span class="lastupdated">Last updated on Feb 27, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 2.26
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.26/index.html">2.26</a></dd>
        
    
        
            <dd><a href="/2.25/index.html">2.25</a></dd>
        
    
        
            <dd><a href="/2.24/index.html">2.24</a></dd>
        
    
        
            <dd><a href="/2.23/index.html">2.23</a></dd>
        
    
        
            <dd><a href="/2.22/index.html">2.22</a></dd>
        
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.26/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>