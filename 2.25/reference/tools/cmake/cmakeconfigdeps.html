<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CMakeConfigDeps &mdash; conan 2.25.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/reference/tools/cmake/cmakeconfigdeps.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=aea92517"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="CMakeToolchain" href="cmaketoolchain.html" />
    <link rel="prev" title="CMakeDeps" href="cmakedeps.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.25
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">Binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tools.html">Recipe tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../android.html">conan.tools.android</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apple.html">conan.tools.apple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan.tools.build</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../cmake.html">conan.tools.cmake</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cmakedeps.html">CMakeDeps</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">CMakeConfigDeps</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmaketoolchain.html">CMakeToolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake.html">CMake</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake_layout.html">cmake_layout</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cpp_info.html">conan.tools.CppInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html">conan.tools.env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../files.html">conan.tools.files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gnu.html">conan.tools.gnu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../google.html">conan.tools.google</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel.html">conan.tools.intel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layout.html">conan.tools.layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">conan.tools.meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microsoft.html">conan.tools.microsoft</a></li>
<li class="toctree-l3"><a class="reference internal" href="../qbs.html">conan.tools.qbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ros.html">conan.tools.ros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sbom.html">conan.tools.sbom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scm.html">conan.tools.scm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scons.html">conan.tools.scons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../premake.html">conan.tools.premake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">conan.tools.system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">Workspace files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What‚Äôs new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  üìñ The complete Conan 2 training is now available for free on
                  JFrog Academy: <a
                  href="https://academy.jfrog.com/path/conan-cc-package-manager?utm_source=Conan+Docs"
                  target="_blank">Essentials</a> and <a
                  href="https://academy.jfrog.com/path/conan-2-advanced?utm_source=Conan+Docs"
                  target="_blank">Advanced</a>.
                </p>
              </div>                                                  
          </div>
          
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/reference/tools/cmake/cmakeconfigdeps.html">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../tools.html">Recipe tools</a></li>
          <li class="breadcrumb-item"><a href="../cmake.html">conan.tools.cmake</a></li>
      <li class="breadcrumb-item active">CMakeConfigDeps</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cmakeconfigdeps">
<span id="conan-tools-cmakeconfigdeps"></span><h1>CMakeConfigDeps<a class="headerlink" href="#cmakeconfigdeps" title="Link to this heading">¬∂</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is experimental and subject to breaking changes.
See <a class="reference internal" href="../../../introduction.html#stability"><span class="std std-ref">the Conan stability</span></a> section for more information.</p>
</div>
<p>This generator (available as experimental from Conan 2.25) is designed as a replacement of the current <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> generator, with multiple pending fixes and improvements that couldn‚Äôt easily be done in the current one without breaking.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To simplify the testing and validation of the <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> migration, the <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">tools.cmake.cmakedeps:new=will_break_next</span></code> configuration can be used. It performs a hot replacement of every <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> in recipes by <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code>, without needing to edit the recipes at all. Note that this configuration is not necessary if the recipe explicitly uses <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code>.</p>
</div>
<p>That means that it can be used as any other generator in conanfiles, and in command line <code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">CMakeConfigDeps</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#id1" title="Link to this code">¬∂</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">requires</span><span class="p">]</span>
<span class="n">hello</span><span class="o">/</span><span class="mf">0.1</span>

<span class="p">[</span><span class="n">generators</span><span class="p">]</span>
<span class="n">CMakeConfigDeps</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id2" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="o">...</span>
   <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;hello/0.1&quot;</span>
   <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;CMakeConfigDeps&quot;</span>
</pre></div>
</div>
</div>
<p>Or:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id3" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan.tools.cmake</span><span class="w"> </span><span class="kn">import</span> <span class="n">CMakeConfigDeps</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="o">...</span>
   <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;hello/0.1&quot;</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">deps</span> <span class="o">=</span> <span class="n">CMakeConfigDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
      <span class="n">deps</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generator produces the necessary files for each dependency to be able to use the cmake
<code class="docutils literal notranslate"><span class="pre">find_package()</span></code> function to locate the dependencies. It can be used like:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text"><strong>CMakeLists.txt</strong></span><a class="headerlink" href="#id4" title="Link to this code">¬∂</a></div>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.15</span><span class="p">)</span>
<span class="nb">project</span><span class="p">(</span><span class="s">compressor</span><span class="w"> </span><span class="s">C</span><span class="p">)</span>

<span class="hll"><span class="nb">find_package</span><span class="p">(</span><span class="s">hello</span><span class="w"> </span><span class="s">CONFIG</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span><span class="w"> </span><span class="s">src/main.c</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="o">${</span><span class="nv">PROJECT_NAME</span><span class="o">}</span><span class="w"> </span><span class="s">hello::hello</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>By default, for a <code class="docutils literal notranslate"><span class="pre">hello</span></code> requires, you need to use <code class="docutils literal notranslate"><span class="pre">find_package(hello)</span></code> and link with the target <code class="docutils literal notranslate"><span class="pre">hello::hello</span></code>.</p>
<section id="generated-files">
<h2>Generated files<a class="headerlink" href="#generated-files" title="Link to this heading">¬∂</a></h2>
<ul class="simple">
<li><p><strong>xxx-config.cmake</strong>: By default, the <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generator will create config files declaring the targets for the dependencies
and their components (if declared).</p></li>
<li><p>This generator is only intended to generate <code class="docutils literal notranslate"><span class="pre">xxx-config.cmake</span></code> config files, it will not generate <code class="docutils literal notranslate"><span class="pre">Find*.cmake</span></code> find modules, and support for it is not planned. Use the <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code> generator for that, or patch the consumers to use CMake config files instead of modules</p></li>
<li><p><strong>Other necessary *.cmake</strong>:  files like version, flags and directory data or configuration.</p></li>
<li><p><strong>conan_cmakedeps_paths.cmake</strong>: file containing the definition of <code class="docutils literal notranslate"><span class="pre">xxx_DIR</span></code> variables that point to the
folder containing the <code class="docutils literal notranslate"><span class="pre">xxx-config.cmake</span></code> files to be located when doing the <code class="docutils literal notranslate"><span class="pre">find_package()</span></code>. This file
will be included by default by the <code class="docutils literal notranslate"><span class="pre">conan_toolchain.cmake</span></code>, but it might also be useful in other tools like
<code class="docutils literal notranslate"><span class="pre">cmake-conan</span></code> integration. This file will also contain other path variables such as <code class="docutils literal notranslate"><span class="pre">CMAKE_VS_DEBUGGER_ENVIRONMENT</span></code>, <code class="docutils literal notranslate"><span class="pre">CMAKE_PROGRAM_PATH</span></code>, <code class="docutils literal notranslate"><span class="pre">CMAKE_LIBRARY_PATH</span></code>, etc., that help consumers
to locate dependencies for different scenarios like runtime or with other CMake <code class="docutils literal notranslate"><span class="pre">find_program()</span></code> utilities.</p></li>
</ul>
</section>
<section id="improvements-over-cmakedeps">
<h2>Improvements over <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code><a class="headerlink" href="#improvements-over-cmakedeps" title="Link to this heading">¬∂</a></h2>
<p>This is a brief summary of the improvements and fixes of <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> over <code class="docutils literal notranslate"><span class="pre">CMakeDeps</span></code>:</p>
<ul class="simple">
<li><p>Creates real <code class="docutils literal notranslate"><span class="pre">SHARED/STATIC/INTERFACE</span> <span class="pre">IMPORTED</span></code> targets, no more artificial interface targets. The <code class="docutils literal notranslate"><span class="pre">CONAN_LIB::</span></code> and other similar targets do not exist anymore.</p></li>
<li><p>Defines <code class="docutils literal notranslate"><span class="pre">IMPORTED_CONFIGURATIONS</span></code> for targets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG</span></code> definition of dependencies matching the dependency <code class="docutils literal notranslate"><span class="pre">Release/Debug/etc</span></code> <code class="docutils literal notranslate"><span class="pre">build_type</span></code>, no longer using the consumer one.</p></li>
<li><p>Definition of <code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION</span></code> and <code class="docutils literal notranslate"><span class="pre">IMPORTED_IMPLIB</span></code> for library targets.</p></li>
<li><p>Definition of <code class="docutils literal notranslate"><span class="pre">LINK_LANGUAGES</span></code> based on the recipe <code class="docutils literal notranslate"><span class="pre">languages</span></code> and <code class="docutils literal notranslate"><span class="pre">cpp_info/component</span></code> <code class="docutils literal notranslate"><span class="pre">languages</span></code> properties.</p></li>
<li><p>All these allows better propagation of linkage requirement and visibility, avoiding some linkage error of transitive shared libraries in Linux.</p></li>
<li><p>Better definition of <code class="docutils literal notranslate"><span class="pre">requires</span></code> relationships across components inside the same package and with respect to other packages.</p></li>
<li><p>It doesn‚Äôt need any <code class="docutils literal notranslate"><span class="pre">build_context_activated</span></code> or <code class="docutils literal notranslate"><span class="pre">build_context_suffix</span></code> to use <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> dependencies.</p></li>
<li><p>Checking CMake <code class="docutils literal notranslate"><span class="pre">COMPONENTS</span></code> definition by default.</p></li>
<li><p>Definition of <code class="docutils literal notranslate"><span class="pre">cpp_info/components</span></code> <code class="docutils literal notranslate"><span class="pre">.exe</span></code> information (should include the <code class="docutils literal notranslate"><span class="pre">.location</span></code> definition too), to define <code class="docutils literal notranslate"><span class="pre">EXECUTABLE</span></code> targets that can be run.</p></li>
<li><p>Executables from <code class="docutils literal notranslate"><span class="pre">requires</span></code> can also be used in non cross-build scenarios. When a <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code> to the same dependency exists, then those executables will have priority.</p></li>
<li><p>Creation of a new <code class="docutils literal notranslate"><span class="pre">conan_cmakedeps_paths.cmake</span></code> that contains definitions of <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;_DIR</span></code> paths for direct finding of the dependencies. This file is also planned to be used in <code class="docutils literal notranslate"><span class="pre">cmake-conan</span></code> to extend its usage and avoid some current limitations due to the fact that a CMake driven installation cannot inject a toolchain later.</p></li>
<li><p>Better management of the system OSX Frameworks through <code class="docutils literal notranslate"><span class="pre">cpp_info.frameworks</span></code>.</p></li>
<li><p>Definition of <code class="docutils literal notranslate"><span class="pre">cpp_info/component.package_framework</span></code> information (should include the <code class="docutils literal notranslate"><span class="pre">.location</span></code> definition too,
e.g., <code class="docutils literal notranslate"><span class="pre">os.path.join(self.package_folder,</span> <span class="pre">&quot;MyFramework.framework&quot;,</span> <span class="pre">&quot;MyFramework&quot;)</span></code>) to define the custom OSX Framework library to be linked against.</p></li>
<li><p>Definition of <code class="docutils literal notranslate"><span class="pre">self.cpp_info.sources</span> <span class="pre">=</span> <span class="pre">[&quot;src/mylib.cpp&quot;,</span> <span class="pre">&quot;src/other.cpp&quot;]</span></code> that will add <code class="docutils literal notranslate"><span class="pre">INTERFACE_SOURCES</span></code> to the CMake target to be consumed downstream.</p></li>
</ul>
</section>
<section id="targets-generation">
<h2>Targets generation<a class="headerlink" href="#targets-generation" title="Link to this heading">¬∂</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> can both generate CMake files from the dependencies <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> information
or use the in-package <code class="docutils literal notranslate"><span class="pre">xxx-config.cmake</span></code> files (when <code class="docutils literal notranslate"><span class="pre">self.cpp_info.set_property(&quot;cmake_find_mode&quot;,</span> <span class="pre">&quot;none&quot;)</span></code> is defined, that indicates that the generator will not create any files.</p>
<p>This section explains how <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generates CMake targets from the information of the <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> dependencies method.</p>
<section id="cpp-info">
<h3>cpp_info<a class="headerlink" href="#cpp-info" title="Link to this heading">¬∂</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> will use the common <a class="reference internal" href="../../conanfile/methods/package_info.html#conan-conanfile-model-cppinfo"><span class="std std-ref">self.cpp_info</span></a> fields, like <code class="docutils literal notranslate"><span class="pre">includedirs</span></code>, <code class="docutils literal notranslate"><span class="pre">libs</span></code>, etc.
to create and populate the targets the consumers will use.</p>
<p>But besides these common fields, there are a few new fields, exclusively used at the moment by <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code>, that implement some of the new capabilities of this generator that can be defined in the <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> or <code class="docutils literal notranslate"><span class="pre">cpp_info.components</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># EXPERIMENTAL FIELDS, used exclusively by new CMakeConfigDeps</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">type</span>  <span class="c1"># The type of this artifact &quot;shared-library&quot;, &quot;static-library&quot;, etc (same as package_type)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">location</span> <span class="c1"># full location (path and filename with extension) of the artifact or the Apple Framework library one</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">link_location</span>  <span class="c1"># Location of the import library for Windows .lib associated to a dll</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">languages</span> <span class="c1"># same as &quot;languages&quot; attribute, it can be &quot;C&quot;, &quot;C++&quot;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">exe</span>  <span class="c1"># Definition of an executable artifact</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">package_framework</span>  <span class="c1"># Definition of an Apple Framework (new since Conan 2.14)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">sources</span>  <span class="c1"># List of paths to source files in the package (for packages that provide source code to consumers)</span>
</pre></div>
</div>
<p>These fields will be auto-deduced from the other <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> and <code class="docutils literal notranslate"><span class="pre">components</span></code> definitions, like the <code class="docutils literal notranslate"><span class="pre">libs</span></code> or <code class="docutils literal notranslate"><span class="pre">libdirs</span></code> fields, but the automatic deduction might have limitations. Defining them explicitly will inhibit the auto deduction and use the value as provided by the recipe.</p>
<p>Declare sources for targets with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;src/mylib.cpp&quot;</span><span class="p">,</span> <span class="s2">&quot;src/other.cpp&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>This allows packages to provide source code as a dependency to consumers. The paths should be relative to the package folder.
The source files will be added as <cite>INTERFACE_SOURCES</cite> property to the CMake library (or component) target and consumers that
link with this target will compile the sources when building their own targets.</p>
</section>
<section id="properties">
<span id="cmakeconfigdeps-properties"></span><h3>Properties<a class="headerlink" href="#properties" title="Link to this heading">¬∂</a></h3>
<p>The following properties affect the <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generator:</p>
<ul class="simple">
<li><p><strong>cmake_file_name</strong>: The config file generated for the current package will follow the <code class="docutils literal notranslate"><span class="pre">&lt;VALUE&gt;-config.cmake</span></code> pattern,
so to find the package you write <code class="docutils literal notranslate"><span class="pre">find_package(&lt;VALUE&gt;)</span></code>.</p></li>
<li><p><strong>cmake_target_name</strong>: Name of the target to be consumed.</p></li>
<li><p><strong>cmake_target_aliases</strong>: List of aliases that Conan will create for an already existing target.</p></li>
<li><p><strong>cmake_find_mode</strong>: Defaulted to <code class="docutils literal notranslate"><span class="pre">config</span></code>. Possible values are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">config</span></code>: The <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generator will create config scripts for the dependency.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">module</span></code>: Not supported, will be ignored and generate only <code class="docutils literal notranslate"><span class="pre">xxx-config.cmake</span></code> files (with a warning).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">both</span></code>: Not supported, will be ignored and generate only <code class="docutils literal notranslate"><span class="pre">xxx-config.cmake</span></code> files (with a warning).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code>: Won‚Äôt generate any file. It can be used, for instance, to create a system wrapper package so the consumers find the config files in the CMake installation config path and not in the generated by Conan (because it has been skipped).</p></li>
</ul>
</li>
<li><p><strong>cmake_build_modules</strong>: List of <code class="docutils literal notranslate"><span class="pre">.cmake</span></code> files (path relative to root package folder) that are automatically
included when the consumer run the <code class="docutils literal notranslate"><span class="pre">find_package()</span></code>. This property cannot be set in the components, only in the root <code class="docutils literal notranslate"><span class="pre">self.cpp_info</span></code>.</p></li>
<li><p><strong>cmake_config_version_compat</strong>: By default <code class="docutils literal notranslate"><span class="pre">SameMajorVersion</span></code>, it can take the values <code class="docutils literal notranslate"><span class="pre">&quot;AnyNewerVersion&quot;,</span> <span class="pre">&quot;SameMajorVersion&quot;,</span> <span class="pre">&quot;SameMinorVersion&quot;,</span> <span class="pre">&quot;ExactVersion&quot;</span></code>. It will use that policy in the generated <code class="docutils literal notranslate"><span class="pre">&lt;PackageName&gt;ConfigVersion.cmake</span></code> file</p></li>
<li><p><strong>system_package_version</strong>: version of the package used to generate the <code class="docutils literal notranslate"><span class="pre">&lt;PackageName&gt;ConfigVersion.cmake</span></code> file. Can be useful when creating system packages or other wrapper packages, where the conan package version is different to the eventually referenced package version to keep compatibility to <code class="docutils literal notranslate"><span class="pre">find_package(&lt;PackageName&gt;</span> <span class="pre">&lt;Version&gt;)</span></code> calls.</p></li>
<li><p><strong>cmake_additional_variables_prefixes</strong>: List of prefixes to be used when creating CMake variables in the config
files. These variables are created with <code class="docutils literal notranslate"><span class="pre">file_name</span></code> as prefix by default, but setting this property will create
additional variables with the specified prefixes alongside the default <code class="docutils literal notranslate"><span class="pre">file_name</span></code> one.</p></li>
<li><p><strong>cmake_extra_variables</strong>: Dictionary of extra variables to be added to the generated config file.
The keys of the dictionary are the variable names and the values are the variable values,
which can be a plain string, a number or a dict-like python object which must specify
the <code class="docutils literal notranslate"><span class="pre">value</span></code> (string/number) , <code class="docutils literal notranslate"><span class="pre">cache</span></code> (boolean), <code class="docutils literal notranslate"><span class="pre">type</span></code> (CMake cache type) and optionally,
<code class="docutils literal notranslate"><span class="pre">docstring</span></code> (string: defaulted to variable name) and <code class="docutils literal notranslate"><span class="pre">force</span></code> (boolean) keys. Note that this has
less preference over those values defined in the <code class="docutils literal notranslate"><span class="pre">tools.cmake.cmaketoolchain:extra_variables</span></code> conf.</p></li>
<li><p><strong>cmake_link_feature</strong>: Sets the link feature for the generated target. This can be any of the built-in
link features supported by CMake like <code class="docutils literal notranslate"><span class="pre">WHOLE_ARCHIVE</span></code> etc., or a custom one, provided you also set
the expected <code class="docutils literal notranslate"><span class="pre">CMAKE_LINK_LIBRARY_USING_&lt;FEATURE&gt;_SUPPORTED</span></code> and <code class="docutils literal notranslate"><span class="pre">CMAKE_LINK_LIBRARY_USING_&lt;FEATURE&gt;</span></code> variables.
(Possibly using the <strong>cmake_extra_variables</strong> property). Supported when using CMake 3.24 or newer.
This property performs <strong>no</strong> checks on the given feature, it is up to the recipe author to ensure
that the feature is usable.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="c1"># MyFileName-config.cmake</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_file_name&quot;</span><span class="p">,</span> <span class="s2">&quot;MyFileName&quot;</span><span class="p">)</span>
    <span class="c1"># Names for targets are absolute, Conan won&#39;t add any namespace to the target names automatically</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_target_name&quot;</span><span class="p">,</span> <span class="s2">&quot;Foo::Foo&quot;</span><span class="p">)</span>
    <span class="c1"># Automatically include the lib/mypkg.cmake file when calling find_package()</span>
    <span class="c1"># This property cannot be set in a component.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_build_modules&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;lib&quot;</span><span class="p">,</span> <span class="s2">&quot;mypkg.cmake&quot;</span><span class="p">)])</span>

    <span class="c1"># Create a new target &quot;MyFooAlias&quot; that is an alias to the &quot;Foo::Foo&quot; target</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_target_aliases&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;MyFooAlias&quot;</span><span class="p">])</span>

    <span class="c1"># Skip this package when generating the files for the whole dependency tree in the consumer</span>
    <span class="c1"># note: it will make useless the previous adjustments.</span>
    <span class="c1"># self.cpp_info.set_property(&quot;cmake_find_mode&quot;, &quot;none&quot;)</span>

    <span class="c1"># Add extra variables to the generated config file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_extra_variables&quot;</span><span class="p">,</span> <span class="p">{</span>
                                   <span class="s2">&quot;FOO&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
                                   <span class="s2">&quot;CMAKE_GENERATOR_INSTANCE&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{GENERATOR_INSTANCE}</span><span class="s2">/buildTools/&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;CACHE_VAR_DEFAULT_DOC&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;hello world&quot;</span><span class="p">,</span>
                                                             <span class="s2">&quot;cache&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">}</span>
                               <span class="p">})</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_link_feature&quot;</span><span class="p">,</span> <span class="s2">&quot;WHOLE_ARCHIVE&quot;</span><span class="p">)</span>

<span class="c1"># Or if using components</span>
<span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;mycomponent&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_target_name&quot;</span><span class="p">,</span> <span class="s2">&quot;Foo::Var&quot;</span><span class="p">)</span>

    <span class="c1"># Create a new target &quot;VarComponent&quot; that is an alias to the &quot;Foo::Var&quot; component target</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;mycomponent&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_target_aliases&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;VarComponent&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps.set_property()</span></code> method you can overwrite the property values set by the
Conan recipes from the consumer. This can be done for every property listed above.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id5" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.3.1&quot;</span>
    <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="n">CMakeConfigDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># This will require in CMakeLists.txt a</span>
        <span class="c1"># target_link_libraries(mytarget PUBLIC MyZlib::MyZlib)</span>
        <span class="n">deps</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;zlib&quot;</span><span class="p">,</span> <span class="s2">&quot;cmake_target_name&quot;</span><span class="p">,</span> <span class="s2">&quot;MyZlib::MyZlib&quot;</span><span class="p">)</span>
        <span class="n">deps</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">set_property()</span></code> method to invalidate the property values set by
the upstream recipe and use the values that Conan assigns by default. To do so, set the
value <code class="docutils literal notranslate"><span class="pre">None</span></code> to the property like <code class="docutils literal notranslate"><span class="pre">deps.set_property(&quot;zlib&quot;,</span> <span class="pre">&quot;cmake_target_name&quot;,</span> <span class="pre">None)</span></code>.</p>
<p>After doing this the generated target name for the Zlib library will be <code class="docutils literal notranslate"><span class="pre">zlib::zlib</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">ZLIB::ZLIB</span></code> which is the upstream default target name.</p>
<p>Additionally, <cite>CMakeConfigDeps.set_property()</cite> can also be used for packages that have
components. In this case, you will need to provide the package name along with its
component separated by a double colon (<cite>::</cite>). Here‚Äôs an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="n">CMakeConfigDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">deps</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;pkg::component&quot;</span><span class="p">,</span> <span class="s2">&quot;cmake_target_name&quot;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">new_component_target_name</span><span class="o">&gt;</span><span class="p">)</span>
    <span class="n">deps</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¬∂</a></h3>
<p>Allows to define custom user CMake configuration besides the standard Release, Debug, etc ones.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">deps</span> <span class="o">=</span> <span class="n">CMakeConfigDeps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="c1"># By default, ``deps.configuration`` will be ``self.settings.build_type``</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;hello&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shared</span><span class="p">:</span>
        <span class="c1"># Assuming the current project ``CMakeLists.txt`` defines the ReleasedShared configuration.</span>
        <span class="n">deps</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="s2">&quot;ReleaseShared&quot;</span>
    <span class="n">deps</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> is a <em>multi-configuration</em> generator, it can correctly create files for Release/Debug configurations
to be simultaneously used by IDEs like Visual Studio. In single configuration environments, it is necessary to have
a configuration defined, which must be provided via the <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">...</span> <span class="pre">-DCMAKE_BUILD_TYPE=&lt;build-type&gt;</span></code> argument in command line
(Conan will do it automatically when necessary, in the <code class="docutils literal notranslate"><span class="pre">CMake.configure()</span></code> helper).</p>
</section>
</section>
<section id="using-host-and-build-context-dependencies">
<h2>Using ‚Äúhost‚Äù and ‚Äúbuild‚Äù context dependencies<a class="headerlink" href="#using-host-and-build-context-dependencies" title="Link to this heading">¬∂</a></h2>
<p>With <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code>, it is possible to use executable <code class="docutils literal notranslate"><span class="pre">IMPORTED</span></code> targets from regular ‚Äúhost‚Äù dependencies. This can only be done in case where platform binary compatibility is possible, and in other cases like cross-compiling, it will fail.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">IMPORTED</span></code> executable targets will be automatically created from the <code class="docutils literal notranslate"><span class="pre">self.cpp_info.exe</span></code> and <code class="docutils literal notranslate"><span class="pre">self.cpp_info.components[&quot;mycomponent&quot;].exe</span></code> information. These targets can be directly used by consumers in their own builds as tools.</p>
<p>When a Conan package recipe depends on the same package both as regular <code class="docutils literal notranslate"><span class="pre">requires</span></code> and <code class="docutils literal notranslate"><span class="pre">tool-requires</span></code>, to be able to implement scenarios like cross-building, the ‚Äúbuild‚Äù context will have priority when defining the executable <code class="docutils literal notranslate"><span class="pre">IMPORTED</span></code> targets.
A common example is when using <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> in a cross-building scenario, the <code class="docutils literal notranslate"><span class="pre">protoc</span></code> compiler inside the package that is used for the ‚Äúhost‚Äù architecture cannot be executed in the current ‚Äúbuild‚Äù machine. So the recipe defines a <code class="docutils literal notranslate"><span class="pre">self.requires(&quot;protobuf/version&quot;)</span></code> and a <code class="docutils literal notranslate"><span class="pre">self.tool_requires(&quot;protobuf/version&quot;)</span></code>.
In this case, the library (headers, static/shared lib) targets will be obtained from the dependency in the ‚Äúhost‚Äù context, but the executable target for <code class="docutils literal notranslate"><span class="pre">protoc</span></code> will be defined from the ‚Äúbuild‚Äù context.</p>
</section>
<section id="disable-cmakeconfigdeps-to-use-xxx-config-cmake-files-inside-the-package">
<h2>Disable <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> to use <code class="docutils literal notranslate"><span class="pre">xxx-config.cmake</span></code> files inside the package<a class="headerlink" href="#disable-cmakeconfigdeps-to-use-xxx-config-cmake-files-inside-the-package" title="Link to this heading">¬∂</a></h2>
<p>Some projects may want to disable the <code class="docutils literal notranslate"><span class="pre">CMakeConfigDeps</span></code> generator for downstream consumers. This can be done by setting <code class="docutils literal notranslate"><span class="pre">cmake_find_mode</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>.
If the project wants to provide its own configuration targets, it should append them to the <code class="docutils literal notranslate"><span class="pre">builddirs</span></code> attribute of <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code>.</p>
<p>This method is intended to work with downstream consumers using the <code class="docutils literal notranslate"><span class="pre">CMakeToolchain</span></code> generator or by including the generated <code class="docutils literal notranslate"><span class="pre">conan_cmakedeps_paths.cmake</span></code> file, which will be populated with the <code class="docutils literal notranslate"><span class="pre">builddirs</span></code> attribute.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">cmake</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s2">&quot;cmake_find_mode&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">)</span> <span class="c1"># Do NOT generate any files</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">builddirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;lib&quot;</span><span class="p">,</span> <span class="s2">&quot;cmake&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Link to this heading">¬∂</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="conan.tools.cmake.cmakeconfigdeps.cmakeconfigdeps.CMakeConfigDeps">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CMakeConfigDeps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conanfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.cmake.cmakeconfigdeps.cmakeconfigdeps.CMakeConfigDeps" title="Link to this definition">¬∂</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>conanfile</strong> ‚Äì <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">ConanFile</span> <span class="pre">object</span> <span class="pre">&gt;</span></code> The current recipe object. Always use <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.cmake.cmakeconfigdeps.cmakeconfigdeps.CMakeConfigDeps.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.cmake.cmakeconfigdeps.cmakeconfigdeps.CMakeConfigDeps.generate" title="Link to this definition">¬∂</a></dt>
<dd><p>This method will save the generated files to the <code class="docutils literal notranslate"><span class="pre">conanfile.generators_folder</span></code> folder</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.cmake.cmakeconfigdeps.cmakeconfigdeps.CMakeConfigDeps.set_property">
<span class="sig-name descname"><span class="pre">set_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.cmake.cmakeconfigdeps.cmakeconfigdeps.CMakeConfigDeps.set_property" title="Link to this definition">¬∂</a></dt>
<dd><p>Using this method you can overwrite the <a class="reference internal" href="#cmakeconfigdeps-properties"><span class="std std-ref">property</span></a> values
set by the Conan recipes from the consumer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dep</strong> ‚Äì Name of the dependency to set the <a class="reference internal" href="#cmakeconfigdeps-properties"><span class="std std-ref">property</span></a>.
For components use the syntax: <code class="docutils literal notranslate"><span class="pre">dep_name::component_name</span></code>.</p></li>
<li><p><strong>prop</strong> ‚Äì Name of the <a class="reference internal" href="cmakedeps.html#cmakedeps-properties"><span class="std std-ref">property</span></a>.</p></li>
<li><p><strong>value</strong> ‚Äì Value of the property. Use <code class="docutils literal notranslate"><span class="pre">None</span></code> to invalidate any value set by the
upstream recipe.</p></li>
<li><p><strong>build_context</strong> ‚Äì Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want to set the property for a dependency that
belongs to the build context (<code class="docutils literal notranslate"><span class="pre">False</span></code> by default).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cmakedeps.html" class="btn btn-neutral float-left" title="CMakeDeps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cmaketoolchain.html" class="btn btn-neutral float-right" title="CMakeToolchain" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2026, JFrog.
      <span class="lastupdated">Last updated on Feb 25, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 2.25
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.26/index.html">2.26</a></dd>
        
    
        
            <dd><a href="/2.25/index.html">2.25</a></dd>
        
    
        
            <dd><a href="/2.24/index.html">2.24</a></dd>
        
    
        
            <dd><a href="/2.23/index.html">2.23</a></dd>
        
    
        
            <dd><a href="/2.22/index.html">2.22</a></dd>
        
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.25/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>