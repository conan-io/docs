<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EnvVars &mdash; conan 2.20.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/reference/tools/env/envvars.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=f4a0ca01"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="VirtualBuildEnv" href="virtualbuildenv.html" />
    <link rel="prev" title="Environment" href="environment.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.20
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What‚Äôs new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ci_tutorial/tutorial.html">CI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../workspace_files.html">Workspace files</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tools.html">Recipe tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../android.html">conan.tools.android</a></li>
<li class="toctree-l3"><a class="reference internal" href="../apple.html">conan.tools.apple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan.tools.build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cmake.html">conan.tools.cmake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp_info.html">conan.tools.CppInfo</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../env.html">conan.tools.env</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="environment.html">Environment</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">EnvVars</a></li>
<li class="toctree-l4"><a class="reference internal" href="virtualbuildenv.html">VirtualBuildEnv</a></li>
<li class="toctree-l4"><a class="reference internal" href="virtualrunenv.html">VirtualRunEnv</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../files.html">conan.tools.files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gnu.html">conan.tools.gnu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../google.html">conan.tools.google</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intel.html">conan.tools.intel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layout.html">conan.tools.layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">conan.tools.meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microsoft.html">conan.tools.microsoft</a></li>
<li class="toctree-l3"><a class="reference internal" href="../qbs.html">conan.tools.qbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ros.html">conan.tools.ros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sbom.html">conan.tools.sbom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scm.html">conan.tools.scm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scons.html">conan.tools.scons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../premake.html">conan.tools.premake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">conan.tools.system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../binary_model.html">The binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../runners.html">Runners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  üìñ The complete Conan 2 training is now available for free on
                  JFrog Academy: <a
                  href="https://academy.jfrog.com/path/conan-cc-package-manager?utm_source=Conan+Docs"
                  target="_blank">Essentials</a> and <a
                  href="https://academy.jfrog.com/path/conan-2-advanced?utm_source=Conan+Docs"
                  target="_blank">Advanced</a>.
                </p>
              </div>                                                  
          </div>
          
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/reference/tools/env/envvars.html">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../../tools.html">Recipe tools</a></li>
          <li class="breadcrumb-item"><a href="../env.html">conan.tools.env</a></li>
      <li class="breadcrumb-item active">EnvVars</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="envvars">
<h1>EnvVars<a class="headerlink" href="#envvars" title="Link to this heading">¬∂</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">EnvVars</span></code> is a class that represents an instance of environment variables for a given system.
It is obtained from the generic <a class="reference internal" href="environment.html#conan-tools-env-environment-model"><span class="std std-ref">Environment</span></a> class.</p>
<p>This class is used by other tools like the <cite>conan.tools.gnu</cite> autotools helpers and
the <a class="reference internal" href="virtualbuildenv.html#conan-tools-env-virtualbuildenv"><span class="std std-ref">VirtualBuildEnv</span></a> and <a class="reference internal" href="virtualrunenv.html#conan-tools-env-virtualrunenv"><span class="std std-ref">VirtualRunEnv</span></a>
generator.</p>
<section id="creating-environment-files">
<h2>Creating environment files<a class="headerlink" href="#creating-environment-files" title="Link to this heading">¬∂</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">EnvVars</span></code> object can generate environment files (shell, bat or powershell scripts):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">env1</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
    <span class="n">env1</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">)</span>
    <span class="n">envvars</span> <span class="o">=</span> <span class="n">env1</span><span class="o">.</span><span class="n">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">envvars</span><span class="o">.</span><span class="n">save_script</span><span class="p">(</span><span class="s2">&quot;my_env_file&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Although it potentially could be used in other methods, this functionality is intended to work in the <code class="docutils literal notranslate"><span class="pre">generate()</span></code>
method.</p>
<p>It will generate automatically a <code class="docutils literal notranslate"><span class="pre">my_env_file.bat</span></code> for Windows systems or <code class="docutils literal notranslate"><span class="pre">my_env_file.sh</span></code> otherwise.</p>
<p>It is possible to opt-in to generate PowerShell <code class="docutils literal notranslate"><span class="pre">.ps1</span></code> scripts instead of <code class="docutils literal notranslate"><span class="pre">.bat</span></code> ones,
by using the configuration <code class="docutils literal notranslate"><span class="pre">tools.env.virtualenv:powershell</span></code>. This configuration should
be set with the value corresponding to the desired PowerShell executable:
<code class="docutils literal notranslate"><span class="pre">powershell.exe</span></code> for versions up to 5.1, and <code class="docutils literal notranslate"><span class="pre">pwsh</span></code> for PowerShell versions starting
from 7. Note that setting <code class="docutils literal notranslate"><span class="pre">tools.env.virtualenv:powershell</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> is
deprecated as of Conan 2.11.0.</p>
<p>You can also include additional arguments in the <code class="docutils literal notranslate"><span class="pre">tools.env.virtualenv:powershell</span></code>
configuration. For example, you can set the value to <code class="docutils literal notranslate"><span class="pre">powershell.exe</span> <span class="pre">-NoProfile</span></code> or
<code class="docutils literal notranslate"><span class="pre">pwsh</span> <span class="pre">-NoProfile</span></code> by including the arguments as part of the configuration value. These
arguments will be considered when executing the generated <code class="docutils literal notranslate"><span class="pre">.ps1</span></code> launchers.</p>
<p>Also, by default, Conan will automatically append that launcher file path to a list that will be used to
create a <code class="docutils literal notranslate"><span class="pre">conanbuild.bat|sh|ps1</span></code> file aggregating all the launchers in order. The <code class="docutils literal notranslate"><span class="pre">conanbuild.sh|bat|ps1</span></code> launcher
will be created after the execution of the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">scope</span></code> argument (<code class="docutils literal notranslate"><span class="pre">&quot;build&quot;</span></code> by default) can be used to define different scope of environment files, to
aggregate them separately. For example, using a <code class="docutils literal notranslate"><span class="pre">scope=&quot;run&quot;</span></code>, like the <code class="docutils literal notranslate"><span class="pre">VirtualRunEnv</span></code> generator does, will
aggregate and create a <code class="docutils literal notranslate"><span class="pre">conanrun.bat|sh|ps1</span></code> script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">env1</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
    <span class="n">env1</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">)</span>
    <span class="n">envvars</span> <span class="o">=</span> <span class="n">env1</span><span class="o">.</span><span class="n">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;run&quot;</span><span class="p">)</span>
    <span class="c1"># Will append &quot;my_env_file&quot; to &quot;conanrun.bat|sh|ps1&quot;</span>
    <span class="n">envvars</span><span class="o">.</span><span class="n">save_script</span><span class="p">(</span><span class="s2">&quot;my_env_file&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">scope=None</span></code> argument to avoid appending the script to the aggregated <code class="docutils literal notranslate"><span class="pre">conanbuild.bat|sh|ps1</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">env1</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="n">env1</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">)</span>
<span class="c1"># Will not append &quot;my_env_file&quot; to &quot;conanbuild.bat|sh|ps1&quot;</span>
<span class="n">envvars</span> <span class="o">=</span> <span class="n">env1</span><span class="o">.</span><span class="n">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">envvars</span><span class="o">.</span><span class="n">save_script</span><span class="p">(</span><span class="s2">&quot;my_env_file&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="running-with-environment-files">
<h2>Running with environment files<a class="headerlink" href="#running-with-environment-files" title="Link to this heading">¬∂</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">conanbuild.bat|sh|ps1</span></code> launcher will be executed by default before calling every <code class="docutils literal notranslate"><span class="pre">self.run()</span></code> command. This
would be typically done in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method.</p>
<p>You can change the default launcher with the <code class="docutils literal notranslate"><span class="pre">env</span></code> argument of <code class="docutils literal notranslate"><span class="pre">self.run()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># This will automatically wrap the &quot;foo&quot; command with the correct environment:</span>
    <span class="c1"># source my_env_file.sh &amp;&amp; foo</span>
    <span class="c1"># my_env_file.bat &amp;&amp; foo</span>
    <span class="c1"># powershell my_env_file.ps1 ; cmd c/ foo</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;my_env_file&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="applying-the-environment-variables">
<h2>Applying the environment variables<a class="headerlink" href="#applying-the-environment-variables" title="Link to this heading">¬∂</a></h2>
<p>As an alternative to running a command, environments can be applied in the python environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan.tools.env</span><span class="w"> </span><span class="kn">import</span> <span class="n">Environment</span>

<span class="n">env1</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="n">env1</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">)</span>
<span class="n">envvars</span> <span class="o">=</span> <span class="n">env1</span><span class="o">.</span><span class="n">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="k">with</span> <span class="n">envvars</span><span class="o">.</span><span class="n">apply</span><span class="p">():</span>
   <span class="c1"># Here os.getenv(&quot;foo&quot;) == &quot;var&quot;</span>
   <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="iterating-the-variables">
<h2>Iterating the variables<a class="headerlink" href="#iterating-the-variables" title="Link to this heading">¬∂</a></h2>
<p>You can iterate the environment variables of an <code class="docutils literal notranslate"><span class="pre">EnvVars</span></code> object like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">env1</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="n">env1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">)</span>
<span class="n">env1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var2&quot;</span><span class="p">)</span>
<span class="n">envvars</span> <span class="o">=</span> <span class="n">env1</span><span class="o">.</span><span class="n">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">envvars</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;var var2&quot;</span>
</pre></div>
</div>
<p>The current value of the environment variable in the system is replaced in the returned
value. This happens when variables are appended or prepended. If a placeholder is desired
instead of the actual value, it is possible to use the <code class="docutils literal notranslate"><span class="pre">variable_reference</span></code> argument
with a jinja template syntax, so a string with that resolved template will be returned
instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">env1</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">()</span>
<span class="n">env1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;var&quot;</span><span class="p">)</span>
<span class="n">envvars</span> <span class="o">=</span> <span class="n">env1</span><span class="o">.</span><span class="n">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">envvars</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">variable_reference</span><span class="o">=</span><span class="s2">&quot;$penv{{</span><span class="si">{name}</span><span class="s2">}}&quot;&quot;):</span>
    <span class="k">assert</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span><span class="p">:</span>
    <span class="k">assert</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;$penv{{foo}} var&quot;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In Windows, there is a limit to the size of environment variables, a total of 32K for the whole environment,
but specifically the PATH variable has a limit of 2048 characters. That means that the above utils could hit
that limit, for example for large dependency graphs where all packages contribute to the PATH env-var.</p>
<p>This can be mitigated by:</p>
<ul class="simple">
<li><p>Putting the Conan cache closer to C:/ for shorter paths</p></li>
<li><p>Better definition of what dependencies can contribute to the PATH env-var</p></li>
<li><p>Other mechanisms for things like running with many shared libraries dependencies with too many .dlls, like <code class="docutils literal notranslate"><span class="pre">deployers</span></code></p></li>
</ul>
</div>
<section id="reference">
<h3>Reference<a class="headerlink" href="#reference" title="Link to this heading">¬∂</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="conan.tools.env.environment.EnvVars">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EnvVars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conanfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.environment.EnvVars" title="Link to this definition">¬∂</a></dt>
<dd><p>Represents an instance of environment variables for a given system. It is obtained from the generic Environment class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.environment.EnvVars.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.environment.EnvVars.get" title="Link to this definition">¬∂</a></dt>
<dd><p>get the value of a env-var</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> ‚Äì The name of the environment variable.</p></li>
<li><p><strong>default</strong> ‚Äì The returned value if the variable doesn‚Äôt exist, by default None.</p></li>
<li><p><strong>variable_reference</strong> ‚Äì if specified, use a variable reference instead of the
pre-existing value of environment variable, where {name}
can be used to refer to the name of the variable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.environment.EnvVars.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_reference</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.environment.EnvVars.items" title="Link to this definition">¬∂</a></dt>
<dd><p>returns {str: str} (varname: value)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>variable_reference</strong> ‚Äì if specified, use a variable reference instead of the
pre-existing value of environment variable, where {name}
can be used to refer to the name of the variable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.environment.EnvVars.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.environment.EnvVars.apply" title="Link to this definition">¬∂</a></dt>
<dd><p>Context manager to apply the declared variables to the current <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> restoring
the original environment when the context ends.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="conan.tools.env.environment.EnvVars.save_script">
<span class="sig-name descname"><span class="pre">save_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.env.environment.EnvVars.save_script" title="Link to this definition">¬∂</a></dt>
<dd><p>Saves a script file (bat, sh, ps1) with a launcher to set the environment.
If the conf ‚Äútools.env.virtualenv:powershell‚Äù is not an empty string
it will generate powershell
launchers if Windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> ‚Äì Name of the file to generate. If the extension is provided, it will generate
the launcher script for that extension, otherwise the format will be deduced
checking if we are running inside Windows (checking also the subsystem) or not.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="environment.html" class="btn btn-neutral float-left" title="Environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="virtualbuildenv.html" class="btn btn-neutral float-right" title="VirtualBuildEnv" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">Last updated on Feb 25, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 2.20
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.26/index.html">2.26</a></dd>
        
    
        
            <dd><a href="/2.25/index.html">2.25</a></dd>
        
    
        
            <dd><a href="/2.24/index.html">2.24</a></dd>
        
    
        
            <dd><a href="/2.23/index.html">2.23</a></dd>
        
    
        
            <dd><a href="/2.22/index.html">2.22</a></dd>
        
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.20/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>