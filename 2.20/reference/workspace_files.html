<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Workspace files &mdash; conan 2.20.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/reference/workspace_files.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f4a0ca01"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Recipe tools" href="tools.html" />
    <link rel="prev" title="conanfile.txt" href="conanfile_txt.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.20
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">What‚Äôs new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci_tutorial/tutorial.html">CI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Workspace files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="binary_model.html">The binary model</a></li>
<li class="toctree-l2"><a class="reference internal" href="conan_server.html">Conan Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="runners.html">Runners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  üìñ The Conan 2 essentials training is now available in the JFrog Academy for free.
                  <a href="https://academy.jfrog.com/conan-2-essentials?utm_source=Conan+Docs" target="_blank">Register now</a>.
                </p>
              </div>                                                  
          </div>
          
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/reference/workspace_files.html">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../reference.html">Reference</a></li>
      <li class="breadcrumb-item active">Workspace files</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/workspace_files.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="workspace-files">
<span id="reference-workspace-files"></span><h1>Workspace files<a class="headerlink" href="#workspace-files" title="Link to this heading">¬∂</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is part of the new incubating features. This means that it is under development, and looking for user
testing and feedback. For more info see <a class="reference internal" href="../incubating.html#incubating"><span class="std std-ref">Incubating section</span></a>.</p>
</div>
<p>Workspaces are defined by the <code class="docutils literal notranslate"><span class="pre">conanws.yml</span></code> and/or <code class="docutils literal notranslate"><span class="pre">conanws.py</span></code> files that will define the ‚Äúroot‚Äù workspace folder.</p>
<section id="conanws-yml">
<h2>conanws.yml<a class="headerlink" href="#conanws-yml" title="Link to this heading">¬∂</a></h2>
<p>The most basic implementation of a workspace is a <code class="docutils literal notranslate"><span class="pre">conanws.yml</span></code> file. It defines the workspace‚Äôs <code class="docutils literal notranslate"><span class="pre">packages</span></code> (editable packages).
For instance, a workspace <code class="docutils literal notranslate"><span class="pre">conanws.yml</span></code> defining 2 <code class="docutils literal notranslate"><span class="pre">packages</span></code> could be:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">conanws.yml</span><a class="headerlink" href="#id1" title="Link to this code">¬∂</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">packages</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dep1</span>
<span class="w">     </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dep1/0.1</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dep2</span>
<span class="w">     </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dep2/0.1</span>
</pre></div>
</div>
</div>
<p>Moreover, it could not have the <code class="docutils literal notranslate"><span class="pre">ref</span></code> field, and let Conan read the <em>name/version</em> from the respective <em>path/conanfile.py</em>:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">conanws.yml</span><a class="headerlink" href="#id2" title="Link to this code">¬∂</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">packages</span><span class="p">:</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dep1</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dep2</span>
</pre></div>
</div>
</div>
</section>
<section id="conanws-py">
<h2>conanws.py<a class="headerlink" href="#conanws-py" title="Link to this heading">¬∂</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">conanws.yml</span></code> can be extended with a way more powerful <code class="docutils literal notranslate"><span class="pre">conanws.py</span></code> that follows the same relationship as
a <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> does with its <code class="docutils literal notranslate"><span class="pre">conandata.yml</span></code>. If we want to dynamically define the <code class="docutils literal notranslate"><span class="pre">packages</span></code>, for example based
on the existence of some <code class="docutils literal notranslate"><span class="pre">name.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">version.txt</span></code> files in folders, the packages could be defined in <code class="docutils literal notranslate"><span class="pre">conanws.py</span></code> as:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">conanws.py</span><a class="headerlink" href="#id3" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workspace</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWorkspace</span><span class="p">(</span><span class="n">Workspace</span><span class="p">):</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">packages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">):</span>
         <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span> <span class="n">f</span><span class="p">)):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="s2">&quot;name.txt&quot;</span><span class="p">))</span> <span class="k">as</span> <span class="n">fname</span><span class="p">:</span>
               <span class="n">name</span> <span class="o">=</span> <span class="n">fname</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="s2">&quot;version.txt&quot;</span><span class="p">))</span> <span class="k">as</span> <span class="n">fversion</span><span class="p">:</span>
               <span class="n">version</span> <span class="o">=</span> <span class="n">fversion</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">})</span>
      <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
<p>It is also possible to re-use the <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> logic in <code class="docutils literal notranslate"><span class="pre">set_name()</span></code> and <code class="docutils literal notranslate"><span class="pre">set_version()</span></code>
methods, using the <code class="docutils literal notranslate"><span class="pre">Workspace.load_conanfile()</span></code> helper:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">conanws.py</span><a class="headerlink" href="#id4" title="Link to this code">¬∂</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">Workspace</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWorkspace</span><span class="p">(</span><span class="n">Workspace</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">packages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">):</span>
         <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">folder</span><span class="p">,</span> <span class="n">f</span><span class="p">)):</span>
            <span class="n">conanfile</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_conanfile</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">f</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">conanfile</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">conanfile</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">})</span>
      <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
<section id="conanws-py-super-build-options">
<h3>conanws.py super-build options<a class="headerlink" href="#conanws-py-super-build-options" title="Link to this heading">¬∂</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">conanws.py</span></code> used for a super-build workspaces file can manage options in two different ways:</p>
<ul class="simple">
<li><p>It can define its own <code class="docutils literal notranslate"><span class="pre">options</span></code> with the normal <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> syntax, so the generated <code class="docutils literal notranslate"><span class="pre">conan_toolchain.cmake</span></code> for the super-project uses those inputs.</p></li>
<li><p>It can collect the options of the workspace‚Äôs packages with the <code class="docutils literal notranslate"><span class="pre">workspace_packages_options</span></code> and process them in any user-custom way.</p></li>
</ul>
<p><strong>super-project options</strong></p>
<p>A <code class="docutils literal notranslate"><span class="pre">conanws.py</span></code> must define the options for the super-build in the <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> class, and use those options in the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method, as it usually happens with <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> files, something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">Workspace</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWs</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
   <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;myoption&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generating with my option </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">myoption</span><span class="si">}</span><span class="s2">!!!!&quot;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Ws</span><span class="p">(</span><span class="n">Workspace</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">root_conanfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">MyWs</span>
</pre></div>
</div>
<p>Then, options can be provided with the usual syntax, via profiles or command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>workspace<span class="w"> </span>super-install<span class="w"> </span>-of<span class="o">=</span>build<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;*:myoption=1&quot;</span>
&gt;<span class="w"> </span>conanws.py<span class="w"> </span>base<span class="w"> </span>project<span class="w"> </span>Conanfile:<span class="w"> </span>Generating<span class="w"> </span>with<span class="w"> </span>my<span class="w"> </span>option<span class="w"> </span><span class="m">1</span>!!!!
</pre></div>
</div>
<p>Note there can be overlap with the <code class="docutils literal notranslate"><span class="pre">options</span></code> defined in the workspace packages, as for super-projects those options are simply ignored, and only the options of the super-project are taken into account to generate the <code class="docutils literal notranslate"><span class="pre">conan_toolchain.cmake</span></code>. For example, the <code class="docutils literal notranslate"><span class="pre">conanws.py</span></code> can define a <code class="docutils literal notranslate"><span class="pre">shared</span></code> option if it is desired that the <code class="docutils literal notranslate"><span class="pre">conan_toolchain.cmake</span></code> will correctly define <code class="docutils literal notranslate"><span class="pre">BUILD_SHARED_LIBS</span></code> or not when defining something like <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">&quot;*:shared=True&quot;</span></code>, as the workspace packages having the <code class="docutils literal notranslate"><span class="pre">shared</span></code> option information is discarded when the workspace packages are collapsed in the dependency graph to model the super-project.</p>
<p><strong>packages options</strong></p>
<p>The second alternative is to collect the <code class="docutils literal notranslate"><span class="pre">options</span></code> of the workspace packages that have been collapsed. Recall that in the final dependency graph, the workspace packages are no longer represented, as they are no longer individual packages but part as the current super-build. The way to access their options information is via the <code class="docutils literal notranslate"><span class="pre">workspace_packages_options</span></code>, and that information can be used in the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method to do any desired action at the super-build project level.</p>
<p>So let‚Äôs say that a workspace containing a <code class="docutils literal notranslate"><span class="pre">dep/0.1</span></code> package that contains the standard <code class="docutils literal notranslate"><span class="pre">shared</span></code> options defines the following super-build <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">Workspace</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyWs</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">for</span> <span class="n">pkg</span><span class="p">,</span> <span class="n">options</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workspace_packages_options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
         <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generating with opt </span><span class="si">{</span><span class="n">pkg</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">!!!!&quot;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Ws</span><span class="p">(</span><span class="n">Workspace</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">root_conanfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">MyWs</span>
</pre></div>
</div>
<p>Then, when the workspace package options are defined, the workspace <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> can collect them.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>workspace<span class="w"> </span>super-install<span class="w"> </span>-of<span class="o">=</span>build<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;*:shared=True&quot;</span>
&gt;<span class="w"> </span>conanws.py<span class="w"> </span>base<span class="w"> </span>project<span class="w"> </span>Conanfile:<span class="w"> </span>Generating<span class="w"> </span>with<span class="w"> </span>opt<span class="w"> </span>dep/0.1:shared<span class="o">=</span>True!!!!!!!!
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In practice it is the responsibility of the workspace creator to define what to do with the options, either by defining its own options or collecting the workspace packages ones. Note it is not possible to automatically map workspace packages options to the super-project, as options are defined per-package. Two different packages could have different <code class="docutils literal notranslate"><span class="pre">shared=True</span></code> and <code class="docutils literal notranslate"><span class="pre">shared=False</span></code> values. Also, very often, the effect on the generated toolchain files is custom and implemented in each package <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method. This effect is programmatic (not declarative), it would be extremely challenging to aggregate all these effects in a single toolchain.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Read <a class="reference internal" href="../tutorial/developing_packages/workspaces.html#tutorial-workspaces"><span class="std std-ref">the Workspace tutorial</span></a> section.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="conanfile_txt.html" class="btn btn-neutral float-left" title="conanfile.txt" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tools.html" class="btn btn-neutral float-right" title="Recipe tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">Last updated on Sep 29, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 2.20
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.20/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>