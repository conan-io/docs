<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROS &mdash; conan 2.18.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=2da93098" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../_static/css/conan.css?v=7d9e9f1e" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/integrations/ros.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=fba2d065"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GitHub" href="github.html" />
    <link rel="prev" title="JFrog" href="jfrog.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-docs-logo-2.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.18
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">Whatâ€™s new in Conan 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci_tutorial/tutorial.html">CI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devops/devops.html">Devops guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/security.html">Security</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../integrations.html">Integrations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cmake.html"> CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="clion.html"> CLion</a></li>
<li class="toctree-l2"><a class="reference internal" href="visual_studio.html"> Visual Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="autotools.html"> Autotools</a></li>
<li class="toctree-l2"><a class="reference internal" href="bazel.html"> Bazel</a></li>
<li class="toctree-l2"><a class="reference internal" href="makefile.html"> Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="xcode.html"> Xcode</a></li>
<li class="toctree-l2"><a class="reference internal" href="meson.html"> Meson</a></li>
<li class="toctree-l2"><a class="reference internal" href="emscripten.html"> Emscripten</a></li>
<li class="toctree-l2"><a class="reference internal" href="premake.html"> Premake</a></li>
<li class="toctree-l2"><a class="reference internal" href="android.html"> Android</a></li>
<li class="toctree-l2"><a class="reference internal" href="jfrog.html"> JFrog</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"> ROS</a></li>
<li class="toctree-l2"><a class="reference internal" href="github.html"> GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="community.html">Community</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../incubating.html">Incubating features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  ðŸ“– The Conan 2 essentials training is now available in the JFrog Academy for free.
                  <a href="https://academy.jfrog.com/conan-2-essentials?utm_source=Conan+Docs" target="_blank">Register now</a>.
                </p>
              </div>                                                  
          </div>
          
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/integrations/ros.html">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../integrations.html">Integrations</a></li>
      <li class="breadcrumb-item active"> ROS</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/develop2/integrations/ros.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ros-logo-ros">
<span id="integrations-ros"></span><h1><img alt="ros_logo" src="../_images/conan-ros-logo.png" /> ROS<a class="headerlink" href="#ros-logo-ros" title="Link to this heading">Â¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is experimental and subject to breaking changes.
See <a class="reference internal" href="../introduction.html#stability"><span class="std std-ref">the Conan stability</span></a> section for more information.</p>
</div>
<p>Conan provides integration for your Robot Operating System (ROS) C/C++ based projects.
This will allow you to consume Conan packages inside your ROS package projects.
The Conan packages can be installed and used in CMake with the help of the <a class="reference internal" href="../reference/tools/ros/rosenv.html#conan-tools-ros-rosenv"><span class="std std-ref">ROSEnv generator</span></a> created
for the purpose.</p>
<p>It provides a clean integration that requires no Conan-specific modifications in your <em>CMakeLists.txt</em>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This integration supports <strong>ROS2</strong>, it has been developed using its <strong>Humble version</strong> and the aim is to <strong>support newer versions going forward</strong>.
If you have any issues with other ROS versions, please let us know by opening an issue in our GitHub repository.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Pre-requisites to run the example:</strong></p>
<ol class="arabic">
<li><p>In order to run the example, it is expected that you have an Ubuntu environment (22.04 LTS preferred) with <a class="reference external" href="https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debs.html">ROS2 Humble version installed</a>. For convenience, you can also use this Docker File instead:</p>
<div class="highlight-docker notranslate"><div class="highlight"><pre><span></span><span class="k">FROM</span><span class="w"> </span><span class="s">osrf/ros:humble-desktop</span>
<span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span><span class="se">\</span>
curl<span class="w"> </span><span class="se">\</span>
python3-pip<span class="w"> </span><span class="se">\</span>
git<span class="w"> </span><span class="se">\</span>
ros-humble-nav2-msgs<span class="w"> </span><span class="se">\</span>
<span class="o">&amp;&amp;</span><span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/var/lib/apt/lists/*
<span class="k">RUN</span><span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span><span class="nv">conan</span><span class="o">==</span><span class="m">2</span>.*
<span class="k">RUN</span><span class="w"> </span>conan<span class="w"> </span>profile<span class="w"> </span>detect
<span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;bash&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
<p>Simply copy the Dockerfile, build your image with <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">build</span> <span class="pre">-t</span> <span class="pre">conanio/ros-humble</span> <span class="pre">.</span></code>, and finally run it with <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">-it</span> <span class="pre">conanio/ros-humble</span></code>.</p>
<ol class="arabic" start="2">
<li><p>The files for this example can be found at <a class="reference external" href="https://github.com/conan-io/examples2/tree/main/examples/tools/ros/rosenv/workspace">our examples repository</a>.
Clone it like so to get started:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/conan-io/examples2.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>examples2/examples/tools/ros/rosenv
</pre></div>
</div>
</li>
</ol>
</div>
<section id="consuming-conan-packages-using-the-rosenv-generator">
<h2>Consuming Conan packages using the ROSEnv generator<a class="headerlink" href="#consuming-conan-packages-using-the-rosenv-generator" title="Link to this heading">Â¶</a></h2>
<p>Imagine we have a ROS C++ package called <cite>str_printer</cite> that uses some functionality from the
third party string formatting library <a class="reference external" href="https://conan.io/center/recipes/fmt">fmt</a> to print fancy strings.</p>
<p>We have the following project structure:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w">  </span>tree<span class="w"> </span>/f
workspace
â”œâ”€â”€â”€str_printer
â”‚<span class="w">   </span>â”‚<span class="w">   </span>CMakeLists.txt
â”‚<span class="w">   </span>â”‚<span class="w">   </span>conanfile.txt
â”‚<span class="w">   </span>â”‚<span class="w">   </span>package.xml
â”‚<span class="w">   </span>â”œâ”€â”€â”€include
â”‚<span class="w">   </span>â”‚<span class="w">   </span>â””â”€â”€str_printer
â”‚<span class="w">   </span>â”‚<span class="w">         </span>str_printer.h
â”‚<span class="w">   </span>â””â”€â”€â”€src
â”‚<span class="w">          </span>str_printer.cpp
â””â”€â”€â”€consumer
<span class="w">    </span>â”‚<span class="w">   </span>CMakeLists.txt
<span class="w">    </span>â”‚<span class="w">   </span>package.xml
<span class="w">    </span>â””â”€â”€â”€src
<span class="w">           </span>main.cpp
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p>The <cite>str_printer</cite> is a ROS package that implements a function and <strong>depends on the fmt Conan package</strong>.</p></li>
<li><p>The <cite>consumer</cite> is also a ROS package that depends on the <cite>str_printer</cite> ROS package and uses its functionality in a <strong>final executable</strong>.</p></li>
</ul>
<p>The only difference in the <cite>str_printer</cite> package with respect to a normal ROS package is that it includes a <em>conanfile.txt</em> file.
This is the file used by Conan to install the required dependencies and generate the files needed to perform the build.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">str_printer/conanfile.txt</span><a class="headerlink" href="#id1" title="Link to this code">Â¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> [requires]
 fmt/11.0.2

 [generators]
 CMakeDeps
 CMakeToolchain
 ROSEnv
</pre></div>
</div>
</div>
<p>In this case, we will install the 11.0.2 version of <cite>fmt</cite> and Conan will generate files for CMake and ROS so we can build the <cite>str_printer</cite> package later.</p>
<p>To install the <cite>fmt</cite> library using Conan we should do the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>workspace
$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>str_printer/conanfile.txt<span class="w"> </span>--build<span class="w"> </span>missing<span class="w"> </span>--output-folder<span class="w"> </span>install/conan
<span class="o">========</span><span class="w"> </span>Computing<span class="w"> </span>dependency<span class="w"> </span><span class="nv">graph</span><span class="w"> </span><span class="o">========</span>
fmt/11.0.2:<span class="w"> </span>Not<span class="w"> </span>found<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span>cache,<span class="w"> </span>looking<span class="w"> </span><span class="k">in</span><span class="w"> </span>remotes...
fmt/11.0.2:<span class="w"> </span>Checking<span class="w"> </span>remote:<span class="w"> </span>conancenter
fmt/11.0.2:<span class="w"> </span>Downloaded<span class="w"> </span>recipe<span class="w"> </span>revision<span class="w"> </span>5c7438ef4d5d69ab106a41e460ce11f3
Graph<span class="w"> </span>root
<span class="w">    </span>conanfile.txt:<span class="w"> </span>/home/user/examples2/examples/tools/ros/rosenv/workspace/str_printer/conanfile.txt
Requirements
<span class="w">    </span>fmt/11.0.2#5c7438ef4d5d69ab106a41e460ce11f3<span class="w"> </span>-<span class="w"> </span>Downloaded<span class="w"> </span><span class="o">(</span>conancenter<span class="o">)</span>

<span class="o">========</span><span class="w"> </span>Computing<span class="w"> </span>necessary<span class="w"> </span><span class="nv">packages</span><span class="w"> </span><span class="o">========</span>
Requirements
<span class="w">    </span>fmt/11.0.2#5c7438ef4d5d69ab106a41e460ce11f3:29da3f322a17cc9826b294a7ab191c2f298a9f49#d8d27fde7061f89f7992c671d98ead71<span class="w"> </span>-<span class="w"> </span>Download<span class="w"> </span><span class="o">(</span>conancenter<span class="o">)</span>

<span class="o">========</span><span class="w"> </span>Installing<span class="w"> </span><span class="nv">packages</span><span class="w"> </span><span class="o">========</span>

--------<span class="w"> </span>Downloading<span class="w"> </span><span class="m">1</span><span class="w"> </span>package<span class="w"> </span>--------
fmt/11.0.2:<span class="w"> </span>Retrieving<span class="w"> </span>package<span class="w"> </span>29da3f322a17cc9826b294a7ab191c2f298a9f49<span class="w"> </span>from<span class="w"> </span>remote<span class="w"> </span><span class="s1">&#39;conancenter&#39;</span>
fmt/11.0.2:<span class="w"> </span>Package<span class="w"> </span>installed<span class="w"> </span>29da3f322a17cc9826b294a7ab191c2f298a9f49
fmt/11.0.2:<span class="w"> </span>Downloaded<span class="w"> </span>package<span class="w"> </span>revision<span class="w"> </span><span class="nv">d8d27fde7061f89f7992c671d98ead71</span>

<span class="o">========</span><span class="w"> </span>Finalizing<span class="w"> </span>install<span class="w"> </span><span class="o">(</span>deploy,<span class="w"> </span>generators<span class="o">)</span><span class="w"> </span><span class="o">========</span>
conanfile.txt:<span class="w"> </span>Writing<span class="w"> </span>generators<span class="w"> </span>to<span class="w"> </span>/home/user/examples2/examples/tools/ros/rosenv/workspace/install/conan
conanfile.txt:<span class="w"> </span>Generator<span class="w"> </span><span class="s1">&#39;CMakeDeps&#39;</span><span class="w"> </span>calling<span class="w"> </span><span class="s1">&#39;generate()&#39;</span>
conanfile.txt:<span class="w"> </span>CMakeDeps<span class="w"> </span>necessary<span class="w"> </span>find_package<span class="o">()</span><span class="w"> </span>and<span class="w"> </span>targets<span class="w"> </span><span class="k">for</span><span class="w"> </span>your<span class="w"> </span>CMakeLists.txt
<span class="w">    </span>find_package<span class="o">(</span>fmt<span class="o">)</span>
<span class="w">    </span>target_link_libraries<span class="o">(</span>...<span class="w"> </span>fmt::fmt<span class="o">)</span>
conanfile.txt:<span class="w"> </span>Generator<span class="w"> </span><span class="s1">&#39;CMakeToolchain&#39;</span><span class="w"> </span>calling<span class="w"> </span><span class="s1">&#39;generate()&#39;</span>
conanfile.txt:<span class="w"> </span>CMakeToolchain<span class="w"> </span>generated:<span class="w"> </span>conan_toolchain.cmake
conanfile.txt:<span class="w"> </span>Preset<span class="w"> </span><span class="s1">&#39;conan-release&#39;</span><span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>CMakePresets.json.<span class="w"> </span>Invoke<span class="w"> </span>it<span class="w"> </span>manually<span class="w"> </span>using<span class="w"> </span><span class="s1">&#39;cmake --preset conan-release&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span>using<span class="w"> </span>CMake&gt;<span class="o">=</span><span class="m">3</span>.23
conanfile.txt:<span class="w"> </span>If<span class="w"> </span>your<span class="w"> </span>CMake<span class="w"> </span>version<span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>compatible<span class="w"> </span>with<span class="w"> </span>CMakePresets<span class="w"> </span><span class="o">(</span>&lt;<span class="m">3</span>.23<span class="o">)</span><span class="w"> </span>call<span class="w"> </span>cmake<span class="w"> </span>like:<span class="w"> </span><span class="s1">&#39;cmake &lt;path&gt; -G &quot;Unix Makefiles&quot; -DCMAKE_TOOLCHAIN_FILE=/home/danimtb/examples2/examples/tools/ros/rosenv/workspace/install/conan/conan_toolchain.cmake -DCMAKE_POLICY_DEFAULT_CMP0091=NEW -DCMAKE_BUILD_TYPE=Release&#39;</span>
conanfile.txt:<span class="w"> </span>CMakeToolchain<span class="w"> </span>generated:<span class="w"> </span>CMakePresets.json
conanfile.txt:<span class="w"> </span>CMakeToolchain<span class="w"> </span>generated:<span class="w"> </span>../../str_printer/CMakeUserPresets.json
conanfile.txt:<span class="w"> </span>Generator<span class="w"> </span><span class="s1">&#39;ROSEnv&#39;</span><span class="w"> </span>calling<span class="w"> </span><span class="s1">&#39;generate()&#39;</span>
conanfile.txt:<span class="w"> </span>Generated<span class="w"> </span>ROSEnv<span class="w"> </span>Conan<span class="w"> </span>file:<span class="w"> </span>conanrosenv.sh
Use<span class="w"> </span><span class="s1">&#39;source /home/user/examples2/examples/tools/ros/rosenv/workspace/install/conan/conanrosenv.sh&#39;</span><span class="w"> </span>to<span class="w"> </span><span class="nb">set</span><span class="w"> </span>the<span class="w"> </span>ROSEnv<span class="w"> </span>Conan<span class="w"> </span>before<span class="w"> </span><span class="s1">&#39;colcon build&#39;</span>
conanfile.txt:<span class="w"> </span>Generating<span class="w"> </span>aggregated<span class="w"> </span>env<span class="w"> </span>files
conanfile.txt:<span class="w"> </span>Generated<span class="w"> </span>aggregated<span class="w"> </span>env<span class="w"> </span>files:<span class="w"> </span><span class="o">[</span><span class="s1">&#39;conanrosenv.sh&#39;</span><span class="o">]</span>
Install<span class="w"> </span>finished<span class="w"> </span>successfully
</pre></div>
</div>
<p>This will download the <cite>fmt</cite> Conan package to the local cache and generate the CMake and ROS environment files
in the <cite>conan</cite> subfolder of the <cite>install</cite> directory.</p>
<p>Now we can source our ROS environment, then <strong>source the Conan ROSEnv environment</strong>, so the conan-installed package are found by CMake, and then
we can build the <cite>str_printer</cite> package as usual with Colcon.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>/opt/ros/humble/setup.bash
$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>install/conan/conanrosenv.sh
$<span class="w"> </span>colcon<span class="w"> </span>build<span class="w"> </span>--packages-select<span class="w"> </span>str_printer
Starting<span class="w"> </span>&gt;&gt;&gt;<span class="w"> </span>str_printer
Finished<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span>str_printer<span class="w"> </span><span class="o">[</span><span class="m">10</span>.8s<span class="o">]</span>

Summary:<span class="w"> </span><span class="m">1</span><span class="w"> </span>package<span class="w"> </span>finished<span class="w"> </span><span class="o">[</span><span class="m">12</span>.4s<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="bridging-the-conan-provided-transitive-dependencies-to-another-ros-package">
<h2>Bridging the Conan-provided transitive dependencies to another ROS package<a class="headerlink" href="#bridging-the-conan-provided-transitive-dependencies-to-another-ros-package" title="Link to this heading">Â¶</a></h2>
<p>As the <cite>consumer</cite> ROS package depends on <cite>str_printer</cite>, the targets of transitive dependencies should be exported.
This is done as usual in the <cite>str_printers</cite>â€™s <em>CMakeLists.txt</em> using <cite>ament_export_dependencies()</cite>:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">str_printer/CMakeLists.txt</span><a class="headerlink" href="#id2" title="Link to this code">Â¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> cmake_minimum_required(VERSION 3.8)
 project(str_printer)

 if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES &quot;Clang&quot;)
 add_compile_options(-Wall -Wextra -Wpedantic)
 endif()

 # find dependencies
 find_package(ament_cmake REQUIRED)
<span class="hll"> find_package(fmt REQUIRED)  # Retrieved with Conan C/C++ Package Manager
</span>
 add_library(str_printer src/str_printer.cpp)

 target_include_directories(str_printer PUBLIC
 $&lt;BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include/str_printer&gt;
 $&lt;INSTALL_INTERFACE:include&gt;)

 target_compile_features(str_printer PUBLIC c_std_99 cxx_std_17)  # Require C99 and C++17
 ament_target_dependencies(str_printer fmt)

 ament_export_targets(str_printerTargets HAS_LIBRARY_TARGET)
<span class="hll"> ament_export_dependencies(fmt)
</span>
 install(
 DIRECTORY include/
 DESTINATION include
 )

 install(
 TARGETS str_printer
 EXPORT str_printerTargets
 LIBRARY DESTINATION lib
 ARCHIVE DESTINATION lib
 RUNTIME DESTINATION bin
 INCLUDES DESTINATION include
 )

 ament_package()
</pre></div>
</div>
</div>
<p>To build the <cite>consumer</cite> ROS package, you can proceed as usual (make sure
that you have both the ROS environment and the Conan ROSEnv environment <em>sourced</em> before building as in previous step):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>colcon<span class="w"> </span>build<span class="w"> </span>--packages-select<span class="w"> </span>consumer
Starting<span class="w"> </span>&gt;&gt;&gt;<span class="w"> </span>consumer
Finished<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span>consumer<span class="w"> </span><span class="o">[</span><span class="m">7</span>.9s<span class="o">]</span>

Summary:<span class="w"> </span><span class="m">1</span><span class="w"> </span>package<span class="w"> </span>finished<span class="w"> </span><span class="o">[</span><span class="m">9</span>.4s<span class="o">]</span>
</pre></div>
</div>
<p>And after this, our <cite>consumer</cite> application should be ready to run with just:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>install/setup.bash
$<span class="w"> </span>ros2<span class="w"> </span>run<span class="w"> </span>consumer<span class="w"> </span>main
Hi<span class="w"> </span>there!<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>using<span class="w"> </span>fmt<span class="w"> </span>library<span class="w"> </span>fetched<span class="w"> </span>with<span class="w"> </span>Conan<span class="w"> </span>C/C++<span class="w"> </span>Package<span class="w"> </span>Manager
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>Reference for <a class="reference internal" href="../reference/tools/ros/rosenv.html#conan-tools-ros-rosenv"><span class="std std-ref">ROSEnv generator</span></a>.</p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jfrog.html" class="btn btn-neutral float-left" title="JFrog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="github.html" class="btn btn-neutral float-right" title="GitHub" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2024, JFrog.
      <span class="lastupdated">Last updated on Sep 29, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 2.18
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.18/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>