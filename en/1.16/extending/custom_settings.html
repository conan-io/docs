



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Customizing settings &mdash; conan 1.16.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="conan 1.16.1 documentation" href="../index.html"/>
        <link rel="up" title="Extending Conan" href="../extending.html"/>
        <link rel="next" title="Python requires: reusing code [EXPERIMENTAL]" href="python_requires.html"/>
        <link rel="prev" title="Extending Conan" href="../extending.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../_static/conan_logo.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../extending.html">Extending Conan</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Customizing settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-settings">Adding new settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-new-sub-settings">Adding new sub-settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-new-values">Add new values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python_requires.html">Python requires: reusing code [EXPERIMENTAL]</a></li>
<li class="toctree-l2"><a class="reference internal" href="hooks.html">Hooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../extending.html">Extending Conan</a> &raquo;</li>
        
      <li>Customizing settings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/extending/custom_settings.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="customizing-settings">
<span id="custom-settings"></span><h1>Customizing settings<a class="headerlink" href="#customizing-settings" title="Permalink to this headline">¶</a></h1>
<p>There is a file in <em>&lt;userhome&gt;/.conan/settings.yml</em> that contains a default definition
of the allowed <code class="docutils literal notranslate"><span class="pre">settings</span></code> values for Conan package recipes. It looks like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">os</span><span class="p">:</span>
    <span class="nt">Windows</span><span class="p">:</span>
        <span class="nt">subsystem</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">cygwin</span><span class="p p-Indicator">,</span> <span class="nv">msys</span><span class="p p-Indicator">,</span> <span class="nv">msys2</span><span class="p p-Indicator">,</span> <span class="nv">wsl</span><span class="p p-Indicator">]</span>
    <span class="nt">Linux</span><span class="p">:</span>
    <span class="nt">Macos</span><span class="p">:</span>
        <span class="nt">version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.6&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.7&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.8&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.9&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.10&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.11&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.12&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.13&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.14&quot;</span><span class="p p-Indicator">]</span>
    <span class="nt">Android</span><span class="p">:</span>
        <span class="nt">api_level</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ANY</span>
    <span class="nt">iOS</span><span class="p">:</span>
        <span class="nt">version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;7.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;7.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;8.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;8.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;8.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;8.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;9.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;9.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;9.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;9.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;11.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;11.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;11.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;11.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;11.4&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;12.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;12.1&quot;</span><span class="p p-Indicator">]</span>
    <span class="nt">watchOS</span><span class="p">:</span>
        <span class="nt">version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;4.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.0&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.1&quot;</span><span class="p p-Indicator">]</span>
    <span class="nt">FreeBSD</span><span class="p">:</span>
    <span class="nt">SunOS</span><span class="p">:</span>
    <span class="nt">Emscripten</span><span class="p">:</span>
<span class="nt">arch</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">x86</span><span class="p p-Indicator">,</span> <span class="nv">x86_64</span><span class="p p-Indicator">,</span> <span class="nv">ppc32</span><span class="p p-Indicator">,</span> <span class="nv">ppc64le</span><span class="p p-Indicator">,</span> <span class="nv">ppc64</span><span class="p p-Indicator">,</span> <span class="nv">armv4</span><span class="p p-Indicator">,</span> <span class="nv">armv4i</span><span class="p p-Indicator">,</span> <span class="nv">armv5el</span><span class="p p-Indicator">,</span> <span class="nv">armv5hf</span><span class="p p-Indicator">,</span> <span class="nv">armv6</span><span class="p p-Indicator">,</span> <span class="nv">armv7</span><span class="p p-Indicator">,</span> <span class="nv">armv7hf</span><span class="p p-Indicator">,</span> <span class="nv">armv7s</span><span class="p p-Indicator">,</span> <span class="nv">armv7k</span><span class="p p-Indicator">,</span> <span class="nv">armv8</span><span class="p p-Indicator">,</span> <span class="nv">armv8_32</span><span class="p p-Indicator">,</span> <span class="nv">armv8.3</span><span class="p p-Indicator">,</span> <span class="nv">sparc</span><span class="p p-Indicator">,</span> <span class="nv">sparcv9</span><span class="p p-Indicator">,</span> <span class="nv">mips</span><span class="p p-Indicator">,</span> <span class="nv">mips64</span><span class="p p-Indicator">,</span> <span class="nv">avr</span><span class="p p-Indicator">,</span> <span class="nv">s390</span><span class="p p-Indicator">,</span> <span class="nv">s390x</span><span class="p p-Indicator">,</span> <span class="nv">asm.js</span><span class="p p-Indicator">,</span> <span class="nv">wasm</span><span class="p p-Indicator">]</span>
<span class="nt">compiler</span><span class="p">:</span>
    <span class="nt">gcc</span><span class="p">:</span>
        <span class="nt">version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;4.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.4&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.5&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.6&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.7&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.8&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;4.9&quot;</span><span class="p p-Indicator">,</span>
                <span class="s">&quot;5&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.4&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;5.5&quot;</span><span class="p p-Indicator">,</span>
                <span class="s">&quot;6&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;6.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;6.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;6.3&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;6.4&quot;</span><span class="p p-Indicator">,</span>
                <span class="s">&quot;7&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;7.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;7.2&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;7.3&quot;</span><span class="p p-Indicator">,</span>
                <span class="s">&quot;8&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;8.1&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;8.2&quot;</span><span class="p p-Indicator">,</span>
                <span class="s">&quot;9&quot;</span><span class="p p-Indicator">]</span>
        <span class="nt">libcxx</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">libstdc++</span><span class="p p-Indicator">,</span> <span class="nv">libstdc++11</span><span class="p p-Indicator">]</span>
        <span class="nt">threads</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">posix</span><span class="p p-Indicator">,</span> <span class="nv">win32</span><span class="p p-Indicator">]</span> <span class="c1">#  Windows MinGW</span>
        <span class="nt">exception</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">dwarf2</span><span class="p p-Indicator">,</span> <span class="nv">sjlj</span><span class="p p-Indicator">,</span> <span class="nv">seh</span><span class="p p-Indicator">]</span> <span class="c1"># Windows MinGW</span>
        <span class="nt">cppstd</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">98</span><span class="p p-Indicator">,</span> <span class="nv">gnu98</span><span class="p p-Indicator">,</span> <span class="nv">11</span><span class="p p-Indicator">,</span> <span class="nv">gnu11</span><span class="p p-Indicator">,</span> <span class="nv">14</span><span class="p p-Indicator">,</span> <span class="nv">gnu14</span><span class="p p-Indicator">,</span> <span class="nv">17</span><span class="p p-Indicator">,</span> <span class="nv">gnu17</span><span class="p p-Indicator">,</span> <span class="nv">20</span><span class="p p-Indicator">,</span> <span class="nv">gnu20</span><span class="p p-Indicator">]</span>
    <span class="nt">Visual Studio</span><span class="p">:</span>
        <span class="nt">runtime</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">MD</span><span class="p p-Indicator">,</span> <span class="nv">MT</span><span class="p p-Indicator">,</span> <span class="nv">MTd</span><span class="p p-Indicator">,</span> <span class="nv">MDd</span><span class="p p-Indicator">]</span>
        <span class="nt">version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;8&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;9&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;10&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;11&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;12&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;14&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;15&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;16&quot;</span><span class="p p-Indicator">]</span>
        <span class="nt">toolset</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">v90</span><span class="p p-Indicator">,</span> <span class="nv">v100</span><span class="p p-Indicator">,</span> <span class="nv">v110</span><span class="p p-Indicator">,</span> <span class="nv">v110_xp</span><span class="p p-Indicator">,</span> <span class="nv">v120</span><span class="p p-Indicator">,</span> <span class="nv">v120_xp</span><span class="p p-Indicator">,</span>
                <span class="nv">v140</span><span class="p p-Indicator">,</span> <span class="nv">v140_xp</span><span class="p p-Indicator">,</span> <span class="nv">v140_clang_c2</span><span class="p p-Indicator">,</span> <span class="nv">LLVM-vs2012</span><span class="p p-Indicator">,</span> <span class="nv">LLVM-vs2012_xp</span><span class="p p-Indicator">,</span>
                <span class="nv">LLVM-vs2013</span><span class="p p-Indicator">,</span> <span class="nv">LLVM-vs2013_xp</span><span class="p p-Indicator">,</span> <span class="nv">LLVM-vs2014</span><span class="p p-Indicator">,</span> <span class="nv">LLVM-vs2014_xp</span><span class="p p-Indicator">,</span>
                <span class="nv">LLVM-vs2017</span><span class="p p-Indicator">,</span> <span class="nv">LLVM-vs2017_xp</span><span class="p p-Indicator">,</span> <span class="nv">v141</span><span class="p p-Indicator">,</span> <span class="nv">v141_xp</span><span class="p p-Indicator">,</span> <span class="nv">v141_clang_c2</span><span class="p p-Indicator">,</span> <span class="nv">v142</span><span class="p p-Indicator">]</span>
        <span class="nt">cppstd</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">14</span><span class="p p-Indicator">,</span> <span class="nv">17</span><span class="p p-Indicator">,</span> <span class="nv">20</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>This are the <strong>default</strong> settings and values. They are a common syntax and notation for having package binary
IDs that are common to all developers. They are also used for validation, for example if you write in a profile
<code class="docutils literal notranslate"><span class="pre">[settings]</span></code> something like <code class="docutils literal notranslate"><span class="pre">os=Windos</span></code> (note the typo), then it will raise an error, telling you it is not
a recognized <code class="docutils literal notranslate"><span class="pre">os</span></code> and offering a list of available <code class="docutils literal notranslate"><span class="pre">os</span></code>. Also, note how the sub-settings are different for
different platforms, for example the standard C++ library (<code class="docutils literal notranslate"><span class="pre">compiler.libcxx</span></code>) exists for the <code class="docutils literal notranslate"><span class="pre">gcc</span></code> compiler,
but not for <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> compiler. And in the same way, <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> has a <code class="docutils literal notranslate"><span class="pre">runtime</span></code> sub-setting that
is missing in <code class="docutils literal notranslate"><span class="pre">gcc</span></code>. Trying to incorrectly use or define these sub-settings in the wrong compiler will also
raise an error.</p>
<p>These settings are good for defining a base for Open Source packages, and for a large number of mainstream
configurations. But it is likely that you might need finer detail of definition of the binaries that are being
created.</p>
<p>For example, it is possible that you are managing binaries for older Linux distros, like RHEL 6, or old Centos,
besides other modern distributions. The problem is that the binaries compiled for modern distributions will
not work (will not be binary compatible, or ABI incompatible) in those older distributions, mainly because of
different versions of glibc. We would need a way to model the differences of the binaries for those platforms.</p>
<div class="section" id="adding-new-settings">
<h2>Adding new settings<a class="headerlink" href="#adding-new-settings" title="Permalink to this headline">¶</a></h2>
<p>It is possible to add new settings at the root of the <em>settings.yml</em> file, something like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">os</span><span class="p">:</span>
    <span class="nt">Windows</span><span class="p">:</span>
        <span class="nt">subsystem</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">cygwin</span><span class="p p-Indicator">,</span> <span class="nv">msys</span><span class="p p-Indicator">,</span> <span class="nv">msys2</span><span class="p p-Indicator">,</span> <span class="nv">wsl</span><span class="p p-Indicator">]</span>
<span class="nt">distro</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">RHEL6</span><span class="p p-Indicator">,</span> <span class="nv">CentOS</span><span class="p p-Indicator">,</span> <span class="nv">Debian</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>If we want to create different binaries from our recipes defining this new setting, we would need to add to
our recipes that:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;distro&quot;</span>
</pre></div>
</div>
<p>The value <code class="docutils literal notranslate"><span class="pre">None</span></code> allows for not defining it (which would be a default value, valid for all other distros).
It is possible to define values for it in the profiles:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[settings]
os = &quot;Linux&quot;
distro = &quot;CentOS&quot;
compiler = &quot;gcc&quot;
</pre></div>
</div>
<p>And use their values to affect our build if desired:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;distro&quot;</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">distro</span> <span class="o">==</span> <span class="s2">&quot;CentOS&quot;</span><span class="p">:</span>
            <span class="n">cmake</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="s2">&quot;SOME_CENTOS_FLAG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Some CentOS Value&quot;</span>
            <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-new-sub-settings">
<h2>Adding new sub-settings<a class="headerlink" href="#adding-new-sub-settings" title="Permalink to this headline">¶</a></h2>
<p>The above approach requires modification to all recipes to take it into account. It is also possible to define
kind of incompatible settings, like <code class="docutils literal notranslate"><span class="pre">os=Windows</span></code> and <code class="docutils literal notranslate"><span class="pre">distro=CentOS</span></code>. While adding new settings is totally
possible, it might make more sense for other cases, but for this example it is more adequate to add it as above
subsetting of the <code class="docutils literal notranslate"><span class="pre">Linux</span></code> OS:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">os</span><span class="p">:</span>
    <span class="nt">Windows</span><span class="p">:</span>
        <span class="nt">subsystem</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">cygwin</span><span class="p p-Indicator">,</span> <span class="nv">msys</span><span class="p p-Indicator">,</span> <span class="nv">msys2</span><span class="p p-Indicator">,</span> <span class="nv">wsl</span><span class="p p-Indicator">]</span>
    <span class="nt">Linux</span><span class="p">:</span>
        <span class="nt">distro</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">RHEL6</span><span class="p p-Indicator">,</span> <span class="nv">CentOS</span><span class="p p-Indicator">,</span> <span class="nv">Debian</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>With this definition we could define our profiles as:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[settings]
os = &quot;Linux&quot;
os.distro = &quot;CentOS&quot;
compiler = &quot;gcc&quot;
</pre></div>
</div>
<p>And any attempt to define <code class="docutils literal notranslate"><span class="pre">os.distro</span></code> for another <code class="docutils literal notranslate"><span class="pre">os</span></code> value rather than <code class="docutils literal notranslate"><span class="pre">Linux</span></code> will raise an error.</p>
<p>As this is a subsetting, it will be automatically taken into account in all recipes that declare an <code class="docutils literal notranslate"><span class="pre">os</span></code> setting.
Note that having a value of <code class="docutils literal notranslate"><span class="pre">distro=None</span></code> possible is important if you want to keep previously created binaries,
otherwise you would be forcing to always define a specific distro value, and binaries created without this subsetting,
won’t be usable anymore.</p>
<p>The sub-setting can also be accessed from recipes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>  <span class="c1"># Note, no &quot;distro&quot; defined here</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span> <span class="o">==</span> <span class="s2">&quot;Linux&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span><span class="o">.</span><span class="n">distro</span> <span class="o">==</span> <span class="s2">&quot;CentOS&quot;</span><span class="p">:</span>
            <span class="n">cmake</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="s2">&quot;SOME_CENTOS_FLAG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Some CentOS Value&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="add-new-values">
<h2>Add new values<a class="headerlink" href="#add-new-values" title="Permalink to this headline">¶</a></h2>
<p>In the same way we have added a new <code class="docutils literal notranslate"><span class="pre">distro</span></code> subsetting, it is possible to add new values to existing settings
and subsettings. For example, if some compiler version is not present in the range of accepted values, you can add those new values.</p>
<p>You can also add a completely new compiler:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">os</span><span class="p">:</span>
    <span class="nt">Windows</span><span class="p">:</span>
        <span class="nt">subsystem</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">,</span> <span class="nv">cygwin</span><span class="p p-Indicator">,</span> <span class="nv">msys</span><span class="p p-Indicator">,</span> <span class="nv">msys2</span><span class="p p-Indicator">,</span> <span class="nv">wsl</span><span class="p p-Indicator">]</span>
<span class=" -Error">   </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="nt">compiler</span><span class="p">:</span>
    <span class="nt">gcc</span><span class="p">:</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
    <span class="nt">mycompiler</span><span class="p">:</span>
        <span class="nt">version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">1.1</span><span class="p p-Indicator">,</span> <span class="nv">1.2</span><span class="p p-Indicator">]</span>
    <span class="nt">Visual Studio</span><span class="p">:</span>
</pre></div>
</div>
<p>This works as the above regarding profiles, and the way they can be accessed from recipes. The main issue with custom compilers is that
the builtin build helpers, like <code class="docutils literal notranslate"><span class="pre">CMake</span></code>, <code class="docutils literal notranslate"><span class="pre">MSBuild</span></code>, etc, internally contains code that will check for those values. For example,
the <code class="docutils literal notranslate"><span class="pre">MSBuild</span></code> build helper will only know how to manage the <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> setting and sub-settings, but not the new compiler.
For those cases, custom logic can be implemented in the recipes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;mycompiler&quot;</span><span class="p">:</span>
            <span class="n">my_custom_compile</span> <span class="o">=</span> <span class="s2">&quot;some --flags for --my=compiler&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;mycompiler . </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">my_custom_compile</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also remove items from <em>settings.yml</em> file. You can remove compilers, OS, architectures, etc.
Do that only in the case you really want to protect against creation of binaries for other platforms other
than your main supported ones. In the general case, you can leave them, the binary configurations are managed
in <strong>profiles</strong>, and you want to define your supported configurations in profiles, not by restricting the <em>settings.yml</em></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you customize your <em>settings.yml</em>, you can share, distribute and sync this configuration with your team
and CI machines with the <a class="reference internal" href="../reference/commands/consumer/config.html#conan-config-install"><span class="std std-ref">conan config install</span></a> command.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python_requires.html" class="btn btn-neutral float-right" title="Python requires: reusing code [EXPERIMENTAL]" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../extending.html" class="btn btn-neutral" title="Extending Conan" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, JFrog.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 1.16
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          
            <dd><a href="/en/latest/index.html">1.25</a></dd>
          
        
          
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
          
        
          
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
          
        
          
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
          
        
          
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
          
        
          
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
          
        
          
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
          
        
          
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
          
        
          
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
          
        
          
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
          
        
          
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
          
        
          
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
          
        
          
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
          
        
          
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
          
        
          
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
          
        
          
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
          
        
          
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
          
        
          
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
          
        
          
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
          
        
          
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
          
        
          
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
          
        
          
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
          
        
          
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
          
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/en/1.16/conan.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.16.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../_static/js/modernizr.min.js"></script>
  <script src="../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("1.16");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>