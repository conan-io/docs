<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Defining Package ABI Compatibility &mdash; conan 1.42.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/en/latest/creating_packages/define_abi_compatibility.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=34d0e76a"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Define the package information" href="package_information.html" />
    <link rel="prev" title="Understanding Packaging" href="understand_packaging.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.42
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training_courses.html">Training Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../creating_packages.html">Creating Packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_repo.html">Recipe and Sources in a Different Repo</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_repo.html">Recipe and Sources in the Same Repo</a></li>
<li class="toctree-l2"><a class="reference internal" href="existing_binaries.html">Packaging Existing Binaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="understand_packaging.html">Understanding Packaging</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Defining Package ABI Compatibility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#defining-a-custom-package-id">Defining a Custom package_id()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compatible-packages">Compatible packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compatible-compilers">Compatible Compilers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependency-issues">Dependency Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-package-id-for-package-dependencies">Using package_id() for Package Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#versioning-schema">Versioning Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-the-default-package-id-mode">Changing the default package-id mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enabling-full-transitivity-in-package-id-modes">Enabling full transitivity in package_id modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#library-types-shared-static-header-only">Library Types: Shared, Static, Header-only</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="package_information.html">Define the package information</a></li>
<li class="toctree-l2"><a class="reference internal" href="toolchains.html">Toolchains</a></li>
<li class="toctree-l2"><a class="reference internal" href="inspecting_packages.html">Inspecting Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_approaches.html">Packaging Approaches</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_tools.html">Package Creator Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #eb8484;background-color: #ffcaca;padding: 3px;margin-bottom: 5px">
              <p>This document is for a <b>"1.X" legacy</b> Conan version, <b>which is no longer recommended</b>. Please update to Conan 2, <a href="https://docs.conan.io/2/">click here to read the <b>Conan 2</b> documentation</a></p>
            </div>
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  📖 The Conan 2 essentials training is now available in the JFrog Academy for free.
                  <a href="https://academy.jfrog.com/conan-2-essentials?utm_source=Conan+Docs" target="_blank">Register now</a>.
                </p>
              </div>                                                  
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../creating_packages.html">Creating Packages</a></li>
      <li class="breadcrumb-item active">Defining Package ABI Compatibility</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/master/creating_packages/define_abi_compatibility.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="defining-package-abi-compatibility">
<span id="define-abi-compatibility"></span><h1>Defining Package ABI Compatibility<a class="headerlink" href="#defining-package-abi-compatibility" title="Link to this heading"></a></h1>
<p>Each package recipe can generate <em>N</em> binary packages from it, depending on these three items:
<code class="docutils literal notranslate"><span class="pre">settings</span></code>, <code class="docutils literal notranslate"><span class="pre">options</span></code> and <code class="docutils literal notranslate"><span class="pre">requires</span></code>.</p>
<p>When any of the <a class="reference internal" href="../reference/conanfile/attributes.html#settings-property"><span class="std std-ref">settings</span></a> of a package recipe changes, it will reference a
different binary:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConanPackage</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mylib&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
</pre></div>
</div>
<p>When this package is installed by a <em>conanfile.txt</em>, another package <em>conanfile.py</em>, or directly:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>mylib/1.0@user/channel<span class="w"> </span>-s<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>x86_64<span class="w"> </span>-s<span class="w"> </span>...
</pre></div>
</div>
<p>The process is:</p>
<ol class="arabic simple">
<li><p>Conan gets the user input settings and options. Those settings and options can come from the command line, profiles or from the values
cached in the latest <strong class="command">conan install</strong> execution.</p></li>
<li><p>Conan retrieves the <code class="docutils literal notranslate"><span class="pre">mylib/1.0&#64;user/channel</span></code> recipe, reads the <code class="docutils literal notranslate"><span class="pre">settings</span></code> attribute, and assigns the necessary values.</p></li>
<li><p>With the current package values for <code class="docutils literal notranslate"><span class="pre">settings</span></code> (also <code class="docutils literal notranslate"><span class="pre">options</span></code> and <code class="docutils literal notranslate"><span class="pre">requires</span></code>), it will compute a SHA1 hash that will serve as the binary
package ID, e.g., <code class="docutils literal notranslate"><span class="pre">c6d75a933080ca17eb7f076813e7fb21aaa740f2</span></code>.</p></li>
<li><p>Conan will try to find the <code class="docutils literal notranslate"><span class="pre">c6d75...</span></code> binary package. If it exists, it will be retrieved. If it cannot be found, it will fail and indicate that it
can be built from sources using <strong class="command">conan install --build</strong>.</p></li>
</ol>
<p>If the package is installed again using different settings, for example, on a 32-bit architecture:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>mylib/1.0@user/channel<span class="w"> </span>-s<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>x86<span class="w"> </span>-s<span class="w"> </span>...
</pre></div>
</div>
<p>The process will be repeated with a different generated package ID, because the <code class="docutils literal notranslate"><span class="pre">arch</span></code>
setting will have a different value. The same applies to different compilers, compiler versions, build types. When generating multiple
binaries - a separate ID is generated for each configuration.</p>
<p>When developers using the package use the same settings as one of those uploaded binaries, the computed package ID will be
identical causing the binary to be retrieved and reused without the need of rebuilding it from the sources.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">options</span></code> behavior is very similar. The main difference is that <code class="docutils literal notranslate"><span class="pre">options</span></code> can be more easily defined at the package level and they can
be defaulted. Check the <a class="reference internal" href="../reference/conanfile/attributes.html#conanfile-options"><span class="std std-ref">options</span></a> reference.</p>
<p>Note this simple scenario of a <strong>header-only</strong> library. The package does not need to be built, and it will not have any ABI issues at all.
The recipe for such a package will be to generate a single binary package, no more. This is easily achieved by not declaring
<code class="docutils literal notranslate"><span class="pre">settings</span></code> nor <code class="docutils literal notranslate"><span class="pre">options</span></code> in the recipe as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConanPackage</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;mylib&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="c1"># no settings defined!</span>
</pre></div>
</div>
<p>No matter the settings are defined by the users, including the compiler or version, the package settings and options will always be the same
(left empty) and they will hash to the same binary package ID. That package will typically contain just the header files.</p>
<p>What happens if we have a library that can be built with GCC 4.8 and will preserve the ABI compatibility with GCC 4.9?
(This kind of compatibility is easier to achieve for example for pure C libraries).</p>
<p>Although it could be argued that it is worth rebuilding with 4.9 too -to get fixes and performance improvements-. Let’s suppose
that we don’t want to create 2 different binaries, but just a single built with GCC 4.8 which also needs to be compatible for GCC 4.9 installations.</p>
<section id="defining-a-custom-package-id">
<span id="define-custom-package-id"></span><h2>Defining a Custom package_id()<a class="headerlink" href="#defining-a-custom-package-id" title="Link to this heading"></a></h2>
<p>The default <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> uses the <code class="docutils literal notranslate"><span class="pre">settings</span></code> and <code class="docutils literal notranslate"><span class="pre">options</span></code> directly as defined, and assumes the
<a class="reference external" href="https://semver.org">semantic versioning</a> for dependencies is defined in <code class="docutils literal notranslate"><span class="pre">requires</span></code>.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> method can be overridden to control the package ID generation. Within the <code class="docutils literal notranslate"><span class="pre">package_id()</span></code>, we have access to the
<code class="docutils literal notranslate"><span class="pre">self.info</span></code> object, which is hashed to compute the binary ID and contains:</p>
<ul class="simple">
<li><p><strong>self.info.settings</strong>: Contains all the declared settings, always as string values. We can access/modify the settings, e.g.,
<code class="docutils literal notranslate"><span class="pre">self.info.settings.compiler.version</span></code>.</p></li>
<li><p><strong>self.info.options</strong>: Contains all the declared options, always as string values too, e.g., <code class="docutils literal notranslate"><span class="pre">self.info.options.shared</span></code>.</p></li>
</ul>
<p>Initially this <code class="docutils literal notranslate"><span class="pre">info</span></code> object contains the original settings and options, but they can be changed without constraints to any other
string value.</p>
<p>For example, if you are sure your package ABI compatibility is fine for GCC versions &gt; 4.5 and &lt; 5.0, you could do the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">CMake</span><span class="p">,</span> <span class="n">tools</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conans.model.version</span><span class="w"> </span><span class="kn">import</span> <span class="n">Version</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PkgConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pkg&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">Version</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;gcc&quot;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">v</span> <span class="o">&gt;=</span> <span class="s2">&quot;4.5&quot;</span> <span class="ow">and</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="s2">&quot;5.0&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;GCC version between 4.5 and 5.0&quot;</span>
</pre></div>
</div>
<p>We have set the <code class="docutils literal notranslate"><span class="pre">self.info.settings.compiler.version</span></code> with an arbitrary string, the value of which is not important (could be any string). The
only important thing is that it is the same for any GCC version between 4.5 and 5.0. For all those versions, the compiler version will
always be hashed to the same ID.</p>
<p>Let’s try and check that it works properly when installing the package for GCC 4.5:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>pkg/1.0@myuser/mychannel<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span>gcc<span class="w"> </span>-s<span class="w"> </span>compiler.version<span class="o">=</span><span class="m">4</span>.5<span class="w"> </span>...

Requirements
<span class="w">    </span>pkg/1.0@myuser/mychannel<span class="w"> </span>from<span class="w"> </span><span class="nb">local</span>
Packages
<span class="w">    </span>pkg/1.0@myuser/mychannel:af044f9619574eceb8e1cca737a64bdad88246ad
...
</pre></div>
</div>
<p>We can see that the computed package ID is <code class="docutils literal notranslate"><span class="pre">af04...46ad</span></code> (not real). What happens if we specify GCC 4.6?</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>pkg/1.0@myuser/mychannel<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span>gcc<span class="w"> </span>-s<span class="w"> </span>compiler.version<span class="o">=</span><span class="m">4</span>.6<span class="w"> </span>...

Requirements
<span class="w">    </span>pkg/1.0@myuser/mychannel<span class="w"> </span>from<span class="w"> </span><span class="nb">local</span>
Packages
<span class="w">    </span>pkg/1.0@myuser/mychannel:af044f9619574eceb8e1cca737a64bdad88246ad
</pre></div>
</div>
<p>The required package has the same result again <code class="docutils literal notranslate"><span class="pre">af04...46ad</span></code>. Now we can try using GCC 4.4 (&lt; 4.5):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>pkg/1.0@myuser/mychannel<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span>gcc<span class="w"> </span>-s<span class="w"> </span>compiler.version<span class="o">=</span><span class="m">4</span>.4<span class="w"> </span>...

Requirements
<span class="w">    </span>pkg/1.0@myuser/mychannel<span class="w"> </span>from<span class="w"> </span><span class="nb">local</span>
Packages
<span class="w">    </span>pkg/1.0@myuser/mychannel:7d02dc01581029782b59dcc8c9783a73ab3c22dd
</pre></div>
</div>
<p>The computed package ID is different which means that we need a different binary package for GCC 4.4.</p>
<p>The same way we have adjusted the <code class="docutils literal notranslate"><span class="pre">self.info.settings</span></code>, we could set the <code class="docutils literal notranslate"><span class="pre">self.info.options</span></code> values if needed.
If you want to make packages independent on <code class="docutils literal notranslate"><span class="pre">build_type</span></code> removing the <code class="docutils literal notranslate"><span class="pre">build_type</span></code> from the package settings in the <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> will work for OSX and Linux. However when building with Visual studio the <code class="docutils literal notranslate"><span class="pre">compiler.runtime</span></code> field will change based on the <code class="docutils literal notranslate"><span class="pre">build_type</span></code> value so in that case you will also want to delete the compiler runtime field like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Windows&quot;</span><span class="p">,</span><span class="s2">&quot;WindowsStore&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;Visual Studio&quot;</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">build_type</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">runtime</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Check <a class="reference internal" href="../reference/conanfile/methods.html#method-package-id"><span class="std std-ref">package_id()</span></a> to see the available helper methods and change its behavior for things like:</p>
<blockquote>
<div><ul class="simple">
<li><p>Recipes packaging <strong>header only</strong> libraries.</p></li>
<li><p>Adjusting <strong>Visual Studio toolsets</strong> compatibility.</p></li>
</ul>
</div></blockquote>
</div>
</section>
<section id="compatible-packages">
<span id="id1"></span><h2>Compatible packages<a class="headerlink" href="#compatible-packages" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>The above approach defined 1 package ID for different input configurations. For example, all <code class="docutils literal notranslate"><span class="pre">gcc</span></code> versions
in the range <code class="docutils literal notranslate"><span class="pre">(v</span> <span class="pre">&gt;=</span> <span class="pre">&quot;4.5&quot;</span> <span class="pre">and</span> <span class="pre">v</span> <span class="pre">&lt;</span> <span class="pre">&quot;5.0&quot;)</span></code> will have exactly the same package ID, no matter what was the gcc version
used to build it. It worked like an information erasure, once the binary is built, it is not possible to know which
gcc was used to build it.</p>
<p>But it is possible to define compatible binaries that have different package IDs. For instance, it
is possible to have a different binary for each <code class="docutils literal notranslate"><span class="pre">gcc</span></code> version, so the
<code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.8</span></code> package will be a different one with a different package ID than the <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.9</span></code> one, and still define
that you can use the <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.8</span></code> package when building with <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.9</span></code>.</p>
<p>We can define an ordered list of compatible packages, that will be checked in order if
the package ID that our profile defines is not available. Let’s see it with an example:</p>
<p>Lets say that we are building with a profile of <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.9</span></code>. But for a given package we want to
fallback to binaries built with <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.8</span></code> or <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.7</span></code> if we cannot find a binary built with <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.9</span></code>.
That can be defined as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;gcc&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;4.9&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;4.8&quot;</span><span class="p">,</span> <span class="s2">&quot;4.7&quot;</span><span class="p">):</span>
                <span class="n">compatible_pkg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="n">compatible_pkg</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">compatible_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compatible_pkg</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that if the input configuration is <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.8</span></code>, it will not try to fallback to binaries of <code class="docutils literal notranslate"><span class="pre">gcc</span> <span class="pre">4.7</span></code> as the
condition is not met.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">self.info.clone()</span></code> method copies the values of <code class="docutils literal notranslate"><span class="pre">settings</span></code>, <code class="docutils literal notranslate"><span class="pre">options</span></code> and <code class="docutils literal notranslate"><span class="pre">requires</span></code> from the current instance of
the recipe so they can be modified to model the compatibility.</p>
<p>It is the responsibility of the developer to guarantee that such binaries are indeed compatible. For example in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;optimized&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
    <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;optimized&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">optimized</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">optimized</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">compatible_pkg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="n">compatible_pkg</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">optimized</span> <span class="o">=</span> <span class="n">optimized</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compatible_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compatible_pkg</span><span class="p">)</span>
</pre></div>
</div>
<p>This recipe defines that the binaries are compatible with binaries of itself built with a lower optimization value. It can
have up to 3 different binaries, one for each different value of <code class="docutils literal notranslate"><span class="pre">optimized</span></code> option. The <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> defines that a binary
built with <code class="docutils literal notranslate"><span class="pre">optimized=1</span></code> can be perfectly linked and will run even if someone defines <code class="docutils literal notranslate"><span class="pre">optimized=2</span></code>, or <code class="docutils literal notranslate"><span class="pre">optimized=3</span></code>
in their configuration. But a binary built with <code class="docutils literal notranslate"><span class="pre">optimized=2</span></code> will not be considered if the requested one is <code class="docutils literal notranslate"><span class="pre">optimized=1</span></code>.</p>
<p><strong>The binary should be interchangeable at all effects</strong>. This also applies to other usages of that configuration. If this example used
the <code class="docutils literal notranslate"><span class="pre">optimized</span></code> option to conditionally require different dependencies, that will not be taken into account. The <code class="docutils literal notranslate"><span class="pre">package_id()</span></code>
step is processed after the whole dependency graph has been built, so it is not possible to define how dependencies are resolved
based on this compatibility model, it only applies to use-cases where the binaries can be <em>interchanged</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Compatible packages are a match for a binary in the dependency graph. When a compatible package is found, the <strong class="command">--build=missing</strong>
build policy will <strong>not</strong> build from sources that package.</p>
</div>
<p>Check the <a class="reference internal" href="#compatible-compilers"><span class="std std-ref">Compatible Compilers</span></a> section to see another example of how to take benefit of compatible packages.</p>
</section>
<section id="compatible-compilers">
<span id="id2"></span><h2>Compatible Compilers<a class="headerlink" href="#compatible-compilers" title="Link to this heading"></a></h2>
<p>Some compilers make use of a base compiler to operate, for example, the <code class="docutils literal notranslate"><span class="pre">intel</span></code> compiler uses
the <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> compiler in Windows environments and <code class="docutils literal notranslate"><span class="pre">gcc</span></code> in Linux environments.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">intel</span></code> compiler is declared this way in the <a class="reference internal" href="../reference/config_files/settings.yml.html#settings-yml"><span class="std std-ref">settings.yml</span></a>:</p>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">intel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;11&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;12&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;13&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;14&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;15&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;16&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;17&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;18&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;19&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">base</span><span class="p">:</span>
<span class="w">        </span><span class="nt">gcc</span><span class="p">:</span>
<span class="w">            </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*gcc</span>
<span class="w">            </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">]</span>
<span class="w">            </span><span class="nt">exception</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">None</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">Visual Studio</span><span class="p">:</span>
<span class="w">            </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*visual_studio</span>
</pre></div>
</div>
</div></blockquote>
<p>Remember, you can <a class="reference internal" href="../extending.html#extending"><span class="std std-ref">extend Conan</span></a> to support other compilers.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> method to define the compatibility between the packages generated by the <code class="docutils literal notranslate"><span class="pre">base</span></code> compiler and the <code class="docutils literal notranslate"><span class="pre">parent</span></code> one.
You can use the following helpers together with the <a class="reference internal" href="#compatible-packages"><span class="std std-ref">compatible packages</span></a> feature to:</p>
<blockquote>
<div><ul class="simple">
<li><p>Consume native <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> packages when the input compiler in the profile is <code class="docutils literal notranslate"><span class="pre">intel</span></code> (if no <code class="docutils literal notranslate"><span class="pre">intel</span></code> package is available).</p></li>
<li><p>The opposite, consume an <code class="docutils literal notranslate"><span class="pre">intel</span></code> compiler package when a consumer profile specifies <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> as the input compiler (if no
<code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> package is available).</p></li>
</ul>
</div></blockquote>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">base_compatible()</span></code>: This function will transform the settings used to calculate the package ID into the “base” compiler.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;intel&quot;</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
        <span class="n">p</span><span class="o">.</span><span class="n">base_compatible</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compatible_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the above <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> method, if a consumer specifies a profile with a intel profile (<strong>-s compiler==”intel”</strong>) and there is no binary available, it will resolve to a
Visual Studio package ID corresponding to the base compiler.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent_compatible(compiler=&quot;compiler&quot;,</span> <span class="pre">version=&quot;version&quot;)</span></code>: This function transforms the settings of a compiler into the settings of a
parent one using the specified one as the base compiler. As the details of the “parent” compatible cannot be guessed, you have to provide them as <strong>keyword args</strong> to the
function. The “compiler” argument is mandatory, the rest of keyword arguments will be used to initialize the <code class="docutils literal notranslate"><span class="pre">info.settings.compiler.XXX</span></code> objects
to calculate the correct package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

   <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;Visual Studio&quot;</span><span class="p">:</span>
      <span class="n">compatible_pkg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
      <span class="n">compatible_pkg</span><span class="o">.</span><span class="n">parent_compatible</span><span class="p">(</span><span class="n">compiler</span><span class="o">=</span><span class="s2">&quot;intel&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">compatible_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">compatible_pkg</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, for a consumer specifying Visual Studio compiler, if no package is found, it will search for an “intel” package for the version 16.</p>
</li>
</ul>
<p>Take into account that you can use also these helpers without the “compatible packages” feature:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

   <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;Visual Studio&quot;</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">parent_compatible</span><span class="p">(</span><span class="n">compiler</span><span class="o">=</span><span class="s2">&quot;intel&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>In the above example, we will transform the package ID of the <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> package to be the same as the <code class="docutils literal notranslate"><span class="pre">intel</span> <span class="pre">16</span></code>, but you won’t
be able to differentiate the packages built with <code class="docutils literal notranslate"><span class="pre">intel</span></code> with the ones built by <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> because both will have the same package ID,
and that is not always desirable.</p>
</section>
<section id="dependency-issues">
<span id="problem-of-dependencies"></span><h2>Dependency Issues<a class="headerlink" href="#dependency-issues" title="Link to this heading"></a></h2>
<p>Let’s define a simple scenario whereby there are two packages: <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.0</span></code> and <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> which depends on
<code class="docutils literal notranslate"><span class="pre">my_other_lib/2.0</span></code>. Let’s assume that their recipes and binaries have already been created and uploaded to a Conan remote.</p>
<p>Now, a new release for <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code> is released with an improved recipe and new binaries. The <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> is modified and is required to be upgraded to <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This scenario will be the same in the case that a consuming project of <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> defines a dependency to <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code>, which
takes precedence over the existing project in <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code>.</p>
</div>
<p>The question is: <strong>Is it necessary to build new</strong> <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> <strong>binary packages?</strong> or are the existing packages still valid?</p>
<p>The answer: <strong>It depends</strong>.</p>
<p>Let’s assume that both packages are compiled as static libraries and that the API exposed by <code class="docutils literal notranslate"><span class="pre">my_other_lib</span></code> to <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> through the
public headers, has not changed at all. In this case, it is not required to build new binaries for <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> because the final consumer will
link against both <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> and <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code>.</p>
<p>On the other hand, it could happen that the API exposed by <strong>my_other_lib</strong> in the public headers has changed, but without affecting the
<code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> binary for any reason (like changes consisting on new functions not used by <strong>my_lib</strong>). The same reasoning would apply if <strong>MyOtherLib</strong> was only the header.</p>
<p>But what if a header file of <code class="docutils literal notranslate"><span class="pre">my_other_lib</span></code> -named <em>myadd.h</em>- has changed from <code class="docutils literal notranslate"><span class="pre">2.0</span></code> to <code class="docutils literal notranslate"><span class="pre">2.1</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text"><em>myadd.h</em> header file in version 2.0</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">addition</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text"><em>myadd.h</em> header file in version 2.1</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">addition</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<p>And the <code class="docutils literal notranslate"><span class="pre">addition()</span></code> function is called from the compiled <em>.cpp</em> files of <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code>?</p>
<p>Then, <strong>a new binary for my_lib/1.0 is required to be built for the new dependency version</strong>. Otherwise it will maintain the old, buggy
<code class="docutils literal notranslate"><span class="pre">addition()</span></code> version. Even in the case that <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> doesn’t have any change in its code lines neither in the recipe, the resulting
binary rebuilding <code class="docutils literal notranslate"><span class="pre">my_lib</span></code> requires <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code> and the package to be different.</p>
</section>
<section id="using-package-id-for-package-dependencies">
<span id="package-id-mode"></span><h2>Using package_id() for Package Dependencies<a class="headerlink" href="#using-package-id-for-package-dependencies" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">self.info</span></code> object has also a <code class="docutils literal notranslate"><span class="pre">requires</span></code> object. It is a dictionary containing the necessary information for each requirement, all direct
and transitive dependencies. For example, <code class="docutils literal notranslate"><span class="pre">self.info.requires[&quot;my_other_lib&quot;]</span></code> is a <code class="docutils literal notranslate"><span class="pre">RequirementInfo</span></code> object.</p>
<ul>
<li><p>Each <code class="docutils literal notranslate"><span class="pre">RequirementInfo</span></code> has the following <cite>read only</cite> reference fields:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">full_name</span></code>: Full require’s name, e.g., <strong>my_other_lib</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_version</span></code>: Full require’s version, e.g., <strong>1.2</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_user</span></code>: Full require’s user, e.g., <strong>my_user</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_channel</span></code>: Full require’s channel, e.g., <strong>stable</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_package_id</span></code>: Full require’s package ID, e.g., <strong>c6d75a…</strong></p></li>
</ul>
</div></blockquote>
</li>
<li><p>The following fields are used in the <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> evaluation:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: By default same value as full_name, e.g., <strong>my_other_lib</strong>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code>: By default the major version representation of the <code class="docutils literal notranslate"><span class="pre">full_version</span></code>.
E.g., <strong>1.Y</strong> for a <strong>1.2</strong> <code class="docutils literal notranslate"><span class="pre">full_version</span></code> field and <strong>1.Y.Z</strong> for a <strong>1.2.3</strong>
<code class="docutils literal notranslate"><span class="pre">full_version</span></code> field.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code>: By default <code class="docutils literal notranslate"><span class="pre">None</span></code> (doesn’t affect the package ID).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">channel</span></code>: By default <code class="docutils literal notranslate"><span class="pre">None</span></code> (doesn’t affect the package ID).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_id</span></code>: By default <code class="docutils literal notranslate"><span class="pre">None</span></code> (doesn’t affect the package ID).</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>When defining a package ID for model dependencies, it is necessary to take into account two factors:</p>
<ul class="simple">
<li><p>The versioning schema followed by our requirements (semver?, custom?).</p></li>
<li><p>The type of library being built or reused (shared (<em>.so</em>, <em>.dll</em>, <em>.dylib</em>), static).</p></li>
</ul>
<section id="versioning-schema">
<h3>Versioning Schema<a class="headerlink" href="#versioning-schema" title="Link to this heading"></a></h3>
<p>By default Conan assumes <a class="reference external" href="https://semver.org">semver</a> compatibility. For example, if a version changes from minor <strong>2.0</strong> to <strong>2.1</strong>, Conan will
assume that the API is compatible (headers not changing), and that it is not necessary to build a new binary for it. This also applies to
patches, whereby changing from <strong>2.1.10</strong> to <strong>2.1.11</strong> doesn’t require a re-build.</p>
<p>If it is necessary to change the default behavior, the applied versioning schema can be customized within the <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">CMake</span><span class="p">,</span> <span class="n">tools</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conans.model.version</span><span class="w"> </span><span class="kn">import</span> <span class="n">Version</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PkgConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my_lib&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;my_other_lib/2.0@lasote/stable&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">myotherlib</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span>

        <span class="c1"># Any change in the MyOtherLib version will change current Package ID</span>
        <span class="n">myotherlib</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">full_version</span>

        <span class="c1"># Changes in major and minor versions will change the Package ID but</span>
        <span class="c1"># only a MyOtherLib patch won&#39;t. E.g., from 1.2.3 to 1.2.89 won&#39;t change.</span>
        <span class="n">myotherlib</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">full_version</span><span class="o">.</span><span class="n">minor</span><span class="p">()</span>
</pre></div>
</div>
<p>Besides <code class="docutils literal notranslate"><span class="pre">version</span></code>, there are additional helpers that can be used to determine whether the <strong>channel</strong> and <strong>user</strong> of one dependency also
affects the binary package, or even the required package ID can change your own package ID.</p>
<p>You can determine if the following variables within any requirement change the ID of your binary package using the following modes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Modes / Variables</strong></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">channel</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">package_id</span></code></p></th>
<th class="head"><p>RREV</p></th>
<th class="head"><p>PREV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">semver_direct_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes, only &gt; 1.0.0 (e.g., <strong>1</strong>.2.Z+b102)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">semver_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes, only &gt; 1.0.0 (e.g., <strong>1</strong>.2.Z+b102)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">major_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1</strong>.2.Z+b102)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">minor_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1.2</strong>.Z+b102)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">patch_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1.2.3</strong>+b102)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">base_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1.7</strong>+b102)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">full_version_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1.2.3+b102</strong>)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">full_recipe_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1.2.3+b102</strong>)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">full_package_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes (e.g., <strong>1.2.3+b102</strong>)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unrelated_mode()</span></code></p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">recipe_revision_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">package_revision_mode()</span></code></p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
<p>All the modes can be applied to all dependencies, or to individual ones:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># apply semver_mode for all the dependencies of the package</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="o">.</span><span class="n">semver_mode</span><span class="p">()</span>
    <span class="c1"># use semver_mode just for MyOtherLib</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;MyOtherLib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">semver_mode</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">semver_direct_mode()</span></code>: This is the default mode. It uses <code class="docutils literal notranslate"><span class="pre">semver_mode()</span></code> for direct dependencies (first
level dependencies, directly declared by the package) and <code class="docutils literal notranslate"><span class="pre">unrelated_mode()</span></code> for indirect, transitive
dependencies of the package. It assumes that the binary will be affected by the direct dependencies, which
they will already encode how their transitive dependencies affect them. This might not always be true, as
explained above, and that is the reason it is possible to customize it.</p>
<p>In this mode, if the package depends on “MyLib”, which transitively depends on “MyOtherLib”, the mode means:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>my_lib/1.2.3@user/testing       =&gt; my_lib/1.Y.Z
my_other_lib/2.3.4@user/testing  =&gt;
</pre></div>
</div>
<p>So the direct dependencies are mapped to the major version only. Changing its channel, or using version
<code class="docutils literal notranslate"><span class="pre">my_lib/1.4.5</span></code> will still produce <code class="docutils literal notranslate"><span class="pre">my_lib/1.Y.Z</span></code> and thus the same package-id.
The indirect, transitive dependency doesn’t affect the package-id at all.</p>
</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>Known-bug</strong>: Package ID mode <code class="docutils literal notranslate"><span class="pre">semver_direct_mode</span></code> takes into account the options of transitive requirements.
It means that modifying the options of any transitive requirement will modify the computed package ID, and also
adding/removing a transitive requirement will modify the computed package ID (this happens even if the added/removed
requirement doesn’t have any option).</p>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">semver_mode()</span></code>: In this mode, only a major release version (starting from <strong>1.0.0</strong>) changes the package ID.
Every version change prior to 1.0.0 changes the package ID, but only major changes after 1.0.0 will be applied.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">semver_mode</span><span class="p">()</span>
</pre></div>
</div>
<p>This results in:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>my_lib/1.2.3@user/testing       =&gt; my_lib/1.Y.Z
my_other_lib/2.3.4@user/testing  =&gt; my_other_lib/2.Y.Z
</pre></div>
</div>
<p>In this mode, versions starting with <code class="docutils literal notranslate"><span class="pre">0</span></code> are considered unstable and mapped to the full version:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>my_lib/0.2.3@user/testing       =&gt; my_lib/0.2.3
my_other_lib/0.3.4@user/testing  =&gt; my_other_lib/0.3.4
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">major_mode()</span></code>: Any change in the major release version (starting from <strong>0.0.0</strong>) changes the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;MyOtherLib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">major_mode</span><span class="p">()</span>
</pre></div>
</div>
<p>This mode is basically the same as <code class="docutils literal notranslate"><span class="pre">semver_mode</span></code>, but the only difference is that major versions <code class="docutils literal notranslate"><span class="pre">0.Y.Z</span></code>,
which are considered unstable by semver, are still mapped to only the major, dropping the minor and patch parts.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">minor_mode()</span></code>: Any change in major or minor (not patch nor build) version of the required dependency changes the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">minor_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">patch_mode()</span></code>: Any changes to major, minor or patch (not build) versions of the required dependency change the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">patch_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">base_mode()</span></code>: Any changes to the base of the version (not build) of the required dependency changes the package ID. Note that in the
case of semver notation this may produce the same result as <code class="docutils literal notranslate"><span class="pre">patch_mode()</span></code>, but it is actually intended to dismiss the build part of the
version even without strict semver.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">base_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_version_mode()</span></code>: Any changes to the version of the required dependency changes the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_version_mode</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>my_other_lib/1.3.4-a4+b3@user/testing  =&gt; my_other_lib/1.3.4-a4+b3
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_recipe_mode()</span></code>: Any change in the reference of the requirement (user &amp; channel too) changes the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_recipe_mode</span><span class="p">()</span>
</pre></div>
</div>
<p>This keeps the whole dependency reference, except the package-id of the dependency.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>my_other_lib/1.3.4-a4+b3@user/testing  =&gt; my_other_lib/1.3.4-a4+b3@user/testing
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">full_package_mode()</span></code>: Any change in the required version, user, channel or package ID changes the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_package_mode</span><span class="p">()</span>
</pre></div>
</div>
<p>Any change to the dependency, including its binary package-id, will in turn
produce a new package-id for the consumer package.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>MyOtherLib/1.3.4-a4+b3@user/testing:73b..fa56  =&gt; MyOtherLib/1.3.4-a4+b3@user/testing:73b..fa56
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">unrelated_mode()</span></code>: Requirements do not change the package ID.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;MyOtherLib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unrelated_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">recipe_revision_mode()</span></code>: The full reference and the package ID of the dependencies,
<cite>pkg/version&#64;user/channel#RREV:pkg_id</cite> (including the recipe revision), will be taken
into account to compute the consumer package ID</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mypkg/1.3.4@user/testing#RREV1:73b..fa56#PREV1  =&gt; mypkg/1.3.4-a4+b3@user/testing#RREV1
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;mypkg&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">recipe_revision_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">package_revision_mode()</span></code>: The full package reference <cite>pkg/version&#64;user/channel#RREV:ID#PREV</cite>
of the dependencies, including the recipe revision, the binary package ID and the package revision
will be taken into account to compute the consumer package ID</p>
<p>This is the most strict mode. Any change in the upstream will produce new consumers package IDs,
becoming a fully deterministic binary model.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># The full reference of the dependency package binary will be used as-is
mypkg/1.3.4@user/testing#RREV1:73b..fa56#PREV1  =&gt; mypkg/1.3.4@user/testing#RREV1:73b..fa56#PREV1
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;mypkg&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">package_revision_mode</span><span class="p">()</span>
</pre></div>
</div>
<p>Given that the package ID of consumers depends on the package revision PREV of the dependencies, when
one of the upstream dependencies doesn’t have a package revision yet (for example it is going to be
built from sources, so its PREV cannot be determined yet), the consumers package ID will be unknown and
marked as such. These dependency graphs cannot be built in a single invocation, because they are intended
for CI systems, in which a package creation/built is called for each package in the graph.</p>
</li>
</ul>
<p>You can also adjust the individual properties manually:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">myotherlib</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;MyOtherLib&quot;</span><span class="p">]</span>

    <span class="c1"># Same as myotherlib.semver_mode()</span>
    <span class="n">myotherlib</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">full_name</span>
    <span class="n">myotherlib</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">full_version</span><span class="o">.</span><span class="n">stable</span><span class="p">()</span>  <span class="c1"># major(), minor(), patch(), base, build</span>
    <span class="n">myotherlib</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">package_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Only the channel (and the name) matters</span>
    <span class="n">myotherlib</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">full_name</span>
    <span class="n">myotherlib</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">package_id</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">myotherlib</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="n">myotherlib</span><span class="o">.</span><span class="n">full_channel</span>
</pre></div>
</div>
<p>The result of the <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> is the package ID hash, but the details can be checked in the
generated <em>conaninfo.txt</em> file. The <code class="docutils literal notranslate"><span class="pre">[requires]</span></code>, <code class="docutils literal notranslate"><span class="pre">[options]</span></code> and <code class="docutils literal notranslate"><span class="pre">[settings]</span></code> are taken
into account when generating the SHA1 hash for the package ID, while the <code class="docutils literal notranslate"><span class="pre">[full_xxxx]</span></code> fields show the
complete reference information.</p>
<p>The default behavior produces a <em>conaninfo.txt</em> that looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[requires]
MyOtherLib/2.Y.Z

[full_requires]
MyOtherLib/2.2@demo/testing:73bce3fd7eb82b2eabc19fe11317d37da81afa56
</pre></div>
</div>
</section>
<section id="changing-the-default-package-id-mode">
<span id="default-package-id-mode"></span><h3>Changing the default package-id mode<a class="headerlink" href="#changing-the-default-package-id-mode" title="Link to this heading"></a></h3>
<p>It is possible to change the default <code class="docutils literal notranslate"><span class="pre">semver_direct_mode</span></code> package-id mode, in the
<em>conan.conf</em> file:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text"><em>conan.conf</em> configuration file</span><a class="headerlink" href="#id5" title="Link to this code"></a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[general]
default_package_id_mode=full_package_mode
</pre></div>
</div>
</div>
<p>Possible values are the names of the above methods: <code class="docutils literal notranslate"><span class="pre">full_recipe_mode</span></code>, <code class="docutils literal notranslate"><span class="pre">semver_mode</span></code>, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">default_package_id_mode</span></code> is a global configuration. It will change how all the package-ids are
computed, for all packages. It is impossible to mix different <code class="docutils literal notranslate"><span class="pre">default_package_id_mode</span></code> values.
The same <code class="docutils literal notranslate"><span class="pre">default_package_id_mode</span></code> must be used in all clients, servers, CI, etc., and it cannot
be changed without rebuilding all packages.</p>
</div>
<p>Note that the default package-id mode is the mode that is used when the package is initialized
and <strong>before</strong> <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> method is called. You can still define <code class="docutils literal notranslate"><span class="pre">full_package_mode</span></code>
as default in <em>conan.conf</em>, but if a recipe declare that it is header-only, with:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">header_only</span><span class="p">()</span> <span class="c1"># clears requires, but also settings if existing</span>
  <span class="c1"># or if there are no settings/options, this would be equivalent</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c1"># or self.info.requires.unrelated_mode()</span>
</pre></div>
</div>
</div></blockquote>
<p>That would still be executed, changing the “default” behavior, and leading to a package
that only generates 1 package-id for all possible configurations and versions of dependencies.</p>
<p>Remember that <em>conan.conf</em> can be shared and installed with <a class="reference internal" href="../reference/commands/consumer/config.html#conan-config-install"><span class="std std-ref">conan config install</span></a>.</p>
<p>Take into account that you can combine the <a class="reference internal" href="#compatible-packages"><span class="std std-ref">compatible packages</span></a> with the package-id modes.</p>
<p>For example, if you are generating binary packages with the default <code class="docutils literal notranslate"><span class="pre">recipe_revision_mode</span></code>,
but you want these packages to be consumed from a client with a different mode activated,
you can create a compatible package transforming the mode to <code class="docutils literal notranslate"><span class="pre">recipe_revision_mode</span></code> so the package
generated with the <code class="docutils literal notranslate"><span class="pre">recipe_revision_mode</span></code> can be resolved if no package for the default mode is found:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
        <span class="n">p</span><span class="o">.</span><span class="n">requires</span><span class="o">.</span><span class="n">recipe_revision_mode</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compatible_packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="enabling-full-transitivity-in-package-id-modes">
<span id="full-transitive-package-id"></span><h3>Enabling full transitivity in package_id modes<a class="headerlink" href="#enabling-full-transitivity-in-package-id-modes" title="Link to this heading"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will become the default behavior in the future (Conan 2.0). It is recommended to activate it when possible (it might require rebuilding some packages,
as their package IDs will change)</p>
</div>
<p>When a package declares in its <code class="docutils literal notranslate"><span class="pre">package_id()</span></code> method that it is not affected by its dependencies, that will propagate down
to the indirect consumers of that package. There are several ways this can be done, <code class="docutils literal notranslate"><span class="pre">self.info.header_only()</span></code>, <code class="docutils literal notranslate"><span class="pre">self.info.requires.clear()</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.info.requires.remove[&quot;dep&quot;]</span></code> and <code class="docutils literal notranslate"><span class="pre">self.info.requires.unrelated_mode()</span></code>, for example.</p>
<p>Let’s assume for the discussion that it is a header only library, using the <code class="docutils literal notranslate"><span class="pre">self.info.header_only()</span></code> helper. This header only package has
a single dependency, which is a static library. Then, downstream
consumers of the header only library that uses a package mode different from the default, should be also affected by the upstream
transitivity dependency. Lets say that we have the following scenario:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">app/1.0</span></code> depends on <code class="docutils literal notranslate"><span class="pre">pkgc/1.0</span></code> and <code class="docutils literal notranslate"><span class="pre">pkga/1.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgc/1.0</span></code> depends only on <code class="docutils literal notranslate"><span class="pre">pkgb/1.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pkgb/1.0</span></code> depends on <code class="docutils literal notranslate"><span class="pre">pkga/1.0</span></code>, and defines <code class="docutils literal notranslate"><span class="pre">self.info.header_only()</span></code> in its <code class="docutils literal notranslate"><span class="pre">package_id()</span></code></p></li>
<li><p>We are using <code class="docutils literal notranslate"><span class="pre">full_version_mode</span></code></p></li>
<li><p>Now we create a new <code class="docutils literal notranslate"><span class="pre">pkga/2.0</span></code> that has some changes in its header, that would require to rebuild <code class="docutils literal notranslate"><span class="pre">pkgc/1.0</span></code> against it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">app/1.0</span></code> now depends on <code class="docutils literal notranslate"><span class="pre">`pkgc/1.0</span></code> and <code class="docutils literal notranslate"><span class="pre">pkga/2.0</span></code></p></li>
</ul>
<a class="reference internal image-reference" href="../_images/conan-full_transitive_package_id.png"><img alt="../_images/conan-full_transitive_package_id.png" class="align-center" src="../_images/conan-full_transitive_package_id.png" style="width: 100%;" /></a>
<p>With the default behavior, the header only <code class="docutils literal notranslate"><span class="pre">pkgb</span></code> is isolating <code class="docutils literal notranslate"><span class="pre">pkgc</span></code> from the upstream changes effects. The package-id <code class="docutils literal notranslate"><span class="pre">PIDC1</span></code> we
get for <code class="docutils literal notranslate"><span class="pre">pkgc/1.0</span></code> is exactly the same when depending on <code class="docutils literal notranslate"><span class="pre">pkga/1.0</span></code> and <code class="docutils literal notranslate"><span class="pre">pkga/2.0</span></code>.</p>
<p>If we want to have the <code class="docutils literal notranslate"><span class="pre">full_version_mode</span></code> to be fully transitive, irrespective of the local package-id modes of the packages,
we can configure it in the <a class="reference internal" href="../reference/config_files/conan.conf.html#conan-conf"><span class="std std-ref">conan.conf</span></a> section. To summarize, you can activate the <code class="docutils literal notranslate"><span class="pre">general.full_transitive_package_id</span></code>
configuration (<code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">conan</span> <span class="pre">config</span> <span class="pre">set</span> <span class="pre">general.full_transitive_package_id=1</span></code>).</p>
<p>If we do this, then <code class="docutils literal notranslate"><span class="pre">pkgc/1.0</span></code> will compute 2 different package-ids, one for <code class="docutils literal notranslate"><span class="pre">pkga/1.0</span></code> (<code class="docutils literal notranslate"><span class="pre">PIDC1</span></code>) and the other to link with
<code class="docutils literal notranslate"><span class="pre">pkga/2.0</span></code> (<code class="docutils literal notranslate"><span class="pre">PIDC2</span></code>).</p>
</section>
<section id="library-types-shared-static-header-only">
<h3>Library Types: Shared, Static, Header-only<a class="headerlink" href="#library-types-shared-static-header-only" title="Link to this heading"></a></h3>
<p>Let’s see some examples, corresponding to common scenarios:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> is a shared library that links with a static library <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.0</span></code> package.
When a new <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code> version is released: Do I need to create a new binary for
<code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> to link with it?</p>
<p>Yes, always, as the implementation is embedded in the <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> shared library. If we
always want to rebuild our library, even if the channel changes (we assume a channel change could
mean a source code change):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Any change in the my_other_lib version, user or</span>
    <span class="c1"># channel or Package ID will affect our package ID</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_package_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> is a shared library, requiring another shared library <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.0</span></code> package.
When a new <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code> version is released: Do I need to create a new binary for
<code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> to link with it?</p>
<p>It depends. If the public headers have not changed at all, it is not necessary. Actually it might
be necessary to consider transitive dependencies that are shared among the public headers, how
they are linked and if they cross the frontiers of the API, it might also lead to
incompatibilities. If the public headers have changed, it would depend on what changes and how are
they used in <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code>. Adding new methods to the public headers will have no impact, but
changing the implementation of some functions that will be inlined when compiled from
<code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> will definitely require re-building. For this case, it could make sense to have this configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Any change in the my_other_lib version, user or channel</span>
    <span class="c1"># or Package ID will affect our package ID</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_package_mode</span><span class="p">()</span>

    <span class="c1"># Or any change in the my_other_lib version, user or</span>
    <span class="c1"># channel will affect our package ID</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_recipe_mode</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> is a header-only library, linking with any kind (header, static, shared) of library
in <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.0</span></code> package. When a new <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code> version is released: Do I need to
create a new binary for <code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> to link with it?</p>
<p>Never. The package should always be the same as there are no settings, no options, and in any way a
dependency can affect a binary, because there is no such binary. The default behavior should be
changed to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> is a static library linking to a header only library in <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.0</span></code>
package. When a new <code class="docutils literal notranslate"><span class="pre">my_other_lib/2.1</span></code> version is released: Do I need to create a new binary for
<code class="docutils literal notranslate"><span class="pre">my_lib/1.0</span></code> to link with it? It could happen that the <code class="docutils literal notranslate"><span class="pre">my_other_lib</span></code> headers are strictly used
in some <code class="docutils literal notranslate"><span class="pre">my_lib</span></code> headers, which are not compiled, but transitively included. But in general,
it is more likely that <code class="docutils literal notranslate"><span class="pre">my_other_lib</span></code> headers are used in <code class="docutils literal notranslate"><span class="pre">MyLib</span></code> implementation files, so every
change in them should imply a new binary to be built. If we know that changes in the channel never
imply a source code change, as set in our workflow/lifecycle, we could
write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">full_package</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">requires</span><span class="p">[</span><span class="s2">&quot;my_other_lib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># Channel doesn&#39;t change out package ID</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="understand_packaging.html" class="btn btn-neutral float-left" title="Understanding Packaging" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="package_information.html" class="btn btn-neutral float-right" title="Define the package information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2021, JFrog.
      <span class="lastupdated">Last updated on Sep 29, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 1.42
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/en/1.42/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>