<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tools &mdash; conan 1.37.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/en/latest/reference/tools.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=25733650"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuration files" href="config_files.html" />
    <link rel="prev" title="RunEnvironment" href="build_helpers/run_environment.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.37
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training_courses.html">Training Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos.html">Howtos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="generators.html">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiles.html">Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_helpers.html">Build helpers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tools-cpu-count">tools.cpu_count()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-vcvars-command">tools.vcvars_command()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-vcvars-dict">tools.vcvars_dict()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-vcvars">tools.vcvars()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-build-sln-command-deprecated">tools.build_sln_command() [DEPRECATED]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-msvc-build-command-deprecated">tools.msvc_build_command() [DEPRECATED]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-unzip">tools.unzip()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-untargz">tools.untargz()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-get">tools.get()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-get-env">tools.get_env()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-download">tools.download()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-ftp-download">tools.ftp_download()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-replace-in-file">tools.replace_in_file()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-replace-path-in-file">tools.replace_path_in_file()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-run-environment">tools.run_environment()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-check-with-algorithm-sum">tools.check_with_algorithm_sum()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-patch">tools.patch()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-environment-append">tools.environment_append()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-chdir">tools.chdir()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-pythonpath">tools.pythonpath()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-no-op">tools.no_op()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-human-size">tools.human_size()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-osinfo-and-tools-systempackagetool">tools.OSInfo and tools.SystemPackageTool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-cross-building">tools.cross_building()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-get-gnu-triplet">tools.get_gnu_triplet()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-run-in-windows-bash">tools.run_in_windows_bash()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-get-cased-path">tools.get_cased_path()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-detected-os">tools.detected_os()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-remove-from-path">tools.remove_from_path()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-unix-path">tools.unix_path()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-escape-windows-cmd">tools.escape_windows_cmd()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-sha1sum-sha256sum-md5sum">tools.sha1sum(), sha256sum(), md5sum()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-md5">tools.md5()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-save">tools.save()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-load">tools.load()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-mkdir-tools-rmdir">tools.mkdir(), tools.rmdir()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-which">tools.which()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-unix2dos">tools.unix2dos()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-dos2unix">tools.dos2unix()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-rename">tools.rename()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-touch">tools.touch()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-relative-dirs">tools.relative_dirs()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-vswhere">tools.vswhere()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-vs-comntools">tools.vs_comntools()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-vs-installation-path">tools.vs_installation_path()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-replace-prefix-in-pc-file">tools.replace_prefix_in_pc_file()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-collect-libs">tools.collect_libs()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-pkgconfig">tools.PkgConfig()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-git">tools.Git()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-svn">tools.SVN()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-is-apple-os">tools.is_apple_os()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-to-apple-arch">tools.to_apple_arch()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-apple-sdk-name">tools.apple_sdk_name()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-apple-deployment-target-env">tools.apple_deployment_target_env()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-apple-deployment-target-flag">tools.apple_deployment_target_flag()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-xcrun">tools.XCRun()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-latest-vs-version-installed">tools.latest_vs_version_installed()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-apple-dot-clean">tools.apple_dot_clean()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-version">tools.Version()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-to-android-abi">tools.to_android_abi()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-check-min-cppstd">tools.check_min_cppstd()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-valid-min-cppstd">tools.valid_min_cppstd()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-cppstd-flag">tools.cppstd_flag():</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-msvs-toolset">tools.msvs_toolset()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-intel-compilervars-command">tools.intel_compilervars_command()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-intel-compilervars-dict">tools.intel_compilervars_dict()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-intel-compilervars">tools.intel_compilervars()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-intel-installation-path">tools.intel_installation_path()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-remove-files-by-mask">tools.remove_files_by_mask()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-stdcpp-library">tools.stdcpp_library():</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tools-fix-symlinks">tools.fix_symlinks():</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="env_vars.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="hooks.html">Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="conan_v2_mode.html">CONAN_V2_MODE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #eb8484;background-color: #ffcaca;padding: 3px;margin-bottom: 5px">
              <p>This document is for a <b>"1.X" legacy</b> Conan version, <b>which is no longer recommended</b>. Please update to Conan 2, <a href="https://docs.conan.io/2/">click here to read the <b>Conan 2</b> documentation</a></p>
            </div>
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  📖 The Conan 2 essentials training is now available in the JFrog Academy for free.
                  <a href="https://academy.jfrog.com/conan-2-essentials?utm_source=Conan+Docs" target="_blank">Register now</a>.
                </p>
              </div>                                                  
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../reference.html">Reference</a></li>
      <li class="breadcrumb-item active">Tools</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/master/reference/tools.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tools">
<span id="id1"></span><h1>Tools<a class="headerlink" href="#tools" title="Link to this heading"></a></h1>
<p>Under the tools module there are several functions and utilities that can be used in Conan package recipes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="hll"> <span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>
</span>
 <span class="k">class</span><span class="w"> </span><span class="nc">ExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>
</pre></div>
</div>
<section id="tools-cpu-count">
<span id="id2"></span><h2>tools.cpu_count()<a class="headerlink" href="#tools-cpu-count" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">tools</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns the number of CPUs available, for parallel builds. If processor detection is not enabled, it will safely return 1. When
running in Docker, it reads cgroup to detect the configured number of CPUs. It Can be overwritten with the environment variable
<a class="reference internal" href="env_vars.html#env-vars-conan-cpu-count"><span class="std std-ref">CONAN_CPU_COUNT</span></a> and configured in the <a class="reference internal" href="config_files/conan.conf.html#conan-conf"><span class="std std-ref">conan.conf</span></a>.</p>
</section>
<section id="tools-vcvars-command">
<span id="id3"></span><h2>tools.vcvars_command()<a class="headerlink" href="#tools-vcvars-command" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">vcvars_command</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compiler_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">vcvars_ver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">winsdk_version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns, for given settings, the command that should be called to load the Visual Studio environment variables for a certain Visual Studio
version. It wraps the functionality of <a class="reference external" href="https://docs.microsoft.com/en-us/cpp/build/building-on-the-command-line?view=vs-2017">vcvarsall</a>
but does not execute the command, as that typically have to be done in the same command as the compilation, so the variables are loaded for
the same subprocess. It will be typically used in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">build_os</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span><span class="p">:</span>
        <span class="n">vcvars_command</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">vcvars_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">build_command</span> <span class="o">=</span> <span class="o">...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &amp;&amp; configure </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">vcvars_command</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &amp;&amp; </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">vcvars</span><span class="p">,</span> <span class="n">build_command</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">build_args</span><span class="p">)))</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">vcvars_command</span></code> string will contain something like <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">&quot;%vsXX0comntools%../../VC/vcvarsall.bat&quot;</span></code> for the corresponding Visual
Studio version for the current settings.</p>
<p>This is typically not needed if using CMake, as the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> generator will handle the correct Visual Studio version.</p>
<p>If <strong>arch</strong> or <strong>compiler_version</strong> is specified, it will ignore the settings and return the command to set the Visual Studio environment
for these parameters.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): Conanfile object. Use <code class="docutils literal notranslate"><span class="pre">self</span></code> in a <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>.</p></li>
<li><p><strong>arch</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Will use <code class="docutils literal notranslate"><span class="pre">settings.arch</span></code>.</p></li>
<li><p><strong>compiler_version</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Will use <code class="docutils literal notranslate"><span class="pre">settings.compiler.version</span></code>.</p></li>
<li><p><strong>force</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Will ignore if the environment is already set for a different Visual Studio version.</p></li>
<li><p><strong>winsdk_version</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specifies the version of the Windows SDK to use.</p></li>
<li><p><strong>vcvars_ver</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specifies the Visual Studio compiler toolset to use.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When cross-building from x64 to x86 the toolchain by default is <code class="docutils literal notranslate"><span class="pre">x86</span></code>. If you want to use <code class="docutils literal notranslate"><span class="pre">amd64_x86</span></code> instead, set the environment
variable <code class="docutils literal notranslate"><span class="pre">PreferredToolArchitecture=x64</span></code>.</p>
</div>
</section>
<section id="tools-vcvars-dict">
<span id="id4"></span><h2>tools.vcvars_dict()<a class="headerlink" href="#tools-vcvars-dict" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vcvars_dict</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compiler_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">filter_known_paths</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">vcvars_ver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">winsdk_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">only_diff</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns a dictionary with the variables set by the <a class="reference internal" href="#tools-vcvars-command"><span class="std std-ref">tools.vcvars_command()</span></a> that can be directly applied to
<a class="reference internal" href="#tools-environment-append"><span class="std std-ref">tools.environment_append()</span></a>.</p>
<p>The values of the variables <code class="docutils literal notranslate"><span class="pre">INCLUDE</span></code>, <code class="docutils literal notranslate"><span class="pre">LIB</span></code>, <code class="docutils literal notranslate"><span class="pre">LIBPATH</span></code> and <code class="docutils literal notranslate"><span class="pre">PATH</span></code> will be returned as a list. When used with
<a class="reference internal" href="#tools-environment-append"><span class="std std-ref">tools.environment_append()</span></a>, the previous environment values that these variables may have will be appended automatically.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">env_vars</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">vcvars_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">environment_append</span><span class="p">(</span><span class="n">env_vars</span><span class="p">):</span>
        <span class="c1"># Do something</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>Same as <a class="reference internal" href="#tools-vcvars-command"><span class="std std-ref">tools.vcvars_command()</span></a>.</p></li>
<li><p><strong>filter_known_paths</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When True, the function will only keep the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> entries that follows
some known patterns, filtering all the non-Visual Studio ones. When False, it will keep the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> will all the system entries.</p></li>
<li><p><strong>only_diff</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): When True, the command will return only the variables set by <code class="docutils literal notranslate"><span class="pre">vcvarsall</span></code> and not
the whole environment. If <cite>vcvars</cite> modifies an environment variable by appending values to the old value (separated by <code class="docutils literal notranslate"><span class="pre">;</span></code>), only
the new values will be returned, as a list.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-vcvars">
<h2>tools.vcvars()<a class="headerlink" href="#tools-vcvars" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vcvars</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compiler_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">filter_known_paths</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This context manager tool has no effect if used in a platform different from Windows.</p>
</div>
<p>This is a context manager that allows to append to the environment all the variables set by the <a class="reference internal" href="#tools-vcvars-dict"><span class="std std-ref">tools.vcvars_dict()</span></a>. You can replace
<a class="reference internal" href="#tools-vcvars-command"><span class="std std-ref">tools.vcvars_command()</span></a> and use this context manager to get a cleaner way to activate the Visual Studio environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">vcvars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="tools-build-sln-command-deprecated">
<span id="tools-build-sln-command"></span><h2>tools.build_sln_command() [DEPRECATED]<a class="headerlink" href="#tools-build-sln-command-deprecated" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This tool is deprecated and will be removed in Conan 2.0. Use <a class="reference internal" href="build_helpers/visual_studio.html#msbuild"><span class="std std-ref">MSBuild()</span></a> build helper instead.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build_sln_command</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">sln_path</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">upgrade_project</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">build_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">toolset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">platforms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verbosity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                      <span class="n">definitions</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the command to call <cite>devenv</cite> and <cite>msbuild</cite> to build a Visual Studio project. It’s recommended to use it with
<a class="reference internal" href="#tools-vcvars-command"><span class="std std-ref">tools.vcvars_command()</span></a>, so that the Visual Studio tools will be in path.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">build_command</span> <span class="o">=</span> <span class="n">build_sln_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">,</span> <span class="s2">&quot;myfile.sln&quot;</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SDL2_image&quot;</span><span class="p">])</span>
    <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &amp;&amp; </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">vcvars_command</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">),</span> <span class="n">build_command</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Parameters:</dt><dd><ul>
<li><p><strong>settings</strong> (Required): Conanfile settings. Use “self.settings”.</p></li>
<li><p><strong>sln_path</strong> (Required):  Visual Studio project file path.</p></li>
<li><p><strong>targets</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>):  List of targets to build.</p></li>
<li><p><strong>upgrade_project</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the project file will be upgraded if the project’s VS version is
older than current. When <a class="reference internal" href="env_vars.html#env-vars-conan-skip-vs-project-upgrade"><span class="std std-ref">CONAN_SKIP_VS_PROJECTS_UPGRADE</span></a> environment variable is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>/<code class="docutils literal notranslate"><span class="pre">1</span></code>, this parameter
will be ignored and the project won’t be upgraded.</p></li>
<li><p><strong>build_type</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Override the build type defined in the settings (<code class="docutils literal notranslate"><span class="pre">settings.build_type</span></code>).</p></li>
<li><p><strong>arch</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Override the architecture defined in the settings (<code class="docutils literal notranslate"><span class="pre">settings.arch</span></code>).</p></li>
<li><p><strong>parallel</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Enables Visual Studio parallel build with <code class="docutils literal notranslate"><span class="pre">/m:X</span></code> argument, where X is defined by
<a class="reference internal" href="env_vars.html#env-vars-conan-cpu-count"><span class="std std-ref">CONAN_CPU_COUNT</span></a> environment variable or by the number of cores in the processor by default.</p></li>
<li><p><strong>toolset</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specify a toolset. Will append a <code class="docutils literal notranslate"><span class="pre">/p:PlatformToolset</span></code> option.</p></li>
<li><p><strong>platforms</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Dictionary with the mapping of archs/platforms from Conan naming to another one. It
is useful for Visual Studio solutions that have a different naming in architectures. Example: <code class="docutils literal notranslate"><span class="pre">platforms={&quot;x86&quot;:&quot;Win32&quot;}</span></code> (Visual
solution uses “Win32” instead of “x86”). This dictionary will update the following default one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">msvc_arch</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x86&#39;</span><span class="p">:</span> <span class="s1">&#39;x86&#39;</span><span class="p">,</span>
             <span class="s1">&#39;x86_64&#39;</span><span class="p">:</span> <span class="s1">&#39;x64&#39;</span><span class="p">,</span>
             <span class="s1">&#39;armv7&#39;</span><span class="p">:</span> <span class="s1">&#39;ARM&#39;</span><span class="p">,</span>
             <span class="s1">&#39;armv8&#39;</span><span class="p">:</span> <span class="s1">&#39;ARM64&#39;</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>verbosity</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specifies verbosity level (<code class="docutils literal notranslate"><span class="pre">/verbosity:</span></code> parameter).</p></li>
<li><p><strong>definitions</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Dictionary with additional compiler definitions to be applied during the build.
Use value of None to set compiler definition with no value.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-msvc-build-command-deprecated">
<span id="tools-msvc-build-command"></span><h2>tools.msvc_build_command() [DEPRECATED]<a class="headerlink" href="#tools-msvc-build-command-deprecated" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This tool is deprecated and will be removed in Conan 2.0. Use <a class="reference internal" href="build_helpers/visual_studio.html#msbuild"><span class="std std-ref">MSBuild()</span></a>.get_command() instead.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">msvc_build_command</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">sln_path</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">upgrade_project</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">build_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">force_vcvars</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toolset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">platforms</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns a string with a joint command consisting in setting the environment variables via <code class="docutils literal notranslate"><span class="pre">vcvars.bat</span></code> with the above
<a class="reference internal" href="#tools-vcvars-command"><span class="std std-ref">tools.vcvars_command()</span></a> function, and building a Visual Studio project with the <a class="reference internal" href="#tools-build-sln-command"><span class="std std-ref">tools.build_sln_command() [DEPRECATED]</span></a> function.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>Same parameters as the above <a class="reference internal" href="#tools-build-sln-command"><span class="std std-ref">tools.build_sln_command() [DEPRECATED]</span></a>.</p></li>
<li><p><strong>force_vcvars</strong>: Optional. Defaulted to False. Will set <code class="docutils literal notranslate"><span class="pre">tools.vcvars_command(force=force_vcvars)</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-unzip">
<span id="id5"></span><h2>tools.unzip()<a class="headerlink" href="#tools-unzip" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">unzip</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">keep_permissions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strip_root</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Function mainly used in <code class="docutils literal notranslate"><span class="pre">source()</span></code>, but could be used in <code class="docutils literal notranslate"><span class="pre">build()</span></code> in special cases, as when retrieving pre-built binaries from the
Internet.</p>
<p>This function accepts <code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar</span></code>, <code class="docutils literal notranslate"><span class="pre">.tzb2</span></code>, <code class="docutils literal notranslate"><span class="pre">.tar.bz2</span></code>, <code class="docutils literal notranslate"><span class="pre">.tgz</span></code>, <code class="docutils literal notranslate"><span class="pre">.txz</span></code>, <code class="docutils literal notranslate"><span class="pre">tar.xz</span></code>, and <code class="docutils literal notranslate"><span class="pre">.zip</span></code> files, and decompresses
them into the given destination folder (the current one by default).</p>
<p>It also accepts gzipped files, with extension <code class="docutils literal notranslate"><span class="pre">.gz</span></code> (not matching any of the above), and it will unzip them into a file with the same name
but without the extension, or to a filename defined by the <code class="docutils literal notranslate"><span class="pre">destination</span></code> argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="s2">&quot;myfile.zip&quot;</span><span class="p">)</span>
<span class="c1"># or to extract in &quot;myfolder&quot; sub-folder</span>
<span class="n">tools</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="s2">&quot;myfile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfolder&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can keep the permissions of the files using the <code class="docutils literal notranslate"><span class="pre">keep_permissions=True</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="s2">&quot;myfile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfolder&quot;</span><span class="p">,</span> <span class="n">keep_permissions</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">pattern=None</span></code> if you want to filter specific files and paths to decompress from the archive.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="c1"># Extract only files inside relative folder &quot;small&quot;</span>
<span class="n">tools</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="s2">&quot;bigfile.zip&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s2">&quot;small/*&quot;</span><span class="p">)</span>
<span class="c1"># Extract only txt files</span>
<span class="n">tools</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="s2">&quot;bigfile.zip&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s2">&quot;*.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>filename</strong> (Required): File to be unzipped.</p></li>
<li><p><strong>destination</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;.&quot;</span></code>): Destination folder for unzipped files.</p></li>
<li><p><strong>keep_permissions</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Keep permissions of files. <strong>WARNING:</strong> Can be dangerous if the zip
was not created in a NIX system, the bits could produce undefined permission schema. Use only this option if you are sure that
the zip was created correctly.</p></li>
<li><p><strong>pattern</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Extract from the archive only paths matching the pattern. This should be a Unix
shell-style wildcard. See <a class="reference external" href="https://docs.python.org/3/library/fnmatch.html">fnmatch</a> documentation for more details.</p></li>
<li><p><strong>strip_root</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When <code class="docutils literal notranslate"><span class="pre">True</span></code> and the ZIP file contains one folder containing all the contents,
it will strip the root folder moving all its contents to the root. E.g: <em>mylib-1.2.8/main.c</em> will be extracted as <em>main.c</em>. If the compressed
file contains more than one folder or only a file it will raise a <code class="docutils literal notranslate"><span class="pre">ConanException</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-untargz">
<span id="id6"></span><h2>tools.untargz()<a class="headerlink" href="#tools-untargz" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">untargz</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strip_root</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract <em>.tar.gz</em> files (or in the family). This is the function called by the previous <code class="docutils literal notranslate"><span class="pre">unzip()</span></code> for the matching extensions, so
generally not needed to be called directly, call <code class="docutils literal notranslate"><span class="pre">unzip()</span></code> instead unless the file had a different extension.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">untargz</span><span class="p">(</span><span class="s2">&quot;myfile.tar.gz&quot;</span><span class="p">)</span>
<span class="c1"># or to extract in &quot;myfolder&quot; sub-folder</span>
<span class="n">tools</span><span class="o">.</span><span class="n">untargz</span><span class="p">(</span><span class="s2">&quot;myfile.tar.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;myfolder&quot;</span><span class="p">)</span>
<span class="c1"># or to extract only txt files</span>
<span class="n">tools</span><span class="o">.</span><span class="n">untargz</span><span class="p">(</span><span class="s2">&quot;myfile.tar.gz&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="s2">&quot;*.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>filename</strong> (Required): File to be unzipped.</p></li>
<li><p><strong>destination</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;.&quot;</span></code>): Destination folder for <em>untargzed</em> files.</p></li>
<li><p><strong>pattern</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Extract from the archive only paths matching the pattern. This should be a Unix
shell-style wildcard. See <a class="reference external" href="https://docs.python.org/3/library/fnmatch.html">fnmatch</a> documentation for more details.</p></li>
<li><p><strong>strip_root</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When <code class="docutils literal notranslate"><span class="pre">True</span></code> and the <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code> file contains one folder containing all the contents,
it will strip the root folder moving all its contents to the root. E.g: <em>mylib-1.2.8/main.c</em> will be extracted as <em>main.c</em>. If the compressed
file contains more than one folder or only a file it will raise a <code class="docutils literal notranslate"><span class="pre">ConanException</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-get">
<span id="id8"></span><h2>tools.get()<a class="headerlink" href="#tools-get" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">md5</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sha1</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sha256</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">keep_permissions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">pattern</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requester</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">retry_wait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strip_root</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Just a high level wrapper for download, unzip, and remove the temporary zip file once unzipped. You can pass hash checking parameters:
<code class="docutils literal notranslate"><span class="pre">md5</span></code>, <code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>. All the specified algorithms will be checked. If any of them doesn’t match, it will raise a
<code class="docutils literal notranslate"><span class="pre">ConanException</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://url/file&quot;</span><span class="p">,</span> <span class="n">md5</span><span class="o">=</span><span class="s1">&#39;d2da0cd0756cd9da6560b9a56016a0cb&#39;</span><span class="p">)</span>
<span class="c1"># also, specify a destination folder</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://url/file&quot;</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;subfolder&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>url</strong> (Required): URL to download. It can be a list, which only the first one will be downloaded, and
the follow URLs will be used as mirror in case of a download error.</p></li>
<li><p><strong>md5</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): MD5 hash code to check the downloaded file.</p></li>
<li><p><strong>sha1</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): SHA-1 hash code to check the downloaded file.</p></li>
<li><p><strong>sha256</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): SHA-256 hash code to check the downloaded file.</p></li>
<li><p><strong>filename</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): Specify the name of the compressed file if it cannot be deduced from the URL.</p></li>
<li><p><strong>keep_permissions</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Propagates the parameter to <a class="reference internal" href="#tools-unzip"><span class="std std-ref">tools.unzip()</span></a>.</p></li>
<li><p><strong>pattern</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Propagates the parameter to <a class="reference internal" href="#tools-unzip"><span class="std std-ref">tools.unzip()</span></a>.</p></li>
<li><p><strong>requester</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): HTTP requests instance</p></li>
<li><p><strong>output</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Stream object.</p></li>
<li><p><strong>verify</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): When False, disables https certificate validation.</p></li>
<li><p><strong>retry</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">2</span></code>): Number of retries in case of failure. Default is overriden by <code class="docutils literal notranslate"><span class="pre">general.retry</span></code>
in the <em>conan.conf</em> file or an env variable <code class="docutils literal notranslate"><span class="pre">CONAN_RETRY</span></code>.</p></li>
<li><p><strong>retry_wait</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">5</span></code>): Seconds to wait between download attempts. Default is overriden by <code class="docutils literal notranslate"><span class="pre">general.retry_wait</span></code>
in the <em>conan.conf</em> file or an env variable <code class="docutils literal notranslate"><span class="pre">CONAN_RETRY_WAIT</span></code>.</p></li>
<li><p><strong>overwrite</strong>: (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When <code class="docutils literal notranslate"><span class="pre">True</span></code> Conan will overwrite the destination file if it exists. Otherwise it
will raise.</p></li>
<li><p><strong>auth</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): A tuple of user, password can be passed to use HTTPBasic authentication. This is passed
directly to the <code class="docutils literal notranslate"><span class="pre">requests</span></code> Python library. Check here other uses of the <strong>auth</strong> parameter:
<a class="reference external" href="https://requests.readthedocs.io/en/master/user/authentication/#basic-authentication">https://requests.readthedocs.io/en/master/user/authentication/#basic-authentication</a></p></li>
<li><p><strong>headers</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): A dictionary with additional headers.</p></li>
<li><p><strong>strip_root</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When <code class="docutils literal notranslate"><span class="pre">True</span></code> and the compressed file contains one folder containing all the contents,
it will strip the root folder moving all its contents to the root. E.g: <em>mylib-1.2.8/main.c</em> will be extracted as <em>main.c</em>. If the compressed
file contains more than one folder or only a file it will raise a <code class="docutils literal notranslate"><span class="pre">ConanException</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-get-env">
<span id="id9"></span><h2>tools.get_env()<a class="headerlink" href="#tools-get-env" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_env</span><span class="p">(</span><span class="n">env_key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">environment</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Parses an environment and cast its value against the <strong>default</strong> type passed as an argument. Following Python conventions, returns
<strong>default</strong> if <strong>env_key</strong> is not defined.</p>
<p>This is a usage example with an environment variable defined while executing Conan:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">TEST_ENV</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="w"> </span>conan<span class="w"> </span>&lt;command&gt;<span class="w"> </span>...
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV&quot;</span><span class="p">)</span> <span class="c1"># returns &quot;1&quot;, returns current value</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV_NOT_DEFINED&quot;</span><span class="p">)</span> <span class="c1"># returns None, TEST_ENV_NOT_DEFINED not declared</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV_NOT_DEFINED&quot;</span><span class="p">,</span> <span class="p">[])</span> <span class="c1"># returns [], TEST_ENV_NOT_DEFINED not declared</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">)</span> <span class="c1"># returns &quot;1&quot;</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="c1"># returns True (default value is boolean)</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># returns 1</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV&quot;</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span> <span class="c1"># returns 1.0</span>
<span class="n">tools</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="s2">&quot;TEST_ENV&quot;</span><span class="p">,</span> <span class="p">[])</span> <span class="c1"># returns [&quot;1&quot;]</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>env_key</strong> (Required): environment variable name.</p></li>
<li><p><strong>default</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): default value to return if not defined or cast value against.</p></li>
<li><p><strong>environment</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> if <code class="docutils literal notranslate"><span class="pre">None</span></code> or environment dictionary to look for.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-download">
<span id="id10"></span><h2>tools.download()<a class="headerlink" href="#tools-download" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">download</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">retry_wait</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
             <span class="n">auth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requester</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">md5</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sha1</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sha256</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves a file from a given URL into a file with a given filename. It uses certificates from a list of known verifiers for https
downloads, but this can be optionally disabled.</p>
<p>You can pass hash checking parameters: <code class="docutils literal notranslate"><span class="pre">md5</span></code>, <code class="docutils literal notranslate"><span class="pre">sha1</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>. All the specified algorithms will be checked.
If any of them doesn’t match, the downloaded file will be removed and it will raise a <code class="docutils literal notranslate"><span class="pre">ConanException</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;http://someurl/somefile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfilename.zip&quot;</span><span class="p">)</span>

<span class="c1"># to disable verification:</span>
<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;http://someurl/somefile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfilename.zip&quot;</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># to retry the download 2 times waiting 5 seconds between them</span>
<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;http://someurl/somefile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfilename.zip&quot;</span><span class="p">,</span> <span class="n">retry</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">retry_wait</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Use https basic authentication</span>
<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;http://someurl/somefile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfilename.zip&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">))</span>

<span class="c1"># Pass some header</span>
<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;http://someurl/somefile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfilename.zip&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Myheader&quot;</span><span class="p">:</span> <span class="s2">&quot;My value&quot;</span><span class="p">})</span>

<span class="c1"># Download and check file checksum</span>
<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;http://someurl/somefile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;myfilename.zip&quot;</span><span class="p">,</span> <span class="n">md5</span><span class="o">=</span><span class="s2">&quot;e5d695597e9fa520209d1b41edad2a27&quot;</span><span class="p">)</span>

<span class="c1"># to add mirrors</span>
<span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">([</span><span class="s2">&quot;https://ftp.gnu.org/gnu/gcc/gcc-9.3.0/gcc-9.3.0.tar.gz&quot;</span><span class="p">,</span>
                <span class="s2">&quot;http://mirror.linux-ia64.org/gnu/gcc/releases/gcc-9.3.0/gcc-9.3.0.tar.gz&quot;</span><span class="p">],</span> <span class="s2">&quot;gcc-9.3.0.tar.gz&quot;</span><span class="p">,</span>
               <span class="n">sha256</span><span class="o">=</span><span class="s2">&quot;5258a9b6afe9463c2e56b9e8355b1a4bee125ca828b8078f910303bc2ef91fa6&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>url</strong> (Required): URL to download. It can be a list, which only the first one will be downloaded, and
the follow URLs will be used as mirror in case of download error.</p></li>
<li><p><strong>filename</strong> (Required): Name of the file to be created in the local storage</p></li>
<li><p><strong>verify</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): When False, disables https certificate validation.</p></li>
<li><p><strong>out</strong>: (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): An object with a <code class="docutils literal notranslate"><span class="pre">write()</span></code> method can be passed to get the output. <code class="docutils literal notranslate"><span class="pre">stdout</span></code> will use
if not specified.</p></li>
<li><p><strong>retry</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">1</span></code>): Number of retries in case of failure. Default is overriden by <code class="docutils literal notranslate"><span class="pre">general.retry</span></code>
in the <em>conan.conf</em> file or an env variable <code class="docutils literal notranslate"><span class="pre">CONAN_RETRY</span></code>.</p></li>
<li><p><strong>retry_wait</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">5</span></code>): Seconds to wait between download attempts. Default is overriden by <code class="docutils literal notranslate"><span class="pre">general.retry_wait</span></code>
in the <em>conan.conf</em> file or an env variable <code class="docutils literal notranslate"><span class="pre">CONAN_RETRY_WAIT</span></code>.</p></li>
<li><p><strong>overwrite</strong>: (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When <code class="docutils literal notranslate"><span class="pre">True</span></code>, Conan will overwrite the destination file if exists. Otherwise it
will raise an exception.</p></li>
<li><p><strong>auth</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): A tuple of user and password to use HTTPBasic authentication. This is used directly in the
<code class="docutils literal notranslate"><span class="pre">requests</span></code> Python library. Check other uses here: <a class="reference external" href="https://requests.readthedocs.io/en/master/user/authentication/#basic-authentication">https://requests.readthedocs.io/en/master/user/authentication/#basic-authentication</a></p></li>
<li><p><strong>headers</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): A dictionary with additional headers.</p></li>
<li><p><strong>requester</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): HTTP requests instance</p></li>
<li><p><strong>md5</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): MD5 hash code to check the downloaded file.</p></li>
<li><p><strong>sha1</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): SHA-1 hash code to check the downloaded file.</p></li>
<li><p><strong>sha256</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): SHA-256 hash code to check the downloaded file.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-ftp-download">
<span id="id11"></span><h2>tools.ftp_download()<a class="headerlink" href="#tools-ftp-download" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ftp_download</span><span class="p">(</span><span class="n">ip</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">login</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieves a file from an FTP server. This doesn’t support SSL, but you might implement it yourself using the standard Python FTP library.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">ftp_download</span><span class="p">(</span><span class="s1">&#39;ftp.debian.org&#39;</span><span class="p">,</span> <span class="s2">&quot;debian/README&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;README&quot;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>ip</strong> (Required): The IP or address of the ftp server.</p></li>
<li><p><strong>filename</strong> (Required): The filename, including the path/folder where it is located.</p></li>
<li><p><strong>login</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): Login credentials for the ftp server.</p></li>
<li><p><strong>password</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): Password credentials for the ftp server.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-replace-in-file">
<span id="id12"></span><h2>tools.replace_in_file()<a class="headerlink" href="#tools-replace-in-file" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">replace_in_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">search</span><span class="p">,</span> <span class="n">replace</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>This function is useful for a simple “patch” or modification of source files. A typical use would be to augment some library existing
<em>CMakeLists.txt</em> in the <code class="docutils literal notranslate"><span class="pre">source()</span></code> method of a <em>conanfile.py</em>, so it uses Conan dependencies without forking or modifying the original
project:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># get the sources from somewhere</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">replace_in_file</span><span class="p">(</span><span class="s2">&quot;hello/CMakeLists.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;PROJECT(MyHello)&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;PROJECT(MyHello)</span>
<span class="sd">           include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)</span>
<span class="sd">           conan_basic_setup()&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>file_path</strong> (Required): File path of the file to perform the replace in.</p></li>
<li><p><strong>search</strong> (Required): String you want to be replaced.</p></li>
<li><p><strong>replace</strong> (Required): String to replace the searched string.</p></li>
<li><p><strong>strict</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it raises an error if the searched string is not found, so nothing is
actually replaced.</p></li>
<li><p><strong>encoding</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specifies the input and output files text encoding. The <code class="docutils literal notranslate"><span class="pre">None</span></code> value has a special
meaning - perform the encoding detection by checking the BOM (byte order mask), if no BOM is present tries to use: <code class="docutils literal notranslate"><span class="pre">utf-8</span></code>, <code class="docutils literal notranslate"><span class="pre">cp1252</span></code>.
In case of <code class="docutils literal notranslate"><span class="pre">None</span></code>, the output file is saved to the <code class="docutils literal notranslate"><span class="pre">utf-8</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-replace-path-in-file">
<span id="id13"></span><h2>tools.replace_path_in_file()<a class="headerlink" href="#tools-replace-path-in-file" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">replace_path_in_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">search</span><span class="p">,</span> <span class="n">replace</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">windows_paths</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Replace a path in a file with another string. In Windows, it will match the path even if the casing and the path separator doesn’t match.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">replace_path_in_file</span><span class="p">(</span><span class="s2">&quot;hello/somefile.cmake&quot;</span><span class="p">,</span> <span class="s2">&quot;c:\Some/PATH/to\File.txt&quot;</span><span class="p">,</span><span class="s2">&quot;PATTERN/file.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>file_path</strong> (Required): File path of the file to perform the replace in.</p></li>
<li><p><strong>search</strong> (Required): String with the path you want to be replaced.</p></li>
<li><p><strong>replace</strong> (Required): String to replace the searched path.</p></li>
<li><p><strong>strict</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it raises an error if the search string
is not found and nothing is actually replaced.</p></li>
<li><p><strong>windows_paths</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Controls whether the casing of the path and the different
directory separators are taken into account:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: Only when Windows operating system is detected.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>: Deactivated, it will match exact patterns (like <a class="reference internal" href="#tools-replace-in-file"><span class="std std-ref">tools.replace_in_file()</span></a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>: Always activated, irrespective of the detected operating system.</p></li>
</ul>
</li>
<li><p><strong>encoding</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specifies the input and output files text encoding. The <code class="docutils literal notranslate"><span class="pre">None</span></code> value has a special
meaning - perform the encoding detection by checking the BOM (byte order mask), if no BOM is present tries to use: <code class="docutils literal notranslate"><span class="pre">utf-8</span></code>, <code class="docutils literal notranslate"><span class="pre">cp1252</span></code>.
In case of <code class="docutils literal notranslate"><span class="pre">None</span></code>, the output file is saved to the <code class="docutils literal notranslate"><span class="pre">utf-8</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-run-environment">
<span id="id14"></span><h2>tools.run_environment()<a class="headerlink" href="#tools-run-environment" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">run_environment</span><span class="p">(</span><span class="n">conanfile</span><span class="p">)</span>
</pre></div>
</div>
<p>Context manager that sets temporary environment variables set by <a class="reference internal" href="build_helpers/run_environment.html#run-environment-reference"><span class="std std-ref">RunEnvironment</span></a>.</p>
</section>
<section id="tools-check-with-algorithm-sum">
<span id="id15"></span><h2>tools.check_with_algorithm_sum()<a class="headerlink" href="#tools-check-with-algorithm-sum" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check_with_algorithm_sum</span><span class="p">(</span><span class="n">algorithm_name</span><span class="p">,</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
</pre></div>
</div>
<p>Useful to check that some downloaded file or resource has a predefined hash, so integrity and security are guaranteed. Something that could
be typically done in <code class="docutils literal notranslate"><span class="pre">source()</span></code> method after retrieving some file from the internet.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>algorithm_name</strong> (Required): Name of the algorithm to be checked.</p></li>
<li><p><strong>file_path</strong> (Required): File path of the file to be checked.</p></li>
<li><p><strong>signature</strong> (Required): Hash code that the file should have.</p></li>
</ul>
</dd>
</dl>
<p>There are specific functions for common algorithms:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check_sha1</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">check_md5</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">check_sha256</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">check_sha1</span><span class="p">(</span><span class="s2">&quot;myfile.zip&quot;</span><span class="p">,</span> <span class="s2">&quot;eb599ec83d383f0f25691c184f656d40384f9435&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other algorithms are also possible, as long as are recognized by python <code class="docutils literal notranslate"><span class="pre">hashlib</span></code> implementation, via <code class="docutils literal notranslate"><span class="pre">hashlib.new(algorithm_name)</span></code>.
The previous is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">check_with_algorithm_sum</span><span class="p">(</span><span class="s2">&quot;sha1&quot;</span><span class="p">,</span> <span class="s2">&quot;myfile.zip&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;eb599ec83d383f0f25691c184f656d40384f9435&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tools-patch">
<span id="id16"></span><h2>tools.patch()<a class="headerlink" href="#tools-patch" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">patch</span><span class="p">(</span><span class="n">base_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">patch_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">patch_string</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fuzz</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Applies a patch from a file or from a string into the given path. The patch should be in diff (unified diff) format. Use it preferably in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="c1"># from a file</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">patch_file</span><span class="o">=</span><span class="s2">&quot;file.patch&quot;</span><span class="p">)</span>

<span class="c1"># from a string:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">patch_content</span> <span class="o">=</span> <span class="s2">&quot; real patch content ...&quot;</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">patch_string</span><span class="o">=</span><span class="n">patch_content</span><span class="p">)</span>

<span class="c1"># to apply in subfolder</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">base_path</span><span class="o">=</span><span class="n">mysubfolder</span><span class="p">,</span> <span class="n">patch_string</span><span class="o">=</span><span class="n">patch_content</span><span class="p">)</span>

<span class="c1"># from conandata</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">conan_data</span><span class="p">[</span><span class="s2">&quot;patches&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">])</span>

<span class="c1"># from conandata, using multiple versions</span>
<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">patch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">conan_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;patches&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="o">**</span><span class="n">patch</span><span class="p">)</span>
</pre></div>
</div>
<p>If the patch to be applied uses alternate paths that have to be stripped like this example:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- old_path/text.txt\t2016-01-25 17:57:11.452848309 +0100</span>
<span class="gi">+++ new_path/text_new.txt\t2016-01-25 17:57:28.839869950 +0100</span>
<span class="gu">@@ -1 +1 @@</span>
<span class="gd">- old content</span>
<span class="gi">+ new content</span>
</pre></div>
</div>
<p>Then, the number of folders to be stripped from the path can be specified:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">patch_file</span><span class="o">=</span><span class="s2">&quot;file.patch&quot;</span><span class="p">,</span> <span class="n">strip</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>If the patch to be applied differs from the source (fuzzy) the patch will fail by default, however,
you can force it using the <code class="docutils literal notranslate"><span class="pre">fuzz</span></code> option:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">patch_file</span><span class="o">=</span><span class="s2">&quot;file.patch&quot;</span><span class="p">,</span> <span class="n">fuzz</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>When creating a header-only package and there is no usage for build step or build folder, the patch can
be applied to the source folder:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span><span class="p">,</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">HeaderOnly</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">no_copy_source</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="n">tools</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span><span class="n">patch_file</span><span class="o">=</span><span class="s2">&quot;file.patch&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>base_path</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Base path where the patch should be applied.</p></li>
<li><p><strong>patch_file</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Patch file that should be applied.</p></li>
<li><p><strong>patch_string</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Patch string that should be applied.</p></li>
<li><p><strong>strip</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">0</span></code>): Number of folders to be stripped from the path.</p></li>
<li><p><strong>output</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Stream object.</p></li>
<li><p><strong>fuzz</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Accept fuzzy patches.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-environment-append">
<span id="id17"></span><h2>tools.environment_append()<a class="headerlink" href="#tools-environment-append" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">environment_append</span><span class="p">(</span><span class="n">env_vars</span><span class="p">)</span>
</pre></div>
</div>
<p>This is a context manager that allows to temporary use environment variables for a specific piece of code in your conanfile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">environment_append</span><span class="p">({</span><span class="s2">&quot;MY_VAR&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;CXX&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/cxx&quot;</span><span class="p">,</span> <span class="s2">&quot;CPPFLAGS&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}):</span>
        <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<p>The environment variables will be overridden if the value is a string, while it will be prepended if the value is a list.
Additionally, if value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the given environment variable is unset (In the previous example, <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code> environment
variable will be unset), and in case variable wasn’t set prior to the invocation, it has no effect on the given variable (<code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>).
When the context manager block ends, the environment variables will recover their previous state.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>env_vars</strong> (Required): Dictionary object with environment variable name and its value.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-chdir">
<span id="id18"></span><h2>tools.chdir()<a class="headerlink" href="#tools-chdir" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">chdir</span><span class="p">(</span><span class="n">newdir</span><span class="p">)</span>
</pre></div>
</div>
<p>This is a context manager that allows to temporary change the current directory in your conanfile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;./subdir&quot;</span><span class="p">):</span>
        <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>newdir</strong> (Required): Directory path name to change the current directory.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-pythonpath">
<span id="id19"></span><h2>tools.pythonpath()<a class="headerlink" href="#tools-pythonpath" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This way of reusing python code from other recipes can be improved via <a class="reference internal" href="../extending/python_requires.html#python-requires"><span class="std std-ref">Python requires</span></a>.</p>
</div>
<p>This tool is automatically applied in the conanfile methods unless <a class="reference internal" href="conanfile/attributes.html#apply-env"><span class="std std-ref">apply_env</span></a> is deactivated, so any <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>
inherited from the requirements will be automatically available.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">pythonpath</span><span class="p">(</span><span class="n">conanfile</span><span class="p">)</span>
</pre></div>
</div>
<p>This is a context manager that allows to load the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> for dependent packages, create packages with Python code and reuse that
code into your own recipes.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">pythonpath</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">module_name</span><span class="w"> </span><span class="kn">import</span> <span class="n">whatever</span>
        <span class="n">whatever</span><span class="o">.</span><span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<p>When the <a class="reference internal" href="conanfile/attributes.html#apply-env"><span class="std std-ref">apply_env</span></a> is activated (default) the above code could be simplified as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">module_name</span><span class="w"> </span><span class="kn">import</span> <span class="n">whatever</span>
    <span class="n">whatever</span><span class="o">.</span><span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
<p>For that to work, one of the dependencies of the current recipe, must have a <code class="docutils literal notranslate"><span class="pre">module_name</span></code> file or folder with a <code class="docutils literal notranslate"><span class="pre">whatever</span></code> file or
object inside, and should have declared in its <code class="docutils literal notranslate"><span class="pre">package_info()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">PYTHONPATH</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">package_folder</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): Current <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> object.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-no-op">
<span id="id20"></span><h2>tools.no_op()<a class="headerlink" href="#tools-no-op" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">no_op</span><span class="p">()</span>
</pre></div>
</div>
<p>Context manager that performs nothing. Useful to condition any other context manager to get a cleaner code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;some_dir&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">myoption</span> <span class="k">else</span> <span class="n">tools</span><span class="o">.</span><span class="n">no_op</span><span class="p">():</span>
        <span class="c1"># if not self.options.myoption, we are not in the &quot;some_dir&quot;</span>
        <span class="k">pass</span>
</pre></div>
</div>
</section>
<section id="tools-human-size">
<span id="id21"></span><h2>tools.human_size()<a class="headerlink" href="#tools-human-size" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">human_size</span><span class="p">(</span><span class="n">size_bytes</span><span class="p">)</span>
</pre></div>
</div>
<p>Will return a string from a given number of bytes, rounding it to the most appropriate unit: GB, MB, KB, etc. It is mostly used by the Conan
downloads and unzip progress.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">human_size</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="mf">1.0</span><span class="n">KB</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>size_bytes</strong> (Required): Number of bytes.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-osinfo-and-tools-systempackagetool">
<span id="tools-systempackagetool"></span><span id="tools-osinfo"></span><h2>tools.OSInfo and tools.SystemPackageTool<a class="headerlink" href="#tools-osinfo-and-tools-systempackagetool" title="Link to this heading"></a></h2>
<p>These are helpers to install system packages. Check <a class="reference internal" href="conanfile/methods.html#method-system-requirements"><span class="std std-ref">system_requirements()</span></a>.</p>
</section>
<section id="tools-cross-building">
<span id="cross-building-reference"></span><h2>tools.cross_building()<a class="headerlink" href="#tools-cross-building" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">cross_building</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">self_os</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">self_arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">skip_x64_x86</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Evaluates operating system and architecture from the <code class="docutils literal notranslate"><span class="pre">host</span></code> machine and the <code class="docutils literal notranslate"><span class="pre">build</span></code> machine
to return a boolean <code class="docutils literal notranslate"><span class="pre">True</span></code> if it is a cross building scenario. Settings from <code class="docutils literal notranslate"><span class="pre">host</span></code> machine are
taken from the <code class="docutils literal notranslate"><span class="pre">conanfile.settings</span></code>, while setting from the <code class="docutils literal notranslate"><span class="pre">build</span></code> context can provide from
different sources:</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">conanfile.settings_build</span></code> is available (Conan was called with a <code class="docutils literal notranslate"><span class="pre">--profile:build</span></code>) it will
use settings in that profile (read more about <a class="reference internal" href="../devtools/build_requires.html#build-requires-context"><span class="std std-ref">Build and Host contexts</span></a>).</p></li>
<li><p>otherwise, the values for the <code class="docutils literal notranslate"><span class="pre">build</span></code> context will come from (in this order of precedence):
<code class="docutils literal notranslate"><span class="pre">self_os</span></code> and <code class="docutils literal notranslate"><span class="pre">self_arch</span></code> if they are given to the function, the values for <code class="docutils literal notranslate"><span class="pre">os_build</span></code>
and <code class="docutils literal notranslate"><span class="pre">arch_build</span></code> from <code class="docutils literal notranslate"><span class="pre">conanfile.settings</span></code> or auto-detected.</p></li>
</ul>
<p>This tool can be used to run special actions depending on its return value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">if</span> <span class="n">tools</span><span class="o">.</span><span class="n">cross_building</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Some special action</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): Conanfile object. Use <code class="docutils literal notranslate"><span class="pre">self</span></code> in a <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>.</p></li>
<li><p><strong>self_os</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Current operating system where the build is being done.</p></li>
<li><p><strong>self_arch</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Current architecture where the build is being done.</p></li>
<li><p><strong>skip_x64_x86</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Do not consider building for <code class="docutils literal notranslate"><span class="pre">x86</span></code> host from <code class="docutils literal notranslate"><span class="pre">x86_64</span></code> build machine
as cross building, in case of host and build machine use the same operating system. Normally, in such case build machine may
execute binaries produced for the target machine, and special cross-building handling may not be needed.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-get-gnu-triplet">
<span id="id22"></span><h2>tools.get_gnu_triplet()<a class="headerlink" href="#tools-get-gnu-triplet" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">get_gnu_triplet</span><span class="p">(</span><span class="n">os_</span><span class="p">,</span> <span class="n">arch</span><span class="p">,</span> <span class="n">compiler</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns string with GNU like <code class="docutils literal notranslate"><span class="pre">&lt;machine&gt;-&lt;vendor&gt;-&lt;op_system&gt;</span></code> triplet.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>os_</strong> (Required): Operating system to be used to create the triplet.</p></li>
<li><p><strong>arch</strong> (Required): Architecture to be used to create the triplet.</p></li>
<li><p><strong>compiler</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Compiler used to create the triplet (only needed for Windows).</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-run-in-windows-bash">
<span id="id23"></span><h2>tools.run_in_windows_bash()<a class="headerlink" href="#tools-run-in-windows-bash" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">run_in_windows_bash</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">bashcmd</span><span class="p">,</span> <span class="n">cwd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subsystem</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">msys_mingw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">with_login</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Runs a UNIX command inside a bash shell. It requires to have “bash” in the path.
Useful to build libraries using <code class="docutils literal notranslate"><span class="pre">configure</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span></code> in Windows. Check <a class="reference internal" href="../systems_cross_building/windows_subsystems.html#windows-subsystems"><span class="std std-ref">Windows subsytems</span></a> section.</p>
<p>You can customize the path of the bash executable using the environment variable <code class="docutils literal notranslate"><span class="pre">CONAN_BASH_PATH</span></code> or the <a class="reference internal" href="config_files/conan.conf.html#conan-conf"><span class="std std-ref">conan.conf</span></a> <code class="docutils literal notranslate"><span class="pre">bash_path</span></code>
variable to change the default bash location.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;pwd&quot;</span>
<span class="n">tools</span><span class="o">.</span><span class="n">run_in_windows_bash</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span> <span class="c1"># self is a conanfile instance</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): Current <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> object.</p></li>
<li><p><strong>bashcmd</strong> (Required): String with the command to be run.</p></li>
<li><p><strong>cwd</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Path to directory where to apply the command from.</p></li>
<li><p><strong>subsystem</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code> will autodetect the subsystem): Used to escape the command according to the specified
subsystem.</p></li>
<li><p><strong>msys_mingw</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): If the specified subsystem is MSYS2, will start it in MinGW mode (native windows
development).</p></li>
<li><p><strong>env</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): You can pass a dictionary with environment variable to be applied <strong>at first place</strong> so they
will have more priority than others.</p></li>
<li><p><strong>with_login</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Pass the <code class="docutils literal notranslate"><span class="pre">--login</span></code> flag to <strong class="command">bash</strong> command. This might come handy when you
don’t want to create a fresh user session for running the command.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-get-cased-path">
<span id="id24"></span><h2>tools.get_cased_path()<a class="headerlink" href="#tools-get-cased-path" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">get_cased_path</span><span class="p">(</span><span class="n">abs_path</span><span class="p">)</span>
</pre></div>
</div>
<p>This function converts a case-insensitive absolute path to a case-sensitive one. That is, with the real cased characters. Useful when using
Windows subsystems where the file system is case-sensitive.</p>
</section>
<section id="tools-detected-os">
<span id="id25"></span><h2>tools.detected_os()<a class="headerlink" href="#tools-detected-os" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">detected_os</span><span class="p">()</span>
</pre></div>
</div>
<p>It returns the recognized OS name e.g “Macos”, “Windows”. Otherwise it will return the value from <code class="docutils literal notranslate"><span class="pre">platform.system()</span></code>.</p>
</section>
<section id="tools-remove-from-path">
<span id="id26"></span><h2>tools.remove_from_path()<a class="headerlink" href="#tools-remove-from-path" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">remove_from_path</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</pre></div>
</div>
<p>This is a context manager that allows you to remove a tool from the <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. Conan will locate the executable (using <a class="reference internal" href="#tools-which"><span class="std std-ref">tools.which()</span></a>)
and will remove from the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> the directory entry that contains it. It’s not necessary to specify the extension.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">remove_from_path</span><span class="p">(</span><span class="s2">&quot;make&quot;</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;some command&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tools-unix-path">
<span id="id27"></span><h2>tools.unix_path()<a class="headerlink" href="#tools-unix-path" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">unix_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">path_flavor</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Used to translate Windows paths to MSYS/CYGWIN Unix paths like <code class="docutils literal notranslate"><span class="pre">c/users/path/to/file</span></code>.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>path</strong> (Required): Path to be converted.</p></li>
<li><p><strong>path_flavor</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>, will try to autodetect the subsystem): Type of Unix path to be returned. Options are
<code class="docutils literal notranslate"><span class="pre">MSYS</span></code>, <code class="docutils literal notranslate"><span class="pre">MSYS2</span></code>, <code class="docutils literal notranslate"><span class="pre">CYGWIN</span></code>, <code class="docutils literal notranslate"><span class="pre">WSL</span></code> and <code class="docutils literal notranslate"><span class="pre">SFU</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-escape-windows-cmd">
<span id="id28"></span><h2>tools.escape_windows_cmd()<a class="headerlink" href="#tools-escape-windows-cmd" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">escape_windows_cmd</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
</pre></div>
</div>
<p>Useful to escape commands to be executed in a windows bash (msys2, cygwin etc).</p>
<ul class="simple">
<li><p>Adds escapes so the argument can be unpacked by <code class="docutils literal notranslate"><span class="pre">CommandLineToArgvW()</span></code>.</p></li>
<li><p>Adds escapes for <em>cmd.exe</em> so the argument survives to <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code>’s substitutions.</p></li>
</ul>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>command</strong> (Required): Command to execute.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-sha1sum-sha256sum-md5sum">
<span id="id29"></span><h2>tools.sha1sum(), sha256sum(), md5sum()<a class="headerlink" href="#tools-sha1sum-sha256sum-md5sum" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">def</span> <span class="n">md5sum</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sha1sum</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sha256sum</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</pre></div>
</div>
<p>Return the respective hash or checksum for a file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">md5</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">md5sum</span><span class="p">(</span><span class="s2">&quot;myfilepath.txt&quot;</span><span class="p">)</span>
<span class="n">sha1</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">sha1sum</span><span class="p">(</span><span class="s2">&quot;myfilepath.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>file_path</strong> (Required): Path to the file.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-md5">
<span id="id30"></span><h2>tools.md5()<a class="headerlink" href="#tools-md5" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">md5</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the MD5 hash for a string or byte object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">md5</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="s2">&quot;some string, not a file path&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>content</strong> (Required): String or bytes to calculate its md5.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-save">
<span id="id31"></span><h2>tools.save()<a class="headerlink" href="#tools-save" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">append</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Utility function to save files in one line. It will manage the open and close of the file and creating directories if necessary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;otherfile.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;contents of the file&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>path</strong> (Required): Path to the file.</p></li>
<li><p><strong>content</strong> (Required): Content that should be saved into the file.</p></li>
<li><p><strong>append</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it will append the content.</p></li>
<li><p><strong>encoding</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">utf-8</span></code>): Specifies the output file text encoding.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-load">
<span id="id32"></span><h2>tools.load()<a class="headerlink" href="#tools-load" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">load</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Utility function to load files in one line. It will manage the open and close of the file, and load binary encodings. Returns the content of
the file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">content</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;myfile.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>path</strong> (Required): Path to the file.</p></li>
<li><p><strong>binary</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it reads the the file as binary code.</p></li>
<li><p><strong>encoding</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">auto</span></code>): Specifies the input file text encoding. The <code class="docutils literal notranslate"><span class="pre">auto</span></code> value has a special
meaning - perform the encoding detection by checking the BOM (byte order mask), if no BOM is present tries to use: <code class="docutils literal notranslate"><span class="pre">utf-8</span></code>, <code class="docutils literal notranslate"><span class="pre">cp1252</span></code>.
The value is ignored in case of <code class="docutils literal notranslate"><span class="pre">binary</span></code> set to the <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-mkdir-tools-rmdir">
<span id="tools-mkdir-rmdir"></span><h2>tools.mkdir(), tools.rmdir()<a class="headerlink" href="#tools-mkdir-tools-rmdir" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">mkdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">rmdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>Utility functions to create/delete a directory. The existence of the specified directory is checked, so <code class="docutils literal notranslate"><span class="pre">mkdir()</span></code> will do nothing if the
directory already exists and <code class="docutils literal notranslate"><span class="pre">rmdir()</span></code> will do nothing if the directory does not exists.</p>
<p>This makes it safe to use these functions in the <code class="docutils literal notranslate"><span class="pre">package()</span></code> method of a <em>conanfile.py</em> when <code class="docutils literal notranslate"><span class="pre">no_copy_source=True</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;mydir&quot;</span><span class="p">)</span> <span class="c1"># Creates mydir if it does not already exist</span>
<span class="n">tools</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;mydir&quot;</span><span class="p">)</span> <span class="c1"># Does nothing</span>

<span class="n">tools</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="s2">&quot;mydir&quot;</span><span class="p">)</span> <span class="c1"># Deletes mydir</span>
<span class="n">tools</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="s2">&quot;mydir&quot;</span><span class="p">)</span> <span class="c1"># Does nothing</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>path</strong> (Required): Path to the directory.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-which">
<span id="id33"></span><h2>tools.which()<a class="headerlink" href="#tools-which" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">which</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the path to a specified executable searching in the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable. If not found, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This tool also looks for filenames with following extensions if no extension provided:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.com</span></code>, <code class="docutils literal notranslate"><span class="pre">.exe</span></code>, <code class="docutils literal notranslate"><span class="pre">.bat</span></code> <code class="docutils literal notranslate"><span class="pre">.cmd</span></code> for Windows.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.sh</span></code> if not Windows.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">abs_path_make</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="s2">&quot;make&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>filename</strong> (Required): Name of the executable file. It doesn’t require the extension of the executable.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-unix2dos">
<span id="id34"></span><h2>tools.unix2dos()<a class="headerlink" href="#tools-unix2dos" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">unix2dos</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts line breaks in a text file from Unix format (LF) to DOS format (CRLF).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">unix2dos</span><span class="p">(</span><span class="s2">&quot;project.dsp&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>filepath</strong> (Required): The file to convert.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-dos2unix">
<span id="id35"></span><h2>tools.dos2unix()<a class="headerlink" href="#tools-dos2unix" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">dos2unix</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts line breaks in a text file from DOS format (CRLF) to Unix format (LF).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">dos2unix</span><span class="p">(</span><span class="s2">&quot;dosfile.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>filepath</strong> (Required): The file to convert.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-rename">
<span id="id36"></span><h2>tools.rename()<a class="headerlink" href="#tools-rename" title="Link to this heading"></a></h2>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.29.0">1.29.0</a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">rename</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">)</span>
</pre></div>
</div>
<p>Utility functions to rename a file or folder <em>src</em> to <em>dst</em> with retrying. <code class="docutils literal notranslate"><span class="pre">os.rename()</span></code> frequently raises “Access is denied” exception on windows. This function renames file or folder using robocopy to avoid the exception on windows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>
<span class="n">tools</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;src_dir&quot;</span><span class="p">,</span> <span class="s2">&quot;dst_dir&quot;</span><span class="p">)</span> <span class="c1"># renaming a folder</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>src</strong> (Required): Path to be renamed.</p></li>
<li><p><strong>dst</strong> (Required): Path to be renamed to.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-touch">
<h2>tools.touch()<a class="headerlink" href="#tools-touch" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">touch</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">times</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Updates the timestamp (last access and last modification times) of a file. This is similar to Unix’ <code class="docutils literal notranslate"><span class="pre">touch</span></code> command except that this one
fails if the file does not exist.</p>
<p>Optionally, a tuple of two numbers can be specified, which denotes the new values for the last access and last modified times respectively.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="n">tools</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="s2">&quot;myfile&quot;</span><span class="p">)</span>                            <span class="c1"># Sets atime and mtime to the current time</span>
<span class="n">tools</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="s2">&quot;myfile&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span> <span class="c1"># Similar to above</span>
<span class="n">tools</span><span class="o">.</span><span class="n">touch</span><span class="p">(</span><span class="s2">&quot;myfile&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="mi">1</span><span class="p">))</span>          <span class="c1"># Modified long, long ago</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>fname</strong> (Required): File name of the file to be touched.</p></li>
<li><p><strong>times</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>: Tuple with ‘last access’ and ‘last modified’ times.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-relative-dirs">
<span id="id38"></span><h2>tools.relative_dirs()<a class="headerlink" href="#tools-relative-dirs" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">relative_dirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p>Recursively walks a given directory (using <code class="docutils literal notranslate"><span class="pre">os.walk()</span></code>) and returns a list of all contained file paths relative to the given directory.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">tools</span><span class="o">.</span><span class="n">relative_dirs</span><span class="p">(</span><span class="s2">&quot;mydir&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>path</strong> (Required): Path of the directory.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-vswhere">
<span id="id39"></span><h2>tools.vswhere()<a class="headerlink" href="#tools-vswhere" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">vswhere</span><span class="p">(</span><span class="n">all_</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">prerelease</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">products</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">requires</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">latest</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">legacy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">property_</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">nologo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Wrapper of <code class="docutils literal notranslate"><span class="pre">vswhere</span></code> tool to look for details of Visual Studio installations. Its output is always a list with a dictionary for each
installation found.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">vs_legacy_installations</span> <span class="o">=</span> <span class="n">tool</span><span class="o">.</span><span class="n">vswhere</span><span class="p">(</span><span class="n">legacy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>all_</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Finds all instances even if they are incomplete and may not launch.</p></li>
<li><p><strong>prerelease</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Also searches prereleases. By default, only releases are searched.</p></li>
<li><p><strong>products</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): List of one or more product IDs to find. Defaults to Community, Professional, and
Enterprise. Specify <code class="docutils literal notranslate"><span class="pre">[&quot;*&quot;]</span></code> by itself to search all product instances installed.</p></li>
<li><p><strong>requires</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): List of one or more workload or component IDs required when finding instances. See
<a class="reference external" href="https://docs.microsoft.com/en-us/visualstudio/install/workload-and-component-ids?view=vs-2017">https://docs.microsoft.com/en-us/visualstudio/install/workload-and-component-ids?view=vs-2017</a> listing all workload and component IDs.</p></li>
<li><p><strong>version</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): A version range of instances to find. Example: <code class="docutils literal notranslate"><span class="pre">&quot;[15.0,16.0)&quot;</span></code> will find versions 15.*.</p></li>
<li><p><strong>latest</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Return only the newest version and last installed.</p></li>
<li><p><strong>legacy</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Also searches Visual Studio 2015 and older products. Information is limited. This
option cannot be used with either <code class="docutils literal notranslate"><span class="pre">products</span></code> or <code class="docutils literal notranslate"><span class="pre">requires</span></code> parameters.</p></li>
<li><p><strong>property_</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): The name of a property to return. Use delimiters <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, or <code class="docutils literal notranslate"><span class="pre">_</span></code> to separate
object and property names. Example: <code class="docutils literal notranslate"><span class="pre">&quot;properties.nickname&quot;</span></code> will return the “nickname” property under “properties”.</p></li>
<li><p><strong>nologo</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Do not show logo information.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-vs-comntools">
<span id="id40"></span><h2>tools.vs_comntools()<a class="headerlink" href="#tools-vs-comntools" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">vs_comntools</span><span class="p">(</span><span class="n">compiler_version</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the value of the environment variable <code class="docutils literal notranslate"><span class="pre">VS&lt;compiler_version&gt;.0COMNTOOLS</span></code> for the compiler version indicated.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">vs_path</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">vs_comntools</span><span class="p">(</span><span class="s2">&quot;14&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>compiler_version</strong> (Required): String with the version number: <code class="docutils literal notranslate"><span class="pre">&quot;14&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;12&quot;</span></code>…</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-vs-installation-path">
<h2>tools.vs_installation_path()<a class="headerlink" href="#tools-vs-installation-path" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">vs_installation_path</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">preference</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the Visual Studio installation path for the given version. It uses <a class="reference internal" href="#tools-vswhere"><span class="std std-ref">tools.vswhere()</span></a> and <a class="reference internal" href="#tools-vs-comntools"><span class="std std-ref">tools.vs_comntools()</span></a>. It will also
look for the installation paths following <a class="reference internal" href="env_vars.html#env-vars-conan-vs-installation-preference"><span class="std std-ref">CONAN_VS_INSTALLATION_PREFERENCE</span></a> environment variable or the preference parameter
itself. If the tool is not able to return the path it will return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">vs_path_2017</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">vs_installation_path</span><span class="p">(</span><span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="n">preference</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Community&quot;</span><span class="p">,</span> <span class="s2">&quot;BuildTools&quot;</span><span class="p">,</span> <span class="s2">&quot;Professional&quot;</span><span class="p">,</span> <span class="s2">&quot;Enterprise&quot;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>version</strong> (Required): Visual Studio version to locate. Valid version numbers are strings: <code class="docutils literal notranslate"><span class="pre">&quot;10&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;11&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;12&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;13&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;14&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;15&quot;</span></code>…</p></li>
<li><p><strong>preference</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Set to value of <a class="reference internal" href="env_vars.html#env-vars-conan-vs-installation-preference"><span class="std std-ref">CONAN_VS_INSTALLATION_PREFERENCE</span></a> or defaulted to
<code class="docutils literal notranslate"><span class="pre">[&quot;Enterprise&quot;,</span> <span class="pre">&quot;Professional&quot;,</span> <span class="pre">&quot;Community&quot;,</span> <span class="pre">&quot;BuildTools&quot;]</span></code>. If only set to one type of preference, it will return the installation
path only for that Visual type and version, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-replace-prefix-in-pc-file">
<span id="id41"></span><h2>tools.replace_prefix_in_pc_file()<a class="headerlink" href="#tools-replace-prefix-in-pc-file" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">replace_prefix_in_pc_file</span><span class="p">(</span><span class="n">pc_file</span><span class="p">,</span> <span class="n">new_prefix</span><span class="p">)</span>
</pre></div>
</div>
<p>Replaces the <code class="docutils literal notranslate"><span class="pre">prefix</span></code> variable in a package config file <em>.pc</em> with the specified value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">lib_b_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deps_cpp_info</span><span class="p">[</span><span class="s2">&quot;libB&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">rootpath</span>
<span class="n">tools</span><span class="o">.</span><span class="n">replace_prefix_in_pc_file</span><span class="p">(</span><span class="s2">&quot;libB.pc&quot;</span><span class="p">,</span> <span class="n">lib_b_path</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>Parameters:</strong></dt><dd><ul class="simple">
<li><p><strong>pc_file</strong> (Required): Path to the pc file</p></li>
<li><p><strong>new_prefix</strong> (Required): New prefix variable value (Usually a path pointing to a package).</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Check section <a class="reference internal" href="../integrations/build_system/pkg_config_pc_files.html#pc-files"><span class="std std-ref">pkg-config and .pc files</span></a> to know more.</p>
</div>
</section>
<section id="tools-collect-libs">
<span id="id42"></span><h2>tools.collect_libs()<a class="headerlink" href="#tools-collect-libs" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">collect_libs</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns a sorted list of library names from the libraries (files with extensions <em>.so</em>, <em>.lib</em>, <em>.a</em> and <em>.dylib</em>) located inside the
<code class="docutils literal notranslate"><span class="pre">conanfile.cpp_info.libdirs</span></code> (by default) or the <strong>folder</strong> directory relative to the package folder. Useful to collect not
inter-dependent libraries or with complex names like <code class="docutils literal notranslate"><span class="pre">libmylib-x86-debug-en.lib</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lib&quot;</span><span class="p">,</span> <span class="s2">&quot;other_libdir&quot;</span><span class="p">]</span>  <span class="c1"># Deafult value is &#39;lib&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libs</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">collect_libs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</div>
<p>For UNIX libraries staring with <strong>lib</strong>, like <em>libmath.a</em>, this tool will collect the library name <strong>math</strong>.</p>
<dl class="simple">
<dt><strong>Parameters:</strong></dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): A <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> object to get the <code class="docutils literal notranslate"><span class="pre">package_folder</span></code> and <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code>.</p></li>
<li><p><strong>folder</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): String indicating the subfolder name inside <code class="docutils literal notranslate"><span class="pre">conanfile.package_folder</span></code> where
the library files are.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This tool collects the libraries searching directly inside the package folder and returns them in no specific order. If libraries are
inter-dependent, then <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method should order them to achieve correct linking order.</p>
</div>
</section>
<section id="tools-pkgconfig">
<span id="id43"></span><h2>tools.PkgConfig()<a class="headerlink" href="#tools-pkgconfig" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">PkgConfig</span><span class="p">(</span><span class="n">library</span><span class="p">,</span> <span class="n">pkg_config_executable</span><span class="o">=</span><span class="s2">&quot;pkg-config&quot;</span><span class="p">,</span> <span class="n">static</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">msvc_syntax</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">variables</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">print_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Wrapper of the <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> tool.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">environment_append</span><span class="p">({</span><span class="s1">&#39;PKG_CONFIG_PATH&#39;</span><span class="p">:</span> <span class="n">tmp_dir</span><span class="p">}):</span>
    <span class="n">pkg_config</span> <span class="o">=</span> <span class="n">PkgConfig</span><span class="p">(</span><span class="s2">&quot;libastral&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pkg_config</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pkg_config</span><span class="o">.</span><span class="n">cflags</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pkg_config</span><span class="o">.</span><span class="n">cflags_only_I</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pkg_config</span><span class="o">.</span><span class="n">variables</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters of the constructor:</dt><dd><ul class="simple">
<li><p><strong>library</strong> (Required): Library (package) name, such as <code class="docutils literal notranslate"><span class="pre">libastral</span></code>.</p></li>
<li><p><strong>pkg_config_executable</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;pkg-config&quot;</span></code>): Specify custom pkg-config executable (e.g., for
cross-compilation).</p></li>
<li><p><strong>static</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Output libraries suitable for static linking (adds <code class="docutils literal notranslate"><span class="pre">--static</span></code> to <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code>
command line).</p></li>
<li><p><strong>msvc_syntax</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): MSVC compatibility (adds <code class="docutils literal notranslate"><span class="pre">--msvc-syntax</span></code> to <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> command line).</p></li>
<li><p><strong>variables</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Dictionary of pkg-config variables (passed as
<code class="docutils literal notranslate"><span class="pre">--define-variable=VARIABLENAME=VARIABLEVALUE</span></code>).</p></li>
<li><p><strong>print_errors</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Output error messages (adds –print-errors)</p></li>
</ul>
</dd>
</dl>
<p><strong>Properties:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PROPERTY</p></th>
<th class="head"><p>DESCRIPTION</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.version</p></td>
<td><p>get version defined in the module</p></td>
</tr>
<tr class="row-odd"><td><p>.cflags</p></td>
<td><p>get all pre-processor and compiler flags</p></td>
</tr>
<tr class="row-even"><td><p>.cflags_only_I</p></td>
<td><p>get -I flags</p></td>
</tr>
<tr class="row-odd"><td><p>.cflags_only_other</p></td>
<td><p>get cflags not covered by the cflags-only-I option</p></td>
</tr>
<tr class="row-even"><td><p>.libs</p></td>
<td><p>get all linker flags</p></td>
</tr>
<tr class="row-odd"><td><p>.libs_only_L</p></td>
<td><p>get -L flags</p></td>
</tr>
<tr class="row-even"><td><p>.libs_only_l</p></td>
<td><p>get -l flags</p></td>
</tr>
<tr class="row-odd"><td><p>.libs_only_other</p></td>
<td><p>get other libs (e.g., -pthread)</p></td>
</tr>
<tr class="row-even"><td><p>.provides</p></td>
<td><p>get which packages the package provides</p></td>
</tr>
<tr class="row-odd"><td><p>.requires</p></td>
<td><p>get which packages the package requires</p></td>
</tr>
<tr class="row-even"><td><p>.requires_private</p></td>
<td><p>get packages the package requires for static linking</p></td>
</tr>
<tr class="row-odd"><td><p>.variables</p></td>
<td><p>get list of variables defined by the module</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tools-git">
<span id="id44"></span><h2>tools.Git()<a class="headerlink" href="#tools-git" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Git</span><span class="p">(</span><span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
          <span class="n">force_english</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">runner</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Wrapper of the <code class="docutils literal notranslate"><span class="pre">git</span></code> tool.</p>
<dl class="simple">
<dt>Parameters of the constructor:</dt><dd><ul class="simple">
<li><p><strong>folder</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specify a subfolder where the code will be cloned. If not specified it will clone in the
current directory.</p></li>
<li><p><strong>verify_ssl</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Verify SSL certificate of the specified <strong>url</strong>.</p></li>
<li><p><strong>username</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): When present, it will be used as the login to authenticate with the remote.</p></li>
<li><p><strong>password</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): When present, it will be used as the password to authenticate with the remote.</p></li>
<li><p><strong>force_english</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): The encoding of the tool will be forced to use <code class="docutils literal notranslate"><span class="pre">en_US.UTF-8</span></code> to ease the output
parsing.</p></li>
<li><p><strong>runner</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): By default <code class="docutils literal notranslate"><span class="pre">subprocess.check_output</span></code> will be used to invoke the <code class="docutils literal notranslate"><span class="pre">git</span></code> tool.</p></li>
</ul>
</dd>
<dt>Methods:</dt><dd><ul class="simple">
<li><p><strong>run(command)</strong>: Run any “git” command, e.g., <code class="docutils literal notranslate"><span class="pre">run(&quot;status&quot;)</span></code></p></li>
<li><p><strong>get_url_with_credentials(url)</strong>: Returns the passed URL but containing the <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> in the URL to authenticate
(only if <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> is specified)</p></li>
<li><p><strong>clone(url, branch=None, args=””, shallow=False)</strong>: Clone a repository. Optionally you can specify a branch. Note: If you want to clone a repository and the
specified <strong>folder</strong> already exist you have to specify a <code class="docutils literal notranslate"><span class="pre">branch</span></code>. Additional <code class="docutils literal notranslate"><span class="pre">args</span></code> may be specified (e.g. git config variables). Use <code class="docutils literal notranslate"><span class="pre">shallow</span></code> to
perform a shallow clone (with <cite>–depth 1</cite> - only last revision is being cloned, such clones are usually done faster and take less disk space). In this case,
<code class="docutils literal notranslate"><span class="pre">branch</span></code> may specify any valid git reference - e.g. branch name, tag name, sha256 of the revision, expression like <cite>HEAD~1</cite> or <cite>None</cite> (default branch,
e.g. <cite>master</cite>).</p></li>
<li><p><strong>checkout(element, submodule=None)</strong>: Checkout a branch, commit or tag given by <code class="docutils literal notranslate"><span class="pre">element</span></code>. Argument <code class="docutils literal notranslate"><span class="pre">submodule</span></code> can get values in
<code class="docutils literal notranslate"><span class="pre">shallow</span></code> or <code class="docutils literal notranslate"><span class="pre">recursive</span></code> to instruct what to do with submodules.</p></li>
<li><p><strong>get_remote_url(remote_name=None)</strong>: Returns the remote URL of the specified remote. If not <code class="docutils literal notranslate"><span class="pre">remote_name</span></code> is specified <code class="docutils literal notranslate"><span class="pre">origin</span></code>
will be used.</p></li>
<li><p><strong>get_qualified_remote_url()</strong>: Returns the remote url (see <code class="docutils literal notranslate"><span class="pre">get_remote_url()</span></code>) but with forward slashes if it is a local folder.</p></li>
<li><p><strong>get_revision(), get_commit()</strong>: Gets the current commit hash.</p></li>
<li><p><strong>get_branch()</strong>: Gets the current branch.</p></li>
<li><p><strong>get_tag()</strong>: Gets the current checkout tag (<strong class="command">git describe --exact-match --tags</strong>) and returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if not in a tag.</p></li>
<li><p><strong>excluded_files()</strong>: Gets a list of the files and folders that would be excluded by <em>.gitignore</em> file.</p></li>
<li><p><strong>is_local_repository()</strong>: Returns <cite>True</cite> if the remote is a local folder.</p></li>
<li><p><strong>is_pristine()</strong>: Returns <cite>True</cite> if there aren’t modified or uncommitted files in the working copy.</p></li>
<li><p><strong>get_repo_root()</strong>: Returns the root folder of the working copy.</p></li>
<li><p><strong>get_commit_message()</strong>: Returns the latest log message</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-svn">
<span id="id45"></span><h2>tools.SVN()<a class="headerlink" href="#tools-svn" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">SVN</span><span class="p">(</span><span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">verify_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
          <span class="n">force_english</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">runner</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>Wrapper of the <code class="docutils literal notranslate"><span class="pre">svn</span></code> tool.</p>
<dl class="simple">
<dt>Parameters of the constructor:</dt><dd><ul class="simple">
<li><p><strong>folder</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specify a subfolder where the code will be cloned. If not specified it will clone in the
current directory.</p></li>
<li><p><strong>verify_ssl</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Verify SSL certificate of the specified <strong>url</strong>.</p></li>
<li><p><strong>username</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): When present, it will be used as the login to authenticate with the remote.</p></li>
<li><p><strong>password</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): When present, it will be used as the password to authenticate with the remote.</p></li>
<li><p><strong>force_english</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): The encoding of the tool will be forced to use <code class="docutils literal notranslate"><span class="pre">en_US.UTF-8</span></code> to ease the output
parsing.</p></li>
<li><p><strong>runner</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): By default <code class="docutils literal notranslate"><span class="pre">subprocess.check_output</span></code> will be used to invoke the <code class="docutils literal notranslate"><span class="pre">svn</span></code> tool.</p></li>
</ul>
</dd>
<dt>Methods:</dt><dd><ul class="simple">
<li><p><strong>version()</strong>: Retrieve version from the installed SVN client.</p></li>
<li><p><strong>run(command)</strong>: Run any “svn” command, e.g., <code class="docutils literal notranslate"><span class="pre">run(&quot;status&quot;)</span></code></p></li>
<li><p><strong>get_url_with_credentials(url)</strong>: Return the passed url but containing the <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> in the URL to authenticate
(only if <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> is specified)</p></li>
<li><p><strong>checkout(url, revision=”HEAD”)</strong>: Checkout the revision number given by <code class="docutils literal notranslate"><span class="pre">revision</span></code> from the specified <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p></li>
<li><p><strong>update(revision=”HEAD”)</strong>: Update working copy to revision number given by <code class="docutils literal notranslate"><span class="pre">revision</span></code>.</p></li>
<li><p><strong>get_remote_url()</strong>: Returns the remote url of working copy.</p></li>
<li><p><strong>get_qualified_remote_url()</strong>: Returns the remote url of the working copy with the
<a class="reference external" href="http://svnbook.red-bean.com/en/1.7/svn.advanced.pegrevs.html">peg revision</a> appended to it.</p></li>
<li><p><strong>get_revision()</strong>: Gets the current revision number from the repo server.</p></li>
<li><p><strong>get_last_changed_revision(use_wc_root=True)</strong>: Returns the revision number corresponding to the last changed item in the working
folder (<code class="docutils literal notranslate"><span class="pre">use_wc_root=False</span></code>) or in the working copy root (<code class="docutils literal notranslate"><span class="pre">use_wc_root=True</span></code>).</p></li>
<li><p><strong>get_branch()</strong>: Tries to deduce the branch name from the
<a class="reference external" href="http://svnbook.red-bean.com/en/1.7/svn.branchmerge.maint.html">standard SVN layout</a>. Will raise if cannot resolve it.</p></li>
<li><p><strong>get_tag()</strong>: Tries to deduce the tag name from the <a class="reference external" href="http://svnbook.red-bean.com/en/1.7/svn.branchmerge.maint.html">standard SVN layout</a> and
returns the current tag name. Otherwise it will return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>excluded_files()</strong>: Gets a list of the files and folders that are marked to be ignored.</p></li>
<li><p><strong>is_local_repository()</strong>: Returns <cite>True</cite> if the remote is a local folder.</p></li>
<li><p><strong>is_pristine()</strong>: Returns <cite>True</cite> if there aren’t modified or uncommitted files in the working copy.</p></li>
<li><p><strong>get_repo_root()</strong>: Returns the root folder of the working copy.</p></li>
<li><p><strong>get_revision_message()</strong>: Returns the latest log message</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>SVN allows to checkout a subdirectory of the remote repository, take into account that the return value of some of these functions may
depend on the root of the working copy that has been checked out.</p>
</div>
</section>
<section id="tools-is-apple-os">
<span id="id47"></span><h2>tools.is_apple_os()<a class="headerlink" href="#tools-is-apple-os" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">is_apple_os</span><span class="p">(</span><span class="n">os_</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if OS is an Apple one: macOS, iOS, watchOS or tvOS.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>os_</strong> (Required): OS to perform the check. Usually this would be <code class="docutils literal notranslate"><span class="pre">self.settings.os</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-to-apple-arch">
<span id="id48"></span><h2>tools.to_apple_arch()<a class="headerlink" href="#tools-to-apple-arch" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">to_apple_arch</span><span class="p">(</span><span class="n">arch</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts Conan style architecture into Apple style architecture.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>arch</strong> (Required): arch to perform the conversion. Usually this would be <code class="docutils literal notranslate"><span class="pre">self.settings.arch</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-apple-sdk-name">
<span id="id49"></span><h2>tools.apple_sdk_name()<a class="headerlink" href="#tools-apple-sdk-name" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">apple_sdk_name</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns proper SDK name suitable for OS and architecture you are building for (considering simulators).
If <code class="docutils literal notranslate"><span class="pre">self.settings.os.sdk</span></code> setting is defined, it is used, otherwise the function tries to auto-detect based on
<code class="docutils literal notranslate"><span class="pre">self.settings.os</span></code> and <code class="docutils literal notranslate"><span class="pre">self.settings.arch</span></code>.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>settings</strong> (Required): Conanfile settings.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-apple-deployment-target-env">
<span id="id50"></span><h2>tools.apple_deployment_target_env()<a class="headerlink" href="#tools-apple-deployment-target-env" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">apple_deployment_target_env</span><span class="p">(</span><span class="n">os_</span><span class="p">,</span> <span class="n">os_version</span><span class="p">)</span>
</pre></div>
</div>
<p>Environment variable name which controls deployment target: <code class="docutils literal notranslate"><span class="pre">MACOSX_DEPLOYMENT_TARGET</span></code>, <code class="docutils literal notranslate"><span class="pre">IOS_DEPLOYMENT_TARGET</span></code>,
<code class="docutils literal notranslate"><span class="pre">WATCHOS_DEPLOYMENT_TARGET</span></code> or <code class="docutils literal notranslate"><span class="pre">TVOS_DEPLOYMENT_TARGET</span></code>.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>os_</strong> (Required): OS of the settings. Usually <code class="docutils literal notranslate"><span class="pre">self.settings.os</span></code>.</p></li>
<li><p><strong>os_version</strong> (Required): OS version.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-apple-deployment-target-flag">
<span id="id51"></span><h2>tools.apple_deployment_target_flag()<a class="headerlink" href="#tools-apple-deployment-target-flag" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">apple_deployment_target_flag</span><span class="p">(</span><span class="n">os_</span><span class="p">,</span> <span class="n">os_version</span><span class="p">,</span> <span class="n">os_sdk</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">os_subsystem</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Compiler flag name which controls deployment target. For example: <code class="docutils literal notranslate"><span class="pre">-mappletvos-version-min=9.0</span></code></p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>os_</strong> (Required): OS of the settings. Usually <code class="docutils literal notranslate"><span class="pre">self.settings.os</span></code>.</p></li>
<li><p><strong>os_version</strong> (Required): OS version. Usually <code class="docutils literal notranslate"><span class="pre">self.settings.os.version</span></code>.</p></li>
<li><p><strong>os_sdk</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): OS SDK. Usually <code class="docutils literal notranslate"><span class="pre">self.settings.os.sdk</span></code>. Otherwise, check <strong class="command">xcodebuild -sdk -version</strong>. for available SDKs.</p></li>
<li><p><strong>os_subsystem</strong> Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): OS sybsystem. Usually <code class="docutils literal notranslate"><span class="pre">self.settings.os.subsystem</span></code>. The only subsystem supported right now is Catalyst.</p></li>
<li><p><strong>arch</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Architecture of the settings. Usually <code class="docutils literal notranslate"><span class="pre">self.settings.arch</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-xcrun">
<span id="id52"></span><h2>tools.XCRun()<a class="headerlink" href="#tools-xcrun" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">XCRun</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">sdk</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</pre></div>
</div>
<p>XCRun wrapper used to get information for building.</p>
<dl class="simple">
<dt>Properties:</dt><dd><ul class="simple">
<li><p><strong>sdk_path</strong>: Obtain SDK path (a.k.a. Apple sysroot or -isysroot).</p></li>
<li><p><strong>sdk_version</strong>: Obtain SDK version.</p></li>
<li><p><strong>sdk_platform_path</strong>: Obtain SDK platform path.</p></li>
<li><p><strong>sdk_platform_version</strong>: Obtain SDK platform version.</p></li>
<li><p><strong>cc</strong>: Path to C compiler (CC).</p></li>
<li><p><strong>cxx</strong>: Path to C++ compiler (CXX).</p></li>
<li><p><strong>ar</strong>: Path to archiver (AR).</p></li>
<li><p><strong>ranlib</strong>: Path to archive indexer (RANLIB).</p></li>
<li><p><strong>strip</strong>: Path to symbol removal utility (STRIP).</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-latest-vs-version-installed">
<span id="id53"></span><h2>tools.latest_vs_version_installed()<a class="headerlink" href="#tools-latest-vs-version-installed" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">latest_vs_version_installed</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns a string with the major version of latest Microsoft Visual Studio available on machine. If no Microsoft Visual Studio installed,
it returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</section>
<section id="tools-apple-dot-clean">
<span id="id54"></span><h2>tools.apple_dot_clean()<a class="headerlink" href="#tools-apple-dot-clean" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">apple_dot_clean</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span>
</pre></div>
</div>
<p>Remove recursively all <code class="docutils literal notranslate"><span class="pre">._</span></code> files inside <code class="docutils literal notranslate"><span class="pre">folder</span></code>, these files are created by Apple OS when the
underlying filesystem cannot store metadata associated to files (they could appear when unzipping
a file that has been created in Macos). This tool will remove only the <code class="docutils literal notranslate"><span class="pre">._</span></code> files that are
accompanied with a file without that prefix (it will remove <code class="docutils literal notranslate"><span class="pre">._file.txt</span></code> only
if <code class="docutils literal notranslate"><span class="pre">file.txt</span></code> exists).</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>folder</strong> (Required): root folder to start deleting <code class="docutils literal notranslate"><span class="pre">._</span></code> files.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-version">
<span id="id55"></span><h2>tools.Version()<a class="headerlink" href="#tools-version" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">v</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">Version</span><span class="p">(</span><span class="s2">&quot;1.2.3-dev23&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="s2">&quot;1.2.3&quot;</span>
</pre></div>
</div>
<p>This is a helper class to work with semantic versions, built on top of <code class="docutils literal notranslate"><span class="pre">semver.SemVer</span></code> class
with loose parsing. It exposes all the version components as properties and offers total
ordering through compare operators.</p>
<p>Build the <code class="docutils literal notranslate"><span class="pre">tools.Version</span></code> object using any valid string or any object that converts to
string, the constructor will raise if the string is not a valid loose semver.</p>
<dl class="simple">
<dt>Properties:</dt><dd><ul class="simple">
<li><p><strong>major</strong>: component <code class="docutils literal notranslate"><span class="pre">major</span></code> of semver version</p></li>
<li><p><strong>minor</strong>: component <code class="docutils literal notranslate"><span class="pre">minor</span></code> of semver version (defaults to <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code>)</p></li>
<li><p><strong>patch</strong>: component <code class="docutils literal notranslate"><span class="pre">patch</span></code> of semver version (defaults to <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code>)</p></li>
<li><p><strong>prerelease</strong>: component <code class="docutils literal notranslate"><span class="pre">prerelease</span></code> of semver version (defaults to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>)</p></li>
<li><p><strong>build</strong>: component <code class="docutils literal notranslate"><span class="pre">build</span></code> of semver version (defaults to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>). Take into account
that <code class="docutils literal notranslate"><span class="pre">build</span></code> component doesn’t affect precedence between versions.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-to-android-abi">
<span id="id56"></span><h2>tools.to_android_abi()<a class="headerlink" href="#tools-to-android-abi" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">to_android_abi</span><span class="p">(</span><span class="n">arch</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts Conan style architecture into Android NDK style architecture.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>arch</strong> (Required): Arch to perform the conversion. Usually this would be <code class="docutils literal notranslate"><span class="pre">self.settings.arch</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-check-min-cppstd">
<span id="id57"></span><h2>tools.check_min_cppstd()<a class="headerlink" href="#tools-check-min-cppstd" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">check_min_cppstd</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">cppstd</span><span class="p">,</span> <span class="n">gnu_extensions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Validates if the applied cppstd setting (from <cite>compiler.cppstd</cite> settings or deducing the default from <cite>compiler</cite> and <cite>compiler.version</cite>) is at least the value specified in the <cite>cppstd</cite> argument.
It raises a <code class="docutils literal notranslate"><span class="pre">ConanInvalidConfiguration</span></code> when is not supported.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span><span class="p">,</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tools</span><span class="o">.</span><span class="n">check_min_cppstd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;17&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If the current cppstd does not support C++17, <code class="docutils literal notranslate"><span class="pre">check_min_cppstd</span></code> will raise an <code class="docutils literal notranslate"><span class="pre">ConanInvalidConfiguration</span></code> error.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">gnu_extensions</span></code> is True, it is required that the applied <code class="docutils literal notranslate"><span class="pre">cppstd</span></code> supports the gnu extensions.
(e.g. gnu17), otherwise, an <a class="reference internal" href="../mastering/conditional.html#conditional-settings-options-requirements"><span class="std std-ref">ConanInvalidConfiguration</span></a> will be raised. The <code class="docutils literal notranslate"><span class="pre">gnu_extensions</span></code> is checked in any OS.</p></li>
<li><p>If no compiler has been specified or the compiler is unknown, it raises a <code class="docutils literal notranslate"><span class="pre">ConanException</span></code> exception.</p></li>
</ul>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): ConanFile instance. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
<li><p><strong>cppstd</strong> (Required): C++ standard version which must be supported.</p></li>
<li><p><strong>gnu_extensions</strong> (Optional): GNU extension is required.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-valid-min-cppstd">
<span id="id58"></span><h2>tools.valid_min_cppstd()<a class="headerlink" href="#tools-valid-min-cppstd" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">valid_min_cppstd</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">cppstd</span><span class="p">,</span> <span class="n">gnu_extensions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Validate the current cppstd from settings or compiler, if it is supported by the required cppstd version.
It returns <code class="docutils literal notranslate"><span class="pre">True</span></code> when is valid, otherwise, <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span><span class="p">,</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">tools</span><span class="o">.</span><span class="n">valid_min_cppstd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;17&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;C++17 is required.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">valid_min_cppstd</span></code> works exactly like <code class="docutils literal notranslate"><span class="pre">check_min_cppstd</span></code>, however, it does not raise <code class="docutils literal notranslate"><span class="pre">ConanInvalidConfiguration</span></code> error.</p></li>
</ul>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): ConanFile instance. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
<li><p><strong>cppstd</strong> (Required): C++ standard version which must be supported.</p></li>
<li><p><strong>gnu_extensions</strong> (Optional): GNU extension is required.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-cppstd-flag">
<span id="id59"></span><h2>tools.cppstd_flag():<a class="headerlink" href="#tools-cppstd-flag" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">cppstd_flag</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the corresponding C++ standard flag based on the settings. For instance, it may return <code class="docutils literal notranslate"><span class="pre">-std=c++17</span></code>
for <code class="docutils literal notranslate"><span class="pre">compiler.cppstd=17</span></code>, and so on.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>settings</strong> (Required): Conanfile settings. Use <code class="docutils literal notranslate"><span class="pre">self.settings</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-msvs-toolset">
<span id="id60"></span><h2>tools.msvs_toolset()<a class="headerlink" href="#tools-msvs-toolset" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">msvs_toolset</span><span class="p">(</span><span class="n">conanfile</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the corresponding Visual Studio platform toolset based on the settings of the given <code class="docutils literal notranslate"><span class="pre">conanfile</span></code>. For instance, it may return <code class="docutils literal notranslate"><span class="pre">v142</span></code>
for <code class="docutils literal notranslate"><span class="pre">compiler=Visual</span> <span class="pre">Studio</span></code> with <code class="docutils literal notranslate"><span class="pre">compiler.version=16</span></code>. If <code class="docutils literal notranslate"><span class="pre">compiler.toolset</span></code> was set in settings, it has a
priority and always returned.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): ConanFile instance. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-intel-compilervars-command">
<span id="id61"></span><h2>tools.intel_compilervars_command()<a class="headerlink" href="#tools-intel-compilervars-command" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">intel_compilervars_command</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compiler_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns, for given settings of the given <code class="docutils literal notranslate"><span class="pre">conanfile</span></code>, the command that should be called to load the Intel C++ environment variables for a certain Intel C++
version. It wraps the functionality of <a class="reference external" href="https://software.intel.com/content/www/us/en/develop/documentation/intel-system-studio-cplusplus-compiler-user-and-reference-guide/top/target-platform-build-instructions/using-compilervars-file.html">compilervars</a>
but does not execute the command, as that typically have to be done in the same command as the compilation, so the variables are loaded for
the same subprocess. It will be typically used in the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">cvars_command</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">intel_compilervars_command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">build_command</span> <span class="o">=</span> <span class="o">...</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &amp;&amp; configure </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cvars_command</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">)))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &amp;&amp; </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cvars</span><span class="p">,</span> <span class="n">build_command</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">build_args</span><span class="p">)))</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">cvars_command</span></code> string will contain something like <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">&quot;compilervars.bat&quot;</span></code> for the corresponding Intel C++
version for the current settings.</p>
<p>This is typically not needed if using CMake, as the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> generator will handle the correct Intel C++ version.</p>
<p>If <strong>arch</strong> or <strong>compiler_version</strong> is specified, it will ignore the settings and return the command to set the Intel C++ environment
for these parameters.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): ConanFile instance. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
<li><p><strong>arch</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Will use <code class="docutils literal notranslate"><span class="pre">conanfile.settings.arch</span></code>.</p></li>
<li><p><strong>compiler_version</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Will use <code class="docutils literal notranslate"><span class="pre">conanfile.settings.compiler.version</span></code>.</p></li>
<li><p><strong>force</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Will ignore if the environment is already set for a different Intel C++ version.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-intel-compilervars-dict">
<span id="id62"></span><h2>tools.intel_compilervars_dict()<a class="headerlink" href="#tools-intel-compilervars-dict" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">intel_compilervars_dict</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compiler_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">only_diff</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns a dictionary with the variables set by the <a class="reference internal" href="#tools-intel-compilervars-command"><span class="std std-ref">tools.intel_compilervars_command()</span></a> that can be directly applied to
<a class="reference internal" href="#tools-environment-append"><span class="std std-ref">tools.environment_append()</span></a>.</p>
<p>The values of the variables <code class="docutils literal notranslate"><span class="pre">INCLUDE</span></code>, <code class="docutils literal notranslate"><span class="pre">LIB</span></code>, <code class="docutils literal notranslate"><span class="pre">LIBPATH</span></code> and <code class="docutils literal notranslate"><span class="pre">PATH</span></code> will be returned as a list. When used with
<a class="reference internal" href="#tools-environment-append"><span class="std std-ref">tools.environment_append()</span></a>, the previous environment values that these variables may have will be appended automatically.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">env_vars</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">intel_compilervars_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">environment_append</span><span class="p">(</span><span class="n">env_vars</span><span class="p">):</span>
        <span class="c1"># Do something</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p>Same as <a class="reference internal" href="#tools-intel-compilervars-command"><span class="std std-ref">tools.intel_compilervars_command()</span></a>.</p></li>
<li><p><strong>only_diff</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): When True, the command will return only the variables set by <code class="docutils literal notranslate"><span class="pre">intel_compilervars</span></code> and not
the whole environment. If <cite>intel_compilervars</cite> modifies an environment variable by appending values to the old value (separated by <code class="docutils literal notranslate"><span class="pre">;</span></code>), only
the new values will be returned, as a list.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-intel-compilervars">
<span id="id63"></span><h2>tools.intel_compilervars()<a class="headerlink" href="#tools-intel-compilervars" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">intel_compilervars</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compiler_version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">only_diff</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This is a context manager that allows to append to the environment all the variables set by the <a class="reference internal" href="#tools-intel-compilervars-dict"><span class="std std-ref">tools.intel_compilervars_dict()</span></a>. You can replace
<a class="reference internal" href="#tools-intel-compilervars-dict"><span class="std std-ref">tools.intel_compilervars_dict()</span></a> and use this context manager to get a cleaner way to activate the Intel C++ environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">intel_compilervars</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">):</span>
        <span class="n">do_something</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="tools-intel-installation-path">
<h2>tools.intel_installation_path()<a class="headerlink" href="#tools-intel-installation-path" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">intel_installation_path</span><span class="p">(</span><span class="n">version</span><span class="p">,</span> <span class="n">arch</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the Intel Compiler installation path for the given version and target arch. If the tool is not able to return the path it will raise a
<code class="docutils literal notranslate"><span class="pre">ConanException</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>

<span class="n">intel_path_2020</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">intel_installation_path</span><span class="p">(</span><span class="s2">&quot;19.1&quot;</span><span class="p">,</span> <span class="s2">&quot;x86&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>version</strong> (Required): Intel Compiler version to locate. Valid version numbers are strings: <code class="docutils literal notranslate"><span class="pre">&quot;15&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;16&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;17&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;18&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;19&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;19.1&quot;</span></code>…</p></li>
<li><p><strong>arch</strong> (Required): Intel Compiler target arch. Valid archs are <code class="docutils literal notranslate"><span class="pre">&quot;x86&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;x86_64&quot;</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-remove-files-by-mask">
<span id="id64"></span><h2>tools.remove_files_by_mask()<a class="headerlink" href="#tools-remove-files-by-mask" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">remove_files_by_mask</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Removes files recursively in the given <code class="docutils literal notranslate"><span class="pre">directory</span></code> matching the <code class="docutils literal notranslate"><span class="pre">pattern</span></code>. The function removes only files, and never removes directories, even if their names match the pattern. The functions returns the array of the files removed (empty array in case no files were removed). The paths in the returned array are relative to the given <code class="docutils literal notranslate"><span class="pre">directory</span></code>.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>directory</strong> (Required): Directory to remove files inside. You may use <code class="docutils literal notranslate"><span class="pre">os.getcwd</span></code> or <code class="docutils literal notranslate"><span class="pre">self.package_folder</span></code>, for instance.</p></li>
<li><p><strong>pattern</strong> (Required): Pattern to check. See <a class="reference external" href="https://docs.python.org/3/library/fnmatch.html">fnmatch</a> documentation for more details.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-stdcpp-library">
<span id="id66"></span><h2>tools.stdcpp_library():<a class="headerlink" href="#tools-stdcpp-library" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">stdcpp_library</span><span class="p">(</span><span class="n">conanfile</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the corresponding C++ standard library to link with based on the settings of the given conanfile. For instance, it may return <code class="docutils literal notranslate"><span class="pre">c++</span></code> for <code class="docutils literal notranslate"><span class="pre">compiler.libcxx=libc++</span></code>,
and it may return <code class="docutils literal notranslate"><span class="pre">stdc++</span></code> for <code class="docutils literal notranslate"><span class="pre">compiler.libcxx=libstdc++</span></code> or <code class="docutils literal notranslate"><span class="pre">compiler.libcxx=libstdc++11</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no C++ standard library
need to be linked. Usually, this is required to populate <code class="docutils literal notranslate"><span class="pre">self.cpp_info.system_libs</span></code> for C++ libraries with plain C API, therefore such libraries might be
safely used in pure C projects (or in general, non-C++ projects capable of using C API, such as written in Objective-C, Fortran, etc.).</p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): ConanFile instance. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tools-fix-symlinks">
<span id="id67"></span><h2>tools.fix_symlinks():<a class="headerlink" href="#tools-fix-symlinks" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">fix_symlinks</span><span class="p">(</span><span class="n">conanfile</span><span class="p">,</span> <span class="n">raise_if_error</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>This tool is intended to be used inside the <code class="docutils literal notranslate"><span class="pre">package()</span></code> method after all files have been copied. It takes care of symlinks:</p>
<blockquote>
<div><ul class="simple">
<li><p>Converts every symlink into a relative one starting in the root of the package.</p></li>
<li><p>Removes (or raises) symlinks that point to files/directories outside the package.</p></li>
<li><p>Removes (or raises) broken symlinks.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>conanfile</strong> (Required): ConanFile instance. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></li>
<li><p><strong>raise_if_error</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): Indicates whether to raise or to remove invalid symlinks.</p></li>
</ul>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="build_helpers/run_environment.html" class="btn btn-neutral float-left" title="RunEnvironment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="config_files.html" class="btn btn-neutral float-right" title="Configuration files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2020, JFrog.
      <span class="lastupdated">Last updated on Sep 29, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 1.37
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/en/1.37/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>