



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cross building &mdash; conan 1.24.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="conan 1.24.1 documentation" href="../index.html"/>
        <link rel="up" title="Systems and cross building" href="../systems_cross_building.html"/>
        <link rel="next" title="Windows Subsystems" href="windows_subsystems.html"/>
        <link rel="prev" title="Systems and cross building" href="../systems_cross_building.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../_static/conan-logo.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cross building</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gnu-triplet-convention">GNU triplet convention</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cross-building-with-conan">Cross building with Conan</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-a-profile">Using a profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-build-requires">Using build requires</a></li>
<li class="toctree-l4"><a class="reference internal" href="#settings-build-and-target">Settings <code class="docutils literal notranslate"><span class="pre">*_build</span></code> and <code class="docutils literal notranslate"><span class="pre">*_target</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#preparing-recipes-to-be-cross-compiled">Preparing recipes to be cross-compiled</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#arm-architecture-reference">ARM architecture reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#examples-using-profiles">Examples using profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples-using-build-requires">Examples using build requires</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="windows_subsystems.html">Windows Subsystems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../systems_cross_building.html">Systems and cross building</a> &raquo;</li>
        
      <li>Cross building</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/systems_cross_building/cross_building.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cross-building">
<span id="id1"></span><h1>Cross building<a class="headerlink" href="#cross-building" title="Permalink to this headline">¶</a></h1>
<p>Cross building (or cross compilation) is the process of generating binaries for a platform that is not the one
where the compiling process is running.</p>
<p>Cross compilation is mostly used to build software for an alien device, such as an embedded device where you don’t have an operating system
nor a compiler available. It’s also used to build software for slower devices, like an Android machine or a Raspberry Pi where running
the native compilation will take too much time.</p>
<p>In order to cross build a codebase the right toolchain is needed, with a proper compiler (cross compiler), a linker
and the set of libraries matching the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform.</p>
<div class="section" id="gnu-triplet-convention">
<h2>GNU triplet convention<a class="headerlink" href="#gnu-triplet-convention" title="Permalink to this headline">¶</a></h2>
<p>According to the GNU convention, there are three platforms involved in the software building:</p>
<ul class="simple">
<li><strong>Build platform:</strong> The platform on which the compilation tools are being executed.</li>
<li><strong>Host platform:</strong> The platform on which the generated binaries will run.</li>
<li><strong>Target platform:</strong> Only when building a cross compiler, it is the platform it will generate binaries for.</li>
</ul>
<p>Depending on the values of these platforms, there are different scenarios:</p>
<ul class="simple">
<li><strong>Native building</strong>: when the <code class="docutils literal notranslate"><span class="pre">build</span></code> and the <code class="docutils literal notranslate"><span class="pre">host</span></code> platforms are the same, it means
that the platform where the compiler is running is the same one where the generated binaries will run.
This is the most common scenario.</li>
<li><strong>Cross building</strong>: when the <code class="docutils literal notranslate"><span class="pre">build</span></code> and the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform are different, it requires
a cross compiler running in the build platform that generates binaries for the host platform.</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">target</span></code> platform plays and important role when compiling a cross compiler, in that scenario
the <code class="docutils literal notranslate"><span class="pre">target</span></code> is the platform the compiler will generate binaries for: in order to be a cross compiler
the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform (where the cross compiler will run) has to be different from the <code class="docutils literal notranslate"><span class="pre">target</span></code> platform.
If the <code class="docutils literal notranslate"><span class="pre">build</span></code> platform is also different, it is called <strong>Canadian Cross</strong>.</p>
<p>Let’s illustrate these scenarios with some examples:</p>
<ul class="simple">
<li>The Android NDK is a cross compiler to Android: it can be executed in Linux (the <code class="docutils literal notranslate"><span class="pre">build</span></code> platform)
to generate binaries for Android (the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform).</li>
<li>The Android NDK was once compiled, during that compilation a different compiler was used running in
a <code class="docutils literal notranslate"><span class="pre">build</span></code> platform (maybe Windows) to generate the actual Android NDK that will run in the <code class="docutils literal notranslate"><span class="pre">host</span></code>
platform Linux, and as we saw before, that Android NDK cross compiler will generate binaries for
a <code class="docutils literal notranslate"><span class="pre">target</span></code> platform which is Android.</li>
</ul>
<p>The values of the <code class="docutils literal notranslate"><span class="pre">build</span></code>, <code class="docutils literal notranslate"><span class="pre">host</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> platforms are not absolute, and
they depend on the process we are talking about. The <code class="docutils literal notranslate"><span class="pre">host</span></code> when compiling a cross compiler turns
into the <code class="docutils literal notranslate"><span class="pre">build</span></code> when using that same cross compiler, or the <code class="docutils literal notranslate"><span class="pre">target</span></code> of the cross compiler is
the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform of the binaries generated with it.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">One way to avoid this complexity is to run the compilation in the host platform, so both <code class="docutils literal notranslate"><span class="pre">build</span></code> and
<code class="docutils literal notranslate"><span class="pre">host</span></code> will take the same value and it will be a <em>native compilation</em>. Docker is a very successful
tool that can help you with this, read more about it in <a class="reference internal" href="../howtos/run_conan_in_docker.html#use-docker-to-crossbuild"><span class="std std-ref">this section</span></a>.</p>
</div>
</div>
<div class="section" id="cross-building-with-conan">
<h2>Cross building with Conan<a class="headerlink" href="#cross-building-with-conan" title="Permalink to this headline">¶</a></h2>
<p>If you want to cross build a Conan package (for example using your Linux machine) to build the <code class="docutils literal notranslate"><span class="pre">zlib</span></code>
Conan package for Windows, you need to tell Conan where to find your toolchain/cross compiler.</p>
<p>There are two approaches:</p>
<ul class="simple">
<li>Install the toolchain in your computer and use a <code class="docutils literal notranslate"><span class="pre">profile</span></code> to declare the settings and
point to the needed tools/libraries in the toolchain using the <code class="docutils literal notranslate"><span class="pre">[env]</span></code> section to declare, at least,
the <code class="docutils literal notranslate"><span class="pre">CC</span></code> and <code class="docutils literal notranslate"><span class="pre">CXX</span></code> environment variables.</li>
<li>Package the toolchain as a Conan package and include it as a <code class="docutils literal notranslate"><span class="pre">build_requires</span></code>.</li>
</ul>
<div class="section" id="using-a-profile">
<h3>Using a profile<a class="headerlink" href="#using-a-profile" title="Permalink to this headline">¶</a></h3>
<p>Using a Conan profile we can declare not only the <code class="docutils literal notranslate"><span class="pre">settings</span></code> that will identify our binary, but also
all the environment variables needed to use a toolchain or cross compiler. The profile needs the following
sections:</p>
<ul class="simple">
<li>A <strong>[settings]</strong> section containing the regular settings: <code class="docutils literal notranslate"><span class="pre">os</span></code>, <code class="docutils literal notranslate"><span class="pre">arch</span></code>, <code class="docutils literal notranslate"><span class="pre">compiler</span></code> and <code class="docutils literal notranslate"><span class="pre">build_type</span></code>
depending on your library. These settings will identify your binary.</li>
<li>An <strong>[env]</strong> section with a PATH variable pointing to your installed toolchain. Also any other variable
that the toolchain expects (read the docs of your compiler). Some build systems need a variable <code class="docutils literal notranslate"><span class="pre">SYSROOT</span></code> to locate
where the host system libraries and tools are.</li>
</ul>
<p>For example, in the following profile we declare the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform to be Windows x86_64 with the
compiler, version and other settings be are using. And we add the <strong>[env]</strong> section with all the variables
needed to use an installed toolchain:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">toolchain</span><span class="o">=</span><span class="s">/usr/x86_64-w64-mingw32 # Adjust this path</span>
<span class="na">target_host</span><span class="o">=</span><span class="s">x86_64-w64-mingw32</span>
<span class="na">cc_compiler</span><span class="o">=</span><span class="s">gcc</span>
<span class="na">cxx_compiler</span><span class="o">=</span><span class="s">g++</span>

<span class="k">[env]</span>
<span class="na">CONAN_CMAKE_FIND_ROOT_PATH</span><span class="o">=</span><span class="s">$toolchain</span>
<span class="na">CHOST</span><span class="o">=</span><span class="s">$target_host</span>
<span class="na">AR</span><span class="o">=</span><span class="s">$target_host-ar</span>
<span class="na">AS</span><span class="o">=</span><span class="s">$target_host-as</span>
<span class="na">RANLIB</span><span class="o">=</span><span class="s">$target_host-ranlib</span>
<span class="na">CC</span><span class="o">=</span><span class="s">$target_host-$cc_compiler</span>
<span class="na">CXX</span><span class="o">=</span><span class="s">$target_host-$cxx_compiler</span>
<span class="na">STRIP</span><span class="o">=</span><span class="s">$target_host-strip</span>
<span class="na">RC</span><span class="o">=</span><span class="s">$target_host-windres</span>

<span class="k">[settings]</span>
<span class="c1"># We are cross-building to Windows</span>
<span class="na">os</span><span class="o">=</span><span class="s">Windows</span>
<span class="na">arch</span><span class="o">=</span><span class="s">x86_64</span>
<span class="na">compiler</span><span class="o">=</span><span class="s">gcc</span>

<span class="c1"># Adjust to the gcc version of your MinGW package</span>
<span class="na">compiler.version</span><span class="o">=</span><span class="s">7.3</span>
<span class="na">compiler.libcxx</span><span class="o">=</span><span class="s">libstdc++11</span>
<span class="na">build_type</span><span class="o">=</span><span class="s">Release</span>
</pre></div>
</div>
<p>You can find working examples at the <a class="reference internal" href="#cross-building-examples-profiles"><span class="std std-ref">bottom of this section</span></a>.</p>
</div>
<div class="section" id="using-build-requires">
<span id="cross-building-build-requires"></span><h3>Using build requires<a class="headerlink" href="#using-build-requires" title="Permalink to this headline">¶</a></h3>
<p>Instead of manually downloading the toolchain and creating a profile, you can create a Conan package
with it. Starting with Conan v1.24 and the command line arguments <code class="docutils literal notranslate"><span class="pre">--profile:host</span></code> and <code class="docutils literal notranslate"><span class="pre">--profile:build</span></code>
this should be a regular recipe, for older versions some more work is needed.</p>
<div class="section" id="conan-v1-24-and-newer">
<h4>Conan v1.24 and newer<a class="headerlink" href="#conan-v1-24-and-newer" title="Permalink to this headline">¶</a></h4>
<p>A recipe with a toolchain is like any other recipe with a binary executable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span> <span class="nc">MyToolchainXXXConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my_toolchain&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="c1"># Implement source() and build() as usual</span>

    <span class="k">def</span> <span class="nf">package</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Copy all the required files for your toolchain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;toolchain&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bin_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">package_folder</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">CC</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bin_folder</span><span class="p">,</span> <span class="s2">&quot;mycompiler-cc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">CXX</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bin_folder</span><span class="p">,</span> <span class="s2">&quot;mycompiler-cxx&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">SYSROOT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">package_folder</span>
</pre></div>
</div>
<p>The Conan package with the toolchain needs to fill the <code class="docutils literal notranslate"><span class="pre">env_info</span></code> object
in the <a class="reference internal" href="../reference/conanfile/methods.html#method-package-info"><span class="std std-ref">package_info()</span></a> method with the same variables we’ve specified in the examples
above in the <code class="docutils literal notranslate"><span class="pre">[env]</span></code> section of profiles.</p>
<p>Then you will need to consume this recipe as any regular <a class="reference internal" href="../devtools/build_requires.html#build-requires"><span class="std std-ref">build requires</span></a> that belongs to the
<code class="docutils literal notranslate"><span class="pre">build</span></code> context: you need to use the <code class="docutils literal notranslate"><span class="pre">--profile:build</span></code> argument in the command line while creating your library:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conan create path/to/conanfile.py --profile:build<span class="o">=</span>profile_build --profile:host<span class="o">=</span>profile_host
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/conan-my_toolchain.png"><img alt="../_images/conan-my_toolchain.png" class="align-center" src="../_images/conan-my_toolchain.png" style="width: 400px;" /></a>
<p>The profile <code class="docutils literal notranslate"><span class="pre">profile_build</span></code> will contain just the settings related to your <code class="docutils literal notranslate"><span class="pre">build</span></code> platform, where you are
running the command, and the <code class="docutils literal notranslate"><span class="pre">profile_host</span></code> will list the settings for the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform (and eventually
the <code class="docutils literal notranslate"><span class="pre">my_toolchain/0.1</span></code> as <code class="docutils literal notranslate"><span class="pre">build_requires</span></code> if it is not listed in the recipe itself).</p>
<p>Conan will apply the appropiate profile to each recipe, and will inject the environment of all the build requirements
that belong to the <code class="docutils literal notranslate"><span class="pre">build</span></code> context before running the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method of the libraries being compiled.
That way, the environment variables <code class="docutils literal notranslate"><span class="pre">CC</span></code>, <code class="docutils literal notranslate"><span class="pre">CXX</span></code> and <code class="docutils literal notranslate"><span class="pre">SYSROOT</span></code> from <code class="docutils literal notranslate"><span class="pre">my_toolchain/0.1</span></code> will be available
and also the path to the <code class="docutils literal notranslate"><span class="pre">bindirs</span></code> directory from that package.</p>
<p>The above means that <strong>Conan is able to compile the full graph in a single execution</strong>, it will compile
the build requires using the <code class="docutils literal notranslate"><span class="pre">profile_build</span></code> and then it will compile the libraries using the <code class="docutils literal notranslate"><span class="pre">host_profile</span></code>
settings applying the environment of the former ones.</p>
</div>
<div class="section" id="conan-older-than-v1-24">
<h4>Conan older than v1.24<a class="headerlink" href="#conan-older-than-v1-24" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We ask you to use the previous approach for Conan 1.24 and newer, and avoid any specific modification
of your recipes to make them work as build requirements in a cross building scenario.</p>
</div>
<p>With this approach, only one profile is provided in the command line (the <code class="docutils literal notranslate"><span class="pre">--profile:host</span></code> or just <code class="docutils literal notranslate"><span class="pre">--profile</span></code>)
and it has to define the <code class="docutils literal notranslate"><span class="pre">os_build</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_build</span></code> settings too. The recipe of this build requires
has to be modified to take into account these settings and the <code class="docutils literal notranslate"><span class="pre">compiler</span></code> and
<code class="docutils literal notranslate"><span class="pre">build_type</span></code> settings have to be removed because their values for the <code class="docutils literal notranslate"><span class="pre">build</span></code> platform are not defined
in the profile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="k">class</span> <span class="nc">MyToolchainXXXConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my_toolchain&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os_build&quot;</span><span class="p">,</span> <span class="s2">&quot;arch_build&quot;</span>

    <span class="c1"># As typically, this recipe doesn&#39;t declare &#39;compiler&#39; and &#39;build_type&#39;,</span>
    <span class="c1">#   the source() and build() methods need a custom implementation</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Typically download the toolchain for the &#39;build&#39; platform</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://fake_url.com/installers/</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">/toolchain.tgz&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">os_build</span><span class="p">,</span> <span class="n">os_arch</span><span class="p">)</span>
        <span class="n">tools</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="s2">&quot;toolchain.tgz&quot;</span><span class="p">)</span>
        <span class="n">tools</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span><span class="s2">&quot;toolchain.tgz&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">package</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Copy all the required files for your toolchain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;toolchain&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bin_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">package_folder</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">PATH</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bin_folder</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">CC</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bin_folder</span><span class="p">,</span> <span class="s2">&quot;mycompiler-cc&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">CXX</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bin_folder</span><span class="p">,</span> <span class="s2">&quot;mycompiler-cxx&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">SYSROOT</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">package_folder</span>
</pre></div>
</div>
<p>With this approach we also need to add the path to the binaries to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable. The
one and only profile has to include a <code class="docutils literal notranslate"><span class="pre">[build_requires]</span></code> section with the reference to our new packaged toolchain and
it will also contain a <code class="docutils literal notranslate"><span class="pre">[settings]</span></code> section with the regular settings plus the <code class="docutils literal notranslate"><span class="pre">os_build</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_build</span></code> ones.</p>
<p>This approach requires a special profile, and it needs a modified recipe without the <code class="docutils literal notranslate"><span class="pre">compiler</span></code> and <code class="docutils literal notranslate"><span class="pre">build_type</span></code> settings,
Conan can still compile it from sources but it won’t be able to identify the binary properly and it can be really to tackle
if the build requirements has other Conan dependencies.</p>
</div>
</div>
<div class="section" id="settings-build-and-target">
<h3>Settings <code class="docutils literal notranslate"><span class="pre">*_build</span></code> and <code class="docutils literal notranslate"><span class="pre">*_target</span></code><a class="headerlink" href="#settings-build-and-target" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last"><strong>These settings are being reviewed and might be deprecated in the future</strong>, we encourage you to try not to use
them. If you need help with your use case, please <a class="reference external" href="https://github.com/conan-io/conan/issues">open an issue in the Conan repository</a>
and we will help you.</p>
</div>
<p>Before Conan v1.24 the recommended way to deal with cross building was to use some extra settings like
<code class="docutils literal notranslate"><span class="pre">os_build</span></code>, <code class="docutils literal notranslate"><span class="pre">arch_build</span></code> and <code class="docutils literal notranslate"><span class="pre">os_target</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_target</span></code>. These settings have a special meaning
for some Conan tools and build helpers, but they also need to be listed in the recipes themselves creating
a dedicated set of recipes for <em>installers</em> and <em>tools</em> in general. This approach should be superseeded with
the introduction in Conan 1.24 of the command line arguments <code class="docutils literal notranslate"><span class="pre">--profile:host</span></code> and <code class="docutils literal notranslate"><span class="pre">--profile:build</span></code>
that allow to declare two different profiles with all the information needed for the corresponding platforms.</p>
<p>The meaning of those settings is the following:</p>
<ul class="simple">
<li>The settings <code class="docutils literal notranslate"><span class="pre">os_build</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_build</span></code> identify the <code class="docutils literal notranslate"><span class="pre">build</span></code> platform according to the GNU convention
triplet. These settings are detected the first time you run Conan with the same values than the <code class="docutils literal notranslate"><span class="pre">host</span></code> settings,
so by default, we are doing <strong>native building</strong>. You will probably never need to change the value
of this setting because they describe where are you running Conan.</li>
<li>The settings <code class="docutils literal notranslate"><span class="pre">os_target</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_target</span></code> identify the <code class="docutils literal notranslate"><span class="pre">target</span></code> platform. If you are building
a cross compiler, these settings specify where the compiled code will run.</li>
</ul>
<p>The rest of settings, as we already know, identify the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform.</p>
</div>
<div class="section" id="preparing-recipes-to-be-cross-compiled">
<h3>Preparing recipes to be cross-compiled<a class="headerlink" href="#preparing-recipes-to-be-cross-compiled" title="Permalink to this headline">¶</a></h3>
<p>If you use the build helpers <a class="reference internal" href="../reference/build_helpers/autotools.html#autotools-reference"><span class="std std-ref">AutoToolsBuildEnvironment</span></a> or <a class="reference internal" href="../reference/build_helpers/cmake.html#cmake-reference"><span class="std std-ref">CMake</span></a>
together with <code class="docutils literal notranslate"><span class="pre">os_build</span></code> and <code class="docutils literal notranslate"><span class="pre">arch_build</span></code> settings, Conan will adjust the configuration accordingly to the specified settings.</p>
<p>If not, you can always check the regular settings <code class="docutils literal notranslate"><span class="pre">os</span></code>, <code class="docutils literal notranslate"><span class="pre">arch</span></code>,… (matching the <code class="docutils literal notranslate"><span class="pre">host</span></code> platform) and
inject the needed flags to your build system script.</p>
<p>Also, you can use this tool to check if you are cross-building:</p>
<ul class="simple">
<li><a class="reference internal" href="../reference/tools.html#cross-building-reference"><span class="std std-ref">tools.cross_building(self.settings)</span></a> (returns True or False)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the following releases, this build helpers and tools will take into account the values of the
command line arguments <code class="docutils literal notranslate"><span class="pre">--profile:host</span></code> and <code class="docutils literal notranslate"><span class="pre">--profile:build</span></code> to implement the proper
cross building behavior.</p>
</div>
</div>
</div>
<div class="section" id="arm-architecture-reference">
<h2>ARM architecture reference<a class="headerlink" href="#arm-architecture-reference" title="Permalink to this headline">¶</a></h2>
<p>Remember that the Conan settings are intended to unify the different names for operating systems, compilers,
architectures etc.</p>
<p>Conan has different architecture settings for ARM: <code class="docutils literal notranslate"><span class="pre">armv6</span></code>, <code class="docutils literal notranslate"><span class="pre">armv7</span></code>, <code class="docutils literal notranslate"><span class="pre">armv7hf</span></code>, <code class="docutils literal notranslate"><span class="pre">armv8</span></code>.
The “problem” with ARM architecture is that it’s frequently named in different ways, so maybe you are wondering what setting
do you need to specify in your case.</p>
<p>Here is a table with some typical ARM platforms:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Platform</th>
<th class="head">Conan setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Raspberry PI 1</td>
<td><code class="docutils literal notranslate"><span class="pre">armv6</span></code></td>
</tr>
<tr class="row-odd"><td>Raspberry PI 2</td>
<td><code class="docutils literal notranslate"><span class="pre">armv7</span></code> or <code class="docutils literal notranslate"><span class="pre">armv7hf</span></code> if we want to use the float point hard support</td>
</tr>
<tr class="row-even"><td>Raspberry PI 3</td>
<td><code class="docutils literal notranslate"><span class="pre">armv8</span></code> also known as armv64-v8a</td>
</tr>
<tr class="row-odd"><td>Visual Studio</td>
<td><code class="docutils literal notranslate"><span class="pre">armv7</span></code> currently Visual Studio builds <code class="docutils literal notranslate"><span class="pre">armv7</span></code> binaries when you select ARM.</td>
</tr>
<tr class="row-even"><td>Android armbeabi-v7a</td>
<td><code class="docutils literal notranslate"><span class="pre">armv7</span></code></td>
</tr>
<tr class="row-odd"><td>Android armv64-v8a</td>
<td><code class="docutils literal notranslate"><span class="pre">armv8</span></code></td>
</tr>
<tr class="row-even"><td>Android armeabi</td>
<td><code class="docutils literal notranslate"><span class="pre">armv6</span></code> (as a minimal compatible, will be compatible with v7 too)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="examples-using-profiles">
<span id="cross-building-examples-profiles"></span><h3>Examples using profiles<a class="headerlink" href="#examples-using-profiles" title="Permalink to this headline">¶</a></h3>
<div class="section" id="linux-to-windows">
<h4>Linux to Windows<a class="headerlink" href="#linux-to-windows" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Install the needed toolchain, in Ubuntu:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install g++-mingw-w64 gcc-mingw-w64
</pre></div>
</div>
</li>
<li><p class="first">Create a file named <strong>linux_to_win64</strong> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>toolchain=/usr/x86_64-w64-mingw32 # Adjust this path
target_host=x86_64-w64-mingw32
cc_compiler=gcc
cxx_compiler=g++

[env]
CONAN_CMAKE_FIND_ROOT_PATH=$toolchain
CHOST=$target_host
AR=$target_host-ar
AS=$target_host-as
RANLIB=$target_host-ranlib
CC=$target_host-$cc_compiler
CXX=$target_host-$cxx_compiler
STRIP=$target_host-strip
RC=$target_host-windres

[settings]
# We are cross-building to Windows
os=Windows
arch=x86_64
compiler=gcc

# Adjust to the gcc version of your MinGW package
compiler.version=7.3
compiler.libcxx=libstdc++11
build_type=Release
</pre></div>
</div>
</li>
<li><p class="first">Clone an example recipe or use your own recipe:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/memsharded/conan-hello.git
</pre></div>
</div>
</li>
<li><p class="first">Call <strong class="command">conan create</strong> using the created <strong>linux_to_win64</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> conan-hello <span class="o">&amp;&amp;</span> conan create . conan/testing --profile ../linux_to_win64
...
<span class="o">[</span> <span class="m">50</span>%<span class="o">]</span> Building CXX object CMakeFiles/example.dir/example.cpp.obj
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span> Linking CXX executable bin/example.exe
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span> Built target example
</pre></div>
</div>
</li>
</ul>
<p>A <em>bin/example.exe</em> for Win64 platform has been built.</p>
</div>
<div class="section" id="windows-to-raspberry-pi-linux-arm">
<h4>Windows to Raspberry Pi (Linux/ARM)<a class="headerlink" href="#windows-to-raspberry-pi-linux-arm" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Install the toolchain: <a class="reference external" href="https://gnutoolchains.com/raspberry/">https://gnutoolchains.com/raspberry/</a>
You can choose different versions of the GCC cross compiler. Choose one and adjust the following
settings in the profile accordingly.</p>
</li>
<li><p class="first">Create a file named <strong>win_to_rpi</strong> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>target_host=arm-linux-gnueabihf
standalone_toolchain=C:/sysgcc/raspberry
cc_compiler=gcc
cxx_compiler=g++

[settings]
os=Linux
arch=armv7 # Change to armv6 if you are using Raspberry 1
compiler=gcc
compiler.version=6
compiler.libcxx=libstdc++11
build_type=Release

[env]
CONAN_CMAKE_FIND_ROOT_PATH=$standalone_toolchain/$target_host/sysroot
PATH=[$standalone_toolchain/bin]
CHOST=$target_host
AR=$target_host-ar
AS=$target_host-as
RANLIB=$target_host-ranlib
LD=$target_host-ld
STRIP=$target_host-strip
CC=$target_host-$cc_compiler
CXX=$target_host-$cxx_compiler
CXXFLAGS=-I&quot;$standalone_toolchain/$target_host/lib/include&quot;
</pre></div>
</div>
</li>
</ul>
<p>The profiles to target Linux are all very similar. You probably just need to adjust the variables
declared at the top of the profile:</p>
<blockquote>
<div><ul class="simple">
<li><strong>target_host</strong>: All the executables in the toolchain starts with this prefix.</li>
<li><strong>standalone_toolchain</strong>: Path to the toolchain installation.</li>
<li><strong>cc_compiler/cxx_compiler</strong>: In this case <code class="docutils literal notranslate"><span class="pre">gcc</span></code>/<code class="docutils literal notranslate"><span class="pre">g++</span></code>, but could be <code class="docutils literal notranslate"><span class="pre">clang</span></code>/<code class="docutils literal notranslate"><span class="pre">clang++</span></code>.</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">Clone an example recipe or use your own recipe:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/memsharded/conan-hello.git
</pre></div>
</div>
</li>
<li><p class="first">Call <strong class="command">conan create</strong> using the created profile.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> conan-hello <span class="o">&amp;&amp;</span> conan create . conan/testing --profile<span class="o">=</span>../win_to_rpi
...
<span class="o">[</span> <span class="m">50</span>%<span class="o">]</span> Building CXX object CMakeFiles/example.dir/example.cpp.obj
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span> Linking CXX executable bin/example
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span> Built target example
</pre></div>
</div>
</li>
</ul>
<p>A <em>bin/example</em> for Raspberry PI (Linux/armv7hf) platform has been built.</p>
</div>
<div class="section" id="windows-to-windows-ce">
<span id="cross-building-windows-ce"></span><h4>Windows to Windows CE<a class="headerlink" href="#windows-to-windows-ce" title="Permalink to this headline">¶</a></h4>
<p>The Windows CE (WinCE) operating system is supported for CMake and MSBuild. Since WinCE depends on the
MSVC compiler, Visual Studio and the according Windows CE platform SDK for the WinCE device have to be installed
on the build host.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">os.platform</span></code> defines the WinCE Platform SDK and is equal to the <code class="docutils literal notranslate"><span class="pre">Platform</span></code> in Visual Studio.</p>
<p>Some examples for Windows CE platforms:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SDK_AM335X_SK_WEC2013_V310</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">STANDARDSDK_500</span> <span class="pre">(ARMV4I)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Windows</span> <span class="pre">Mobile</span> <span class="pre">5.0</span> <span class="pre">Pocket</span> <span class="pre">PC</span> <span class="pre">SDK</span> <span class="pre">(ARMV4I)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Toradex_CE800</span> <span class="pre">(ARMV7)</span></code></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">os.version</span></code> defines the WinCE version and must be <code class="docutils literal notranslate"><span class="pre">&quot;5.0&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;6.0&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;7.0&quot;</span></code>.</p>
<p>CMake supports Visual Studio 2008 (<code class="docutils literal notranslate"><span class="pre">compiler.version=9</span></code>) and Visual Studio 2012 (<code class="docutils literal notranslate"><span class="pre">compiler.version=11</span></code>).</p>
<p>Example of an Windows CE conan profile:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[settings]
os=WindowsCE
os.version=8.0
os.platform=Toradex_CE800 (ARMV7)
arch=armv7
compiler=Visual Studio
compiler.version=11

# Release configuration
build_type=Release
compiler.runtime=MD
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Further information about CMake and WinCE can be found in the CMake documentation:</p>
<p class="last"><a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-toolchains.7.html#cross-compiling-for-windows-ce">CMake - Cross Compiling for Windows CE</a></p>
</div>
</div>
<div class="section" id="linux-windows-macos-to-android">
<span id="cross-building-android"></span><h4>Linux/Windows/macOS to Android<a class="headerlink" href="#linux-windows-macos-to-android" title="Permalink to this headline">¶</a></h4>
<p>Cross-building a library for Android is very similar to the previous examples, except the complexity of managing different
architectures (armeabi, armeabi-v7a, x86, arm64-v8a) and the Android API levels.</p>
<p>Download the Android NDK <a class="reference external" href="https://developer.android.com/ndk/downloads">here</a> and unzip it.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are in Windows the process will be almost the same, but unzip the file in the root folder of your hard disk (<code class="docutils literal notranslate"><span class="pre">C:\</span></code>) to avoid issues with path lengths.</p>
</div>
<p>Now you have to build a <a class="reference external" href="https://developer.android.com/ndk/guides/standalone_toolchain">standalone toolchain</a>.
We are going to target the “arm” architecture and the Android API level 21. Change the <code class="docutils literal notranslate"><span class="pre">--install-dir</span></code> to any other place that works
for you:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> build/tools
$ python make_standalone_toolchain.py --arch<span class="o">=</span>arm --api<span class="o">=</span><span class="m">21</span> --stl<span class="o">=</span>libc++ --install-dir<span class="o">=</span>/myfolder/arm_21_toolchain
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You can generate the standalone toolchain with several different options to target different architectures, API levels etc.</p>
<p class="last">Check the Android docs: <a class="reference external" href="https://developer.android.com/ndk/guides/standalone_toolchain">standalone toolchain</a></p>
</div>
<p>To use the <code class="docutils literal notranslate"><span class="pre">clang</span></code> compiler, create a profile <code class="docutils literal notranslate"><span class="pre">android_21_arm_clang</span></code>. Once again, the profile is very similar to the
RPI one:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>standalone_toolchain=/myfolder/arm_21_toolchain # Adjust this path
target_host=arm-linux-androideabi
cc_compiler=clang
cxx_compiler=clang++

[settings]
compiler=clang
compiler.version=5.0
compiler.libcxx=libc++
os=Android
os.api_level=21
arch=armv7
build_type=Release

[env]
CONAN_CMAKE_FIND_ROOT_PATH=$standalone_toolchain/sysroot
PATH=[$standalone_toolchain/bin]
CHOST=$target_host
AR=$target_host-ar
AS=$target_host-as
RANLIB=$target_host-ranlib
CC=$target_host-$cc_compiler
CXX=$target_host-$cxx_compiler
LD=$target_host-ld
STRIP=$target_host-strip
CFLAGS= -fPIE -fPIC -I$standalone_toolchain/include/c++/4.9.x
CXXFLAGS= -fPIE -fPIC -I$standalone_toolchain/include/c++/4.9.x
LDFLAGS= -pie
</pre></div>
</div>
<p>You could also use <code class="docutils literal notranslate"><span class="pre">gcc</span></code> using this profile <code class="docutils literal notranslate"><span class="pre">arm_21_toolchain_gcc</span></code>, changing the <code class="docutils literal notranslate"><span class="pre">cc_compiler</span></code> and
<code class="docutils literal notranslate"><span class="pre">cxx_compiler</span></code> variables, removing <code class="docutils literal notranslate"><span class="pre">-fPIE</span></code> flag and, of course, changing the <code class="docutils literal notranslate"><span class="pre">[settings]</span></code> to
match the gcc toolchain compiler:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>standalone_toolchain=/myfolder/arm_21_toolchain
target_host=arm-linux-androideabi
cc_compiler=gcc
cxx_compiler=g++

[settings]
compiler=gcc
compiler.version=4.9
compiler.libcxx=libstdc++
os=Android
os.api_level=21
arch=armv7
build_type=Release

[env]
CONAN_CMAKE_FIND_ROOT_PATH=$standalone_toolchain/sysroot
PATH=[$standalone_toolchain/bin]
CHOST=$target_host
AR=$target_host-ar
AS=$target_host-as
RANLIB=$target_host-ranlib
CC=$target_host-$cc_compiler
CXX=$target_host-$cxx_compiler
LD=$target_host-ld
STRIP=$target_host-strip
CFLAGS= -fPIC -I$standalone_toolchain/include/c++/4.9.x
CXXFLAGS= -fPIC -I$standalone_toolchain/include/c++/4.9.x
LDFLAGS=
</pre></div>
</div>
<ul class="simple">
<li>Clone, for example, the zlib library to try to build it to Android</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/conan-community/conan-zlib.git
</pre></div>
</div>
<ul class="simple">
<li>Call <strong class="command">conan create</strong> using the created profile.</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> conan-zlib <span class="o">&amp;&amp;</span> conan create . --profile<span class="o">=</span>../android_21_arm_clang

...
-- Build files have been written to: /tmp/conan-zlib/test_package/build/ba0b9dbae0576b9a23ce7005180b00e4fdef1198
Scanning dependencies of target enough
<span class="o">[</span> <span class="m">50</span>%<span class="o">]</span> Building C object CMakeFiles/enough.dir/enough.c.o
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span> Linking C executable bin/enough
<span class="o">[</span><span class="m">100</span>%<span class="o">]</span> Built target enough
zlib/1.2.11 <span class="o">(</span><span class="nb">test</span> package<span class="o">)</span>: Running test<span class="o">()</span>
</pre></div>
</div>
<p>A <strong>bin/enough</strong> for Android ARM platform has been built.</p>
</div>
</div>
<div class="section" id="examples-using-build-requires">
<span id="cross-building-examples-build-requires"></span><h3>Examples using build requires<a class="headerlink" href="#examples-using-build-requires" title="Permalink to this headline">¶</a></h3>
<div class="section" id="example-darwin-toolchain">
<span id="darwin-toolchain"></span><h4>Example: Darwin Toolchain<a class="headerlink" href="#example-darwin-toolchain" title="Permalink to this headline">¶</a></h4>
<p>Check the <a class="reference external" href="https://github.com/theodelrieu/conan-darwin-toolchain">Darwin Toolchain</a>  package in conan-center.
You can use a profile like the following to cross-build your packages for <code class="docutils literal notranslate"><span class="pre">iOS</span></code>,  <code class="docutils literal notranslate"><span class="pre">watchOS</span></code> and <code class="docutils literal notranslate"><span class="pre">tvOS</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">ios_profile</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>include(default)

[settings]
os=iOS
os.version=9.0
arch=armv7

[build_requires]
darwin-toolchain/1.0@theodelrieu/stable
</pre></div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conan install . --profile ios_profile
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>Check the <a class="reference internal" href="../devtools/create_installer_packages.html#create-installer-packages"><span class="std std-ref">Creating conan packages to install dev tools</span></a> to learn
more about how to create Conan packages for tools.</li>
<li>Check the <a class="reference external" href="https://github.com/conan-community/conan-mingw-installer/blob/master/conanfile.py">mingw-installer</a> build require recipe as an example of packaging a compiler.</li>
</ul>
</div>
<p>—</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>Reference links</p>
<p><strong>ARM</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://developer.arm.com/docs/dui0773/latest/compiling-c-and-c-code/specifying-a-target-architecture-processor-and-instruction-set">https://developer.arm.com/docs/dui0773/latest/compiling-c-and-c-code/specifying-a-target-architecture-processor-and-instruction-set</a></li>
<li><a class="reference external" href="https://developer.arm.com/docs/dui0472/latest/compiler-command-line-options">https://developer.arm.com/docs/dui0472/latest/compiler-command-line-options</a></li>
</ul>
<p><strong>ANDROID</strong></p>
<ul class="simple">
<li><a class="reference external" href="https://developer.android.com/ndk/guides/standalone_toolchain">https://developer.android.com/ndk/guides/standalone_toolchain</a></li>
</ul>
<p><strong>VISUAL STUDIO</strong></p>
<ul class="last simple">
<li><a class="reference external" href="https://docs.microsoft.com/en-us/visualstudio/msbuild/msbuild-command-line-reference?view=vs-2017">https://docs.microsoft.com/en-us/visualstudio/msbuild/msbuild-command-line-reference?view=vs-2017</a></li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>See <a class="reference internal" href="../reference/config_files/conan.conf.html#conan-conf"><span class="std std-ref">conan.conf file</span></a> and <a class="reference internal" href="../reference/env_vars.html#env-vars"><span class="std std-ref">Environment variables</span></a> sections to know more.</li>
<li>See <a class="reference internal" href="../reference/build_helpers/autotools.html#autotools-reference"><span class="std std-ref">AutoToolsBuildEnvironment build helper</span></a> reference.</li>
<li>See <a class="reference internal" href="../reference/build_helpers/cmake.html#cmake-reference"><span class="std std-ref">CMake build helper</span></a> reference.</li>
<li>See <a class="reference external" href="https://vtk.org/Wiki/CMake_Cross_Compiling">CMake cross-building wiki</a> to know more about cross-building with CMake.</li>
</ul>
</div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="windows_subsystems.html" class="btn btn-neutral float-right" title="Windows Subsystems" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../systems_cross_building.html" class="btn btn-neutral" title="Systems and cross building" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, JFrog.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 1.24
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          
            <dd><a href="/en/latest/index.html">1.25</a></dd>
          
        
          
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
          
        
          
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
          
        
          
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
          
        
          
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
          
        
          
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
          
        
          
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
          
        
          
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
          
        
          
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
          
        
          
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
          
        
          
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
          
        
          
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
          
        
          
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
          
        
          
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
          
        
          
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
          
        
          
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
          
        
          
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
          
        
          
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
          
        
          
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
          
        
          
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
          
        
          
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
          
        
          
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
          
        
          
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
          
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/en/1.24/conan.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.24.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../_static/js/modernizr.min.js"></script>
  <script src="../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("1.24");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>