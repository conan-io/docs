<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Packages in editable mode &mdash; conan 1.40.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/en/latest/developing_packages/editable_packages.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b88b670c"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Workspaces" href="workspaces.html" />
    <link rel="prev" title="Package layout" href="package_layout.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.40
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training_courses.html">Training Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../developing_packages.html">Developing packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="package_dev_flow.html">Package development flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="package_layout.html">Package layout</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Packages in editable mode</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#put-a-package-in-editable-mode">Put a package in editable mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#editable-packages-layouts">Editable packages layouts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recipe-layout-method">Recipe layout() method</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recipe-package-info">Recipe package_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layout-external-files">Layout external files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-layout-files">Specifying layout files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#evaluation-order-and-priority">Evaluation order and priority</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-a-package-in-editable-mode">Using a package in editable mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#revert-the-editable-mode">Revert the editable mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workspaces.html">Workspaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conan_v2.html">Road to Conan 2.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #eb8484;background-color: #ffcaca;padding: 3px;margin-bottom: 5px">
              <p>This document is for a <b>"1.X" legacy</b> Conan version, <b>which is no longer recommended</b>. Please update to Conan 2, <a href="https://docs.conan.io/2/">click here to read the <b>Conan 2</b> documentation</a></p>
            </div>
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  üìñ The complete Conan 2 training is now available for free on
                  JFrog Academy: <a
                  href="https://academy.jfrog.com/path/conan-cc-package-manager?utm_source=Conan+Docs"
                  target="_blank">Essentials</a> and <a
                  href="https://academy.jfrog.com/path/conan-2-advanced?utm_source=Conan+Docs"
                  target="_blank">Advanced</a>.
                </p>
              </div>                                                  
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../developing_packages.html">Developing packages</a></li>
      <li class="breadcrumb-item active">Packages in editable mode</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="packages-in-editable-mode">
<span id="editable-packages"></span><h1>Packages in editable mode<a class="headerlink" href="#packages-in-editable-mode" title="Link to this heading">ÔÉÅ</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>When working in big projects with several functionalities interconnected it is recommended to avoid
the one-and-only huge project approach in favor of several libraries, each one specialized
in a set of common tasks, even maintained by dedicated teams. This approach helps to isolate
and reusing code helps with compiling times and reduces the likelihood of including files that
not correspond to the API of the required library.</p>
<p>Nevertheless, in some case, it is useful to work in several libraries at the same time and see how
the changes in one of them are propagated to the others. Following the
<a class="reference internal" href="package_dev_flow.html#package-dev-flow"><span class="std std-ref">local workflow</span></a> an user can execute the commands <strong class="command">conan source</strong>,
<strong class="command">conan install</strong>, <strong class="command">conan build</strong> and <strong class="command">conan package</strong>, but in order to
get the changes ready for a consumer library, it is needed the <strong class="command">conan create</strong> that will
actually trigger a build to generate the binaries in the cache or to run <strong class="command">conan export-pkg</strong>
to copy locally built artifacts into the conan cache and make them available to consumers.</p>
<p>With the editable packages, you can tell Conan where to find the headers and the artifacts ready for
consumption in your local working directory. There is no need to package.</p>
<p>Let‚Äôs see this feature over an practical example; the code can be found in the conan examples repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/conan-io/examples.git
</pre></div>
</div>
<p>In the project <cite>examples/features/editable/cmake</cite> a developer is creating the app
<code class="docutils literal notranslate"><span class="pre">hello</span></code> but at the same time they want to work on <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> library which
is tightly coupled to the app.</p>
<p>The package <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> is already working, the developer has the sources in a
local folder and they are using whatever method to build and develop locally and can perform
a <strong class="command">conan create . say/0.1&#64;user/channel</strong> to create the package.</p>
<p>Also, there is a <em>conanfile.txt</em> (or a more complex recipe) for the application <code class="docutils literal notranslate"><span class="pre">hello</span></code> that
has <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> among its requirements. When building this application, the
resources of <code class="docutils literal notranslate"><span class="pre">say</span></code> are used from the Conan local cache.</p>
<section id="put-a-package-in-editable-mode">
<h2>Put a package in editable mode<a class="headerlink" href="#put-a-package-in-editable-mode" title="Link to this heading">ÔÉÅ</a></h2>
<p>To avoid creating the package <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> in the cache for every change, we are going
to put that package in editable mode, creating <strong>a link from the reference in the cache to the local
working directory</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>editable<span class="w"> </span>add<span class="w"> </span>examples/features/editable/cmake/say<span class="w"> </span>say/0.1@user/channel
<span class="c1"># you could do &quot;cd &lt;examples/features/editable/cmake/say&gt; &amp;&amp; conan editable add . say/0.1@user/channel&quot;</span>
</pre></div>
</div>
<p>That is it. Now, every usage of <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code>, by any other Conan package or project,
will be redirected to the <code class="docutils literal notranslate"><span class="pre">examples/features/editable/cmake/say</span></code> user folder instead of using the package
from the conan cache.</p>
<p>The Conan package recipes define a package ‚Äúlayout‚Äù in their <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> methods. The default one,
if nothing is specified is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># default behavior, doesn&#39;t need to be explicitly defined in recipes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">includedirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lib&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">bindirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;bin&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">resdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;res&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>That means that conan will use the path <code class="docutils literal notranslate"><span class="pre">examples/features/editable/cmake/say/include</span></code> for locating the headers of
the <code class="docutils literal notranslate"><span class="pre">say</span></code> package, the <code class="docutils literal notranslate"><span class="pre">examples/features/editable/cmake/say/lib</span></code> to locate the libraries of the package, and so on.</p>
<p>That might not be very useful, as typically while editing the source code and doing incremental builds, the
development layout is different from that final ‚Äúpackage‚Äù layout. While it is possible to run a
<strong class="command">conan package</strong> local command to execute the packaging in the user folder and it will achieve that
final layout, that is not very elegant as it should be run after every modification.</p>
<p>In order to populate <code class="docutils literal notranslate"><span class="pre">cpp_info.libs</span></code>, the usage of <code class="docutils literal notranslate"><span class="pre">tools.collect_libs()</span></code> is discouraged as it won‚Äôt find
any library when the package is in editable mode and it hasn‚Äôt been compiled yet. This empty list will be
written to files by generators and it won‚Äôt be updated after working on the editable package.</p>
</section>
<section id="editable-packages-layouts">
<h2>Editable packages layouts<a class="headerlink" href="#editable-packages-layouts" title="Link to this heading">ÔÉÅ</a></h2>
<p>The custom layout of a package while it is in editable mode can be defined in different ways:</p>
<section id="recipe-layout-method">
<h3>Recipe layout() method<a class="headerlink" href="#recipe-layout-method" title="Link to this heading">ÔÉÅ</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">layout()</span></code> method allows to declare <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> for the <code class="docutils literal notranslate"><span class="pre">self.source_folder</span></code> and <code class="docutils literal notranslate"><span class="pre">self.build_folder</span></code>.
You can read more about it in the <a class="reference internal" href="package_layout.html#package-layout-cpp"><span class="std std-ref">package layout documentation page</span></a>.
If the method <code class="docutils literal notranslate"><span class="pre">layout()</span></code> is used, any other layout declaration will be ignored.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">includedirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">libdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;.&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mylib&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">build</span><span class="o">.</span><span class="n">includedirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;gen_include&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mylib&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>NOTE: The <code class="docutils literal notranslate"><span class="pre">layout()</span></code> feature will be fully functional only in the new build system integrations
(<a class="reference internal" href="../reference/conanfile/tools.html#conan-tools"><span class="std std-ref">in the conan.tools space</span></a>). If you are using other integrations, they
might not fully support this feature.</p>
</section>
<section id="recipe-package-info">
<h3>Recipe package_info()<a class="headerlink" href="#recipe-package-info" title="Link to this heading">ÔÉÅ</a></h3>
<p>A recipe can define a custom layout when it is not living in the local cache, in its <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method,
something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_local_cache</span><span class="p">:</span>
            <span class="n">d</span> <span class="o">=</span> <span class="s2">&quot;include_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">build_type</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">includedirs</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
</pre></div>
</div>
<p>That will map the include directories to <code class="docutils literal notranslate"><span class="pre">examples/features/editable/cmake/say/include_debug</span></code> when working with <code class="docutils literal notranslate"><span class="pre">build_type=Debug</span></code>
conan setting, and to <code class="docutils literal notranslate"><span class="pre">examples/features/editable/cmake/say/include_release</span></code> if <code class="docutils literal notranslate"><span class="pre">build_type=Release</span></code>. In the same way, other
directories (libdirs, bindirs, etc) can be customized, with any logic, different for different OS, build systems, etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_local_cache</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span> <span class="o">==</span> <span class="s2">&quot;Visual Studio&quot;</span><span class="p">:</span>
                <span class="c1"># NOTE: Use the real layout used in your VS projects, this is just an example</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">_</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">build_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">arch</span><span class="p">)]</span>
</pre></div>
</div>
<p>That will define the libraries directories to <code class="docutils literal notranslate"><span class="pre">examples/features/editable/cmake/say/Release_x86_64</span></code>, for example.
That is only an example, the real layout used by VS would be different.</p>
</section>
<section id="layout-external-files">
<h3>Layout external files<a class="headerlink" href="#layout-external-files" title="Link to this heading">ÔÉÅ</a></h3>
<p>Instead of changing the recipe file to match the local layout, it‚Äôs possible to define the
layout in a separate file. This is especially useful if you have a large number of libraries
with the same structure so you can write it once and use it for several packages.</p>
<p>Layout files are <em>ini</em> files, but before parsing them Conan uses the Jinja2 template
engine passing the <code class="docutils literal notranslate"><span class="pre">settings</span></code>, <code class="docutils literal notranslate"><span class="pre">options</span></code> and current <code class="docutils literal notranslate"><span class="pre">reference</span></code> objects, so you
can add logic to the files:</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[build_folder]</span>
<span class="na">build/{{settings.build_type}}</span>

<span class="k">[source_folder]</span>
<span class="na">src</span>

<span class="k">[includedirs]</span>
<span class="na">src</span>

<span class="k">[libdirs]</span>
<span class="na">build/{{settings.build_type}}/lib</span>
</pre></div>
</div>
</div></blockquote>
<p>You can have a look at the <a class="reference external" href="https://palletsprojects.com/p/jinja/">Jinja2 documentation</a> to know more
about its powerful syntax.</p>
<p>This file can use the package reference to customize logic for a specific package:</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[say/0.1@user/channel:build_folder]</span>
<span class="na">{% if settings.compiler =</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Visual Studio&quot;</span><span class="w"> </span><span class="na">%}</span>
<span class="na">build</span>
<span class="na">{% else %}</span>
<span class="na">build/{{settings.build_type}}</span>
<span class="na">{% endif %}</span>

<span class="k">[build_folder]</span>
<span class="na">build/{{settings.arch}}/{{settings.build_type}}</span>

<span class="k">[source_folder]</span>
<span class="na">src</span>

<span class="k">[includedirs]</span>
<span class="na">src</span>

<span class="k">[libdirs]</span>
<span class="na">build/{{settings.build_type}}/lib</span>

<span class="k">[bindirs]</span>
<span class="na">build/{{settings.build_type}}/bin</span>
</pre></div>
</div>
</div></blockquote>
<p>This layout will define the <code class="docutils literal notranslate"><span class="pre">src</span></code> include directory for the <code class="docutils literal notranslate"><span class="pre">say</span></code> and for other packages in editable mode.
Also, the <code class="docutils literal notranslate"><span class="pre">build_folder</span></code> has a condition only for <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> package. It will use a specific path,
according the compiler.</p>
<p>In every case the directories that will be affected by the editable mode will be <code class="docutils literal notranslate"><span class="pre">includedirs</span></code>,
<code class="docutils literal notranslate"><span class="pre">libdirs</span></code>, <code class="docutils literal notranslate"><span class="pre">bindirs</span></code>, <code class="docutils literal notranslate"><span class="pre">resdirs</span></code>, <code class="docutils literal notranslate"><span class="pre">srcdirs</span></code> and <code class="docutils literal notranslate"><span class="pre">builddirs</span></code>, all of them declared in the
<a class="reference internal" href="../reference/conanfile/attributes.html#cpp-info-attributes-reference"><span class="std std-ref">cpp_info</span></a> dictionary; the rest of values in that dictionary won‚Äôt
be modified. So <code class="docutils literal notranslate"><span class="pre">cflags</span></code>, <code class="docutils literal notranslate"><span class="pre">defines</span></code>, library names in <code class="docutils literal notranslate"><span class="pre">libs</span></code> defined in <code class="docutils literal notranslate"><span class="pre">package_info()</span></code>
will still be used.</p>
<p>By default all folders paths are relative to the directory where the <em>conanfile.py</em>
of the editable package is (which is the path used to create the link), though they also allow absolute
paths.</p>
</section>
<section id="specifying-layout-files">
<h3>Specifying layout files<a class="headerlink" href="#specifying-layout-files" title="Link to this heading">ÔÉÅ</a></h3>
<p>Layout files are specified in the <strong class="command">conan editable add</strong> command, as an extra argument:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>examples/features/editable/cmake/say
$<span class="w"> </span>conan<span class="w"> </span>editable<span class="w"> </span>add<span class="w"> </span>.<span class="w"> </span>say/0.1@user/channel<span class="w"> </span>--layout<span class="o">=</span>layout_vs
</pre></div>
</div>
<p>That <code class="docutils literal notranslate"><span class="pre">layout_vs</span></code> file will be first looked for relative to the current directory (the
path can be absolute too). If it is found, that will be used. It is possible to add those
layouts in the source repositories, so they are always easy to find after a clone.</p>
<p>If the specified layout is not found relative to the current directory, it will be looked
for in the conan cache, in the <code class="docutils literal notranslate"><span class="pre">.conan/layouts</span></code> folder. This is very convenient to have
a single definition of layouts that can be shared with the team and installed with
<code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">config</span> <span class="pre">install</span></code>.</p>
<p>If no argument is specified, the <strong class="command">conan editable add</strong> command will try to use a <cite>.conan/layouts/default</cite>
layout from the local cache.</p>
<p>You can switch layout files by passing a different argument to new calls to <strong class="command">conan editable add</strong>.</p>
</section>
<section id="evaluation-order-and-priority">
<h3>Evaluation order and priority<a class="headerlink" href="#evaluation-order-and-priority" title="Link to this heading">ÔÉÅ</a></h3>
<p>It is important to understand the evaluation order and priorities regarding the definitions of layouts:</p>
<ul class="simple">
<li><p>If the <cite>layout()</cite> method is declared in the recipe, it will ignore the rest of the information regarding
the layout. Only the <cite>self.cpp.source</cite> and <cite>self.cpp.build</cite> objects will be taken into account.</p></li>
</ul>
<p>Otherwise:</p>
<ul class="simple">
<li><p>The first thing that will always execute is the recipe <code class="docutils literal notranslate"><span class="pre">package_info()</span></code>. That will define
the flags, definitions, as well as some values for the layout folders: <code class="docutils literal notranslate"><span class="pre">includedirs</span></code>, <code class="docutils literal notranslate"><span class="pre">libdirs</span></code>, etc.</p></li>
<li><p>If a layout file is defined, either explicitly or using the implicit <code class="docutils literal notranslate"><span class="pre">.conan/layouts/default</span></code>,
conan will look for matches, based on its package reference.</p></li>
<li><p>If a match is found, either because of global definitions like <code class="docutils literal notranslate"><span class="pre">[includedirs]</span></code>
or because a match like <code class="docutils literal notranslate"><span class="pre">[pkg/version&#64;user/channel:includedirs]</span></code>, then the layout folders
(includedirs, libdirs, resdirs, builddirs, bindirs), will be invalidated and replaced by the ones
defined in the file.</p></li>
<li><p>If a specific match like <code class="docutils literal notranslate"><span class="pre">[pkg/version&#64;user/channel:includedirs]</span></code> is found, it is expected to
have defined also its specific <code class="docutils literal notranslate"><span class="pre">[pkg/version&#64;user/channel:libdirs]</span></code>, etc. The global layout
folders specified without package reference won‚Äôt be applied once a match is found.</p></li>
<li><p>It no match is found, the original values for the layout folders defined in <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> will
be respected.</p></li>
<li><p>The layout file to be used is defined at <strong class="command">conan editable add</strong> time. If a <code class="docutils literal notranslate"><span class="pre">.conan/layouts/default</span></code> file
is added after the <strong class="command">conan editable add</strong>, it will not be used at all.</p></li>
</ul>
</section>
</section>
<section id="using-a-package-in-editable-mode">
<h2>Using a package in editable mode<a class="headerlink" href="#using-a-package-in-editable-mode" title="Link to this heading">ÔÉÅ</a></h2>
<p>Once a reference is in editable mode it is used <strong>system wide</strong> (for every set of <code class="docutils literal notranslate"><span class="pre">settings</span></code> and
<code class="docutils literal notranslate"><span class="pre">options</span></code>) by Conan (by every Conan client that uses the same cache), no changes are
required in the consumers. Every <strong class="command">conan install</strong> command that requires our editable
<code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> package will use the paths to the local directory and the changes
made to this project will be taken into account by the packages using its headers or linking
against it.</p>
<p>To summarize, consumption of packages in editable mode is transparent to their consumers.
To try that it is working, the following flow should work:</p>
<ul class="simple">
<li><p>Get sources of <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code>: <strong class="command">git/svn clone... &amp;&amp; cd folder</strong></p></li>
<li><p>Put package in editable mode: <strong class="command">conan editable add . say/0.1&#64;user/channel --layout=layout_gcc</strong></p></li>
<li><p>Work with it and build using any tool. Check that your local layout is reflected in the layout
file <em>layout_gcc</em> specified in the previous step.</p></li>
<li><p>Go to the consumer project: <code class="docutils literal notranslate"><span class="pre">hello</span></code></p></li>
<li><p>Build it using any local flow: <strong class="command">conan install</strong> and build</p></li>
<li><p>Go back to <code class="docutils literal notranslate"><span class="pre">say/0.1&#64;user/channel</span></code> source folder, do some changes, and just build. No Conan commands necessary</p></li>
<li><p>Go to the consumer project: <code class="docutils literal notranslate"><span class="pre">hello</span></code> and rebuild. It should get the changes from the <code class="docutils literal notranslate"><span class="pre">say</span></code> library.</p></li>
</ul>
<p>In that way, it is possible to be developing both the <code class="docutils literal notranslate"><span class="pre">say</span></code> library and the <code class="docutils literal notranslate"><span class="pre">hello</span></code> application, at the same
time, without any Conan command.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When a package is in editable mode, most of the commands will not work. It is not possible to <strong class="command">conan upload</strong>,
<strong class="command">conan export</strong> or <strong class="command">conan create</strong> when a package is in editable mode.</p>
</div>
</section>
<section id="revert-the-editable-mode">
<h2>Revert the editable mode<a class="headerlink" href="#revert-the-editable-mode" title="Link to this heading">ÔÉÅ</a></h2>
<p>In order to revert the editable mode just remove the link using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>editable<span class="w"> </span>remove<span class="w"> </span>say/0.1@user/channel
</pre></div>
</div>
<p>It will remove the link (the local directory won‚Äôt be affected) and all the packages consuming this
requirement will get it from the cache again.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Packages that are built consuming an editable package in its graph upstreams can generate binaries
and packages incompatible with the released version of the editable package. Avoid uploading
these packages without re-creating them with the in-cache version of all the libraries.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="package_layout.html" class="btn btn-neutral float-left" title="Package layout" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="workspaces.html" class="btn btn-neutral float-right" title="Workspaces" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2020, JFrog.
      <span class="lastupdated">Last updated on Feb 25, 2026.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 1.40
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.26/index.html">2.26</a></dd>
        
    
        
            <dd><a href="/2.25/index.html">2.25</a></dd>
        
    
        
            <dd><a href="/2.24/index.html">2.24</a></dd>
        
    
        
            <dd><a href="/2.23/index.html">2.23</a></dd>
        
    
        
            <dd><a href="/2.22/index.html">2.22</a></dd>
        
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/en/1.40/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>