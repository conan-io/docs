



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AutoToolsBuildEnvironment (configure/make) &mdash; conan 1.15.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="conan 1.15.1 documentation" href="../../index.html"/>
        <link rel="up" title="Build helpers" href="../build_helpers.html"/>
        <link rel="next" title="MSBuild" href="visual_studio.html"/>
        <link rel="prev" title="CMake" href="cmake.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../../_static/conan_logo.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos.html">Howtos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators.html">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profiles.html">Profiles</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../build_helpers.html">Build helpers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cmake.html">CMake</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">AutoToolsBuildEnvironment (configure/make)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#constructor">Constructor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attributes">Attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-variables">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="visual_studio.html">MSBuild</a></li>
<li class="toctree-l3"><a class="reference internal" href="visual_studio.html#visualstudiobuildenvironment">VisualStudioBuildEnvironment</a></li>
<li class="toctree-l3"><a class="reference internal" href="meson.html">Meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="run_environment.html">RunEnvironment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_vars.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hooks.html">Hooks [EXPERIMENTAL]</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../build_helpers.html">Build helpers</a> &raquo;</li>
        
      <li>AutoToolsBuildEnvironment (configure/make)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/reference/build_helpers/autotools.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="autotoolsbuildenvironment-configure-make">
<span id="autotools-reference"></span><h1>AutoToolsBuildEnvironment (configure/make)<a class="headerlink" href="#autotoolsbuildenvironment-configure-make" title="Permalink to this headline">Â¶</a></h1>
<p>If you are using <strong>configure</strong>/<strong>make</strong> you can use <strong>AutoToolsBuildEnvironment</strong> helper.
This helper sets <code class="docutils literal notranslate"><span class="pre">LIBS</span></code>, <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code> and <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code> environment variables based on your requirements.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">AutoToolsBuildEnvironment</span>

<span class="k">class</span> <span class="nc">ExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>
   <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;Poco/1.9.0@pocoproject/stable&quot;</span>
   <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Poco:shared&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;OpenSSL:shared&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>

   <span class="k">def</span> <span class="nf">imports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*.dll&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;bin&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*.dylib*&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;lib&quot;</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">      <span class="n">autotools</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span class="hll">      <span class="n">autotools</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
</span><span class="hll">      <span class="n">autotools</span><span class="o">.</span><span class="n">make</span><span class="p">()</span>
</span></pre></div>
</div>
<p>It also works using the <a class="reference internal" href="../tools.html#tools-environment-append"><span class="std std-ref">environment_append</span></a> context manager applied to your <strong>configure and make</strong> commands,
calling <cite>configure</cite> and <cite>make</cite> manually:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">,</span> <span class="n">tools</span>

<span class="k">class</span> <span class="nc">ExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">env_build</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">environment_append</span><span class="p">(</span><span class="n">env_build</span><span class="o">.</span><span class="n">vars</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;./configure&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;make&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can change some variables like <code class="docutils literal notranslate"><span class="pre">fpic</span></code>, <code class="docutils literal notranslate"><span class="pre">libs</span></code>, <code class="docutils literal notranslate"><span class="pre">include_paths</span></code> and <code class="docutils literal notranslate"><span class="pre">defines</span></code> before accessing the <code class="docutils literal notranslate"><span class="pre">vars</span></code> to override
an automatic value or add new values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">AutoToolsBuildEnvironment</span>

 <span class="k">class</span> <span class="nc">ExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>

     <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="n">env_build</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="hll">         <span class="n">env_build</span><span class="o">.</span><span class="n">fpic</span> <span class="o">=</span> <span class="kc">True</span>
</span><span class="hll">         <span class="n">env_build</span><span class="o">.</span><span class="n">libs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;pthread&quot;</span><span class="p">)</span>
</span><span class="hll">         <span class="n">env_build</span><span class="o">.</span><span class="n">defines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;NEW_DEFINE=23&quot;</span><span class="p">)</span>
</span>         <span class="n">env_build</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
         <span class="n">env_build</span><span class="o">.</span><span class="n">make</span><span class="p">()</span>
</pre></div>
</div>
<p>You can use it also with <code class="docutils literal notranslate"><span class="pre">MSYS2</span></code>/<code class="docutils literal notranslate"><span class="pre">MinGW</span></code> subsystems installed by setting the <cite>win_bash</cite> parameter
in the constructor. It will run the the <code class="docutils literal notranslate"><span class="pre">configure</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span></code> commands inside a <code class="docutils literal notranslate"><span class="pre">bash</span></code> that
has to be in the path or declared in <code class="docutils literal notranslate"><span class="pre">CONAN_BASH_PATH</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">,</span> <span class="n">tools</span>

<span class="k">class</span> <span class="nc">ExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>

   <span class="k">def</span> <span class="nf">imports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*.dll&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;bin&quot;</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*.dylib*&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;lib&quot;</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">env_build</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">win_bash</span><span class="o">=</span><span class="n">tools</span><span class="o">.</span><span class="n">os_info</span><span class="o">.</span><span class="n">is_windows</span><span class="p">)</span>
<span class="hll">      <span class="n">env_build</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
</span>      <span class="n">env_build</span><span class="o">.</span><span class="n">make</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="constructor">
<h2>Constructor<a class="headerlink" href="#constructor" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">AutoToolsBuildEnvironment</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conanfile</span><span class="p">,</span> <span class="n">win_bash</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li><strong>conanfile</strong> (Required): Conanfile object. Usually <code class="docutils literal notranslate"><span class="pre">self</span></code> in a conanfile.py</li>
<li><strong>win_bash</strong>: (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">False</span></code>): When True, it will run the configure/make commands inside a bash.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">Â¶</a></h2>
<p>You can adjust the automatically filled values modifying the attributes like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span> <span class="nn">conans</span> <span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">AutoToolsBuildEnvironment</span>

 <span class="k">class</span> <span class="nc">ExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>

     <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="n">autotools</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="hll">         <span class="n">autotools</span><span class="o">.</span><span class="n">fpic</span> <span class="o">=</span> <span class="kc">True</span>
</span><span class="hll">         <span class="n">autotools</span><span class="o">.</span><span class="n">libs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;pthread&quot;</span><span class="p">)</span>
</span><span class="hll">         <span class="n">autotools</span><span class="o">.</span><span class="n">defines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;NEW_DEFINE=23&quot;</span><span class="p">)</span>
</span>         <span class="n">autotools</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
         <span class="n">autotools</span><span class="o">.</span><span class="n">make</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="fpic">
<h3>fpic<a class="headerlink" href="#fpic" title="Permalink to this headline">Â¶</a></h3>
<dl class="docutils">
<dt><strong>Defaulted to</strong>: <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">fPIC</span></code> option exists and <code class="docutils literal notranslate"><span class="pre">True</span></code> or when <code class="docutils literal notranslate"><span class="pre">fPIC</span></code> exists and</dt>
<dd><code class="docutils literal notranslate"><span class="pre">False</span></code> but option <code class="docutils literal notranslate"><span class="pre">shared</span></code> exists and <code class="docutils literal notranslate"><span class="pre">True</span></code>. Otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</dd>
</dl>
<p>Set it to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want to append the <code class="docutils literal notranslate"><span class="pre">-fPIC</span></code> flag.</p>
</div>
<div class="section" id="libs">
<h3>libs<a class="headerlink" href="#libs" title="Permalink to this headline">Â¶</a></h3>
<p>List with library names of the requirements (<code class="docutils literal notranslate"><span class="pre">-l</span></code> in <code class="docutils literal notranslate"><span class="pre">LIBS</span></code>).</p>
</div>
<div class="section" id="include-paths">
<h3>include_paths<a class="headerlink" href="#include-paths" title="Permalink to this headline">Â¶</a></h3>
<p>List with the include paths of the requires (-I in CPPFLAGS).</p>
</div>
<div class="section" id="library-paths">
<h3>library_paths<a class="headerlink" href="#library-paths" title="Permalink to this headline">Â¶</a></h3>
<p>List with library paths of the requirements  (-L in LDFLAGS).</p>
</div>
<div class="section" id="defines">
<h3>defines<a class="headerlink" href="#defines" title="Permalink to this headline">Â¶</a></h3>
<p>List with variables that will be defined with <code class="docutils literal notranslate"><span class="pre">-D</span></code>  in <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>.</p>
</div>
<div class="section" id="flags">
<h3>flags<a class="headerlink" href="#flags" title="Permalink to this headline">Â¶</a></h3>
<p>List with compilation flags (<code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code> and <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>).</p>
</div>
<div class="section" id="cxx-flags">
<h3>cxx_flags<a class="headerlink" href="#cxx-flags" title="Permalink to this headline">Â¶</a></h3>
<p>List with only C++ compilation flags (<code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>).</p>
</div>
<div class="section" id="link-flags">
<h3>link_flags<a class="headerlink" href="#link-flags" title="Permalink to this headline">Â¶</a></h3>
<p>List with linker flags</p>
</div>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="vars">
<h3>vars<a class="headerlink" href="#vars" title="Permalink to this headline">Â¶</a></h3>
<p>Environment variables <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LIBS</span></code> generated by the build helper to use them in the
configure, make and install steps. This variables are generated dynamically with the values of the attributes and can also be modified to be
used in the following configure, make or install steps:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">():</span>
    <span class="n">autotools</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">()</span>
    <span class="n">autotools</span><span class="o">.</span><span class="n">fpic</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">env_build_vars</span> <span class="o">=</span> <span class="n">autotools</span><span class="o">.</span><span class="n">vars</span>
    <span class="n">env_build_vars</span><span class="p">[</span><span class="s1">&#39;RCFLAGS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;-O COFF&#39;</span>
    <span class="n">autotools</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="nb">vars</span><span class="o">=</span><span class="n">env_build_vars</span><span class="p">)</span>
    <span class="n">autotools</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="nb">vars</span><span class="o">=</span><span class="n">env_build_vars</span><span class="p">)</span>
    <span class="n">autotools</span><span class="o">.</span><span class="n">install</span><span class="p">(</span><span class="nb">vars</span><span class="o">=</span><span class="n">env_build_vars</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="vars-dict">
<h3>vars_dict<a class="headerlink" href="#vars-dict" title="Permalink to this headline">Â¶</a></h3>
<p>Same behavior as <code class="docutils literal notranslate"><span class="pre">vars</span></code> but this property returns each variable <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LIBS</span></code> as
dictionaries.</p>
</div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="configure">
<h3>configure()<a class="headerlink" href="#configure" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">configure_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">build</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
              <span class="n">pkg_config_paths</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Configures <cite>Autotools</cite> project with the given parameters.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>This method sets by default the <code class="docutils literal notranslate"><span class="pre">--prefix</span></code> argument to <code class="docutils literal notranslate"><span class="pre">self.package_folder</span></code> whenever <code class="docutils literal notranslate"><span class="pre">--prefix</span></code> is not provided in the <code class="docutils literal notranslate"><span class="pre">args</span></code>
parameter during the configure step.</p>
<p>There are other flags set automatically to fix the install directories by default:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">--bindir</span></code>, <code class="docutils literal notranslate"><span class="pre">--sbindir</span></code> and <code class="docutils literal notranslate"><span class="pre">--libexecdir</span></code> set to <em>bin</em> folder.</li>
<li><code class="docutils literal notranslate"><span class="pre">--libdir</span></code> set to <em>lib</em> folder.</li>
<li><code class="docutils literal notranslate"><span class="pre">--includedir</span></code>, <code class="docutils literal notranslate"><span class="pre">--oldincludedir</span></code> set to <em>include</em> folder.</li>
<li><code class="docutils literal notranslate"><span class="pre">--datarootdir</span></code> set to <em>share</em> folder.</li>
</ul>
<p class="last">These flags will be set on demand, so only the available options in the <em>./configure</em> are actually set. They can also be totally skipped
using <code class="docutils literal notranslate"><span class="pre">use_default_install_dirs=False</span></code> as described in the section below.</p>
</div>
<div class="admonition warning" id="autotools-lib64-warning">
<p class="first admonition-title">Warning</p>
<p>Since Conan 1.8 this build helper sets the output library directory via <code class="docutils literal notranslate"><span class="pre">--libdir</span></code> automatically to <code class="docutils literal notranslate"><span class="pre">${prefix}/lib</span></code>. This means that
if you are using the <code class="docutils literal notranslate"><span class="pre">install()</span></code> method to package with AutoTools, library artifacts will be stored in the <code class="docutils literal notranslate"><span class="pre">lib</span></code> directory unless indicated
explicitly by the user.</p>
<p>This change was introduced in order to fix issues detected in some Linux distributions where libraries were being installed to the
<code class="docutils literal notranslate"><span class="pre">lib64</span></code> folder (instead of <code class="docutils literal notranslate"><span class="pre">lib</span></code>) when rebuilding a package from sources. In those cases, if <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> was declaring
<code class="docutils literal notranslate"><span class="pre">self.cpp_info.libdirs</span></code> as <code class="docutils literal notranslate"><span class="pre">lib</span></code>, the consumption of the package was broken.</p>
<p>This was considered a bug in the build helper, as it should be as much deterministic as possible when building the same package for the
same settings and generally for any other user input.</p>
<p>If you were already modeling the <code class="docutils literal notranslate"><span class="pre">lib64</span></code> folder in your recipe, make sure you use <code class="docutils literal notranslate"><span class="pre">lib</span></code> for <code class="docutils literal notranslate"><span class="pre">self.cpp_info.libdirs</span></code> or inject
the argument in the Autotoolsâ <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">atools</span> <span class="o">=</span> <span class="n">AutoToolsBuildEnvironment</span><span class="p">()</span>
<span class="n">atools</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;--libdir=$</span><span class="si">{prefix}</span><span class="s2">/lib64&quot;</span><span class="p">])</span>
<span class="n">atools</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
</pre></div>
</div>
<p class="last">You can also skip its default value using the parameter <code class="docutils literal notranslate"><span class="pre">use_default_install_dirs=False</span></code>.</p>
</div>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li><strong>configure_dir</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Directory where the <code class="docutils literal notranslate"><span class="pre">configure</span></code> script is. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will use the current
directory.</li>
<li><strong>args</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): A list of additional arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">configure</span></code> script. Each argument
will be escaped according to the current shell. <code class="docutils literal notranslate"><span class="pre">--prefix</span></code> and <code class="docutils literal notranslate"><span class="pre">--libdir</span></code>, will be adjusted automatically if not indicated
specifically.</li>
<li><strong>build</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): To specify a value for the parameter <code class="docutils literal notranslate"><span class="pre">--build</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> it will try to detect the
value if cross-building is detected according to the settings. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, it will not use this argument at all.</li>
<li><strong>host</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): To specify a value for the parameter <code class="docutils literal notranslate"><span class="pre">--host</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> it will try to detect the
value if cross-building is detected according to the settings. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, it will not use this argument at all.</li>
<li><strong>target</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): To specify a value for the parameter <code class="docutils literal notranslate"><span class="pre">--target</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> it will try to detect the
value if cross-building is detected according to the settings. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, it will not use this argument at all.</li>
<li><strong>pkg_config_paths</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Specify folders (in a list) of relative paths to the install folder or
absolute ones where to find <code class="docutils literal notranslate"><span class="pre">*.pc</span></code> files (by using the env var <code class="docutils literal notranslate"><span class="pre">PKG_CONFIG_PATH</span></code>). If <code class="docutils literal notranslate"><span class="pre">None</span></code> is specified but the conanfile is
using the <code class="docutils literal notranslate"><span class="pre">pkg_config</span></code> generator, the <code class="docutils literal notranslate"><span class="pre">self.install_folder</span></code> will be added to the <code class="docutils literal notranslate"><span class="pre">PKG_CONFIG_PATH</span></code> in order to locate the pc
files of the requirements of the conanfile.</li>
<li><strong>vars</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Overrides custom environment variables in the configure step.</li>
<li><strong>use_default_install_dirs</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Use or not the defaulted installation dirs such as <code class="docutils literal notranslate"><span class="pre">--libdir</span></code>,
<code class="docutils literal notranslate"><span class="pre">--bindir</span></code>â¦</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="make">
<h3>make()<a class="headerlink" href="#make" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">make_program</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Builds <cite>Autotools</cite> project with the given parameters.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li><strong>args</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): A list of additional arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">make</span></code> command. Each argument will be
escaped accordingly to the current shell. No extra arguments will be added if <code class="docutils literal notranslate"><span class="pre">args=&quot;&quot;</span></code>.</li>
<li><strong>make_program</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Allows to specify a different <code class="docutils literal notranslate"><span class="pre">make</span></code> executable, e.g., <code class="docutils literal notranslate"><span class="pre">mingw32-make</span></code>. The
environment variable <a class="reference internal" href="../env_vars.html#env-vars-conan-make-program"><span class="std std-ref">CONAN_MAKE_PROGRAM</span></a> can be used too.</li>
<li><strong>target</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Choose which target to build. This allows building of e.g., docs, shared libraries or
install for some AutoTools projects.</li>
<li><strong>vars</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Overrides custom environment variables in the make step.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="install">
<h3>install()<a class="headerlink" href="#install" title="Permalink to this headline">Â¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">make_program</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">vars</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs the install step of autotools calling <code class="docutils literal notranslate"><span class="pre">make(target=&quot;install&quot;)</span></code>.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li><strong>args</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>): A list of additional arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">make</span></code> command. Each argument will be
escaped accordingly to the current shell. No extra arguments will be added if <code class="docutils literal notranslate"><span class="pre">args=&quot;&quot;</span></code>.</li>
<li><strong>make_program</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Allows to specify a different <code class="docutils literal notranslate"><span class="pre">make</span></code> executable, e.g., <code class="docutils literal notranslate"><span class="pre">mingw32-make</span></code>. The
environment variable <a class="reference internal" href="../env_vars.html#env-vars-conan-make-program"><span class="std std-ref">CONAN_MAKE_PROGRAM</span></a> can be used too.</li>
<li><strong>vars</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): Overrides custom environment variables in the install step.</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="environment-variables">
<h2>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">Â¶</a></h2>
<p>The following environment variables will also affect the <cite>AutoToolsBuildEnvironment</cite> helper class.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">NAME</th>
<th class="head">DESCRIPTION</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>LIBS</td>
<td>Library names to link</td>
</tr>
<tr class="row-odd"><td>LDFLAGS</td>
<td>Link flags, (-L, -m64, -m32)</td>
</tr>
<tr class="row-even"><td>CFLAGS</td>
<td>Options for the C compiler (-g, -s, -m64, -m32, -fPIC)</td>
</tr>
<tr class="row-odd"><td>CXXFLAGS</td>
<td>Options for the C++ compiler (-g, -s, -stdlib, -m64, -m32, -fPIC, -std)</td>
</tr>
<tr class="row-even"><td>CPPFLAGS</td>
<td>Preprocessor definitions (-D, -I)</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="../tools.html#tools-environment-append"><span class="std std-ref">Reference/Tools/environment_append</span></a></li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="visual_studio.html" class="btn btn-neutral float-right" title="MSBuild" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cmake.html" class="btn btn-neutral" title="CMake" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, JFrog.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 1.15
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          
            <dd><a href="/en/latest/index.html">1.25</a></dd>
          
        
          
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
          
        
          
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
          
        
          
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
          
        
          
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
          
        
          
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
          
        
          
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
          
        
          
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
          
        
          
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
          
        
          
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
          
        
          
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
          
        
          
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
          
        
          
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
          
        
          
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
          
        
          
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
          
        
          
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
          
        
          
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
          
        
          
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
          
        
          
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
          
        
          
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
          
        
          
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
          
        
          
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
          
        
          
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
          
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/en/1.15/conan.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.15.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../_static/js/modernizr.min.js"></script>
  <script src="../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("1.15");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>