<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Attributes &mdash; conan 1.54.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../../_static/conan-favicon.png"/>
    <link rel="canonical" href="https://docs.conan.io/en/latest/reference/conanfile/attributes.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=4a186e94"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Methods" href="methods.html" />
    <link rel="prev" title="conanfile.py" href="../conanfile.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/conan-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.54
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../conan_v2.html">Conan migration guide to 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_courses.html">Training Courses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../howtos.html">Howtos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../conanfile.html">conanfile.py</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#name">name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version">version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#homepage">homepage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#url">url</a></li>
<li class="toctree-l4"><a class="reference internal" href="#license">license</a></li>
<li class="toctree-l4"><a class="reference internal" href="#author">author</a></li>
<li class="toctree-l4"><a class="reference internal" href="#topics">topics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-channel">user, channel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-user-default-channel">default_user, default_channel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#settings">settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#options">options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-options">default_options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requires">requires</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tool-requires">tool_requires</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exports">exports</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exports-sources">exports_sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generators">generators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#should-configure-should-build-should-install-should-test">should_configure, should_build, should_install, should_test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-policy">build_policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upload-policy">upload_policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#short-paths">short_paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-copy-source">no_copy_source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#source-folder">source_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-folder">install_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-folder">build_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#package-folder">package_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recipe-folder">recipe_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cpp-info">cpp_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deps-cpp-info">deps_cpp_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#env-info">env_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deps-env-info">deps_env_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-info">user_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deps-user-info">deps_user_info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-info-build">user_info_build</a></li>
<li class="toctree-l4"><a class="reference internal" href="#info">info</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apply-env">apply_env</a></li>
<li class="toctree-l4"><a class="reference internal" href="#in-local-cache">in_local_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#develop">develop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#keep-imports">keep_imports</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scm">scm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#revision-mode">revision_mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-requires-legacy">python_requires (legacy)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-requires">python_requires</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-requires-extend">python_requires_extend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conan-data">conan_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deprecated">deprecated</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provides">provides</a></li>
<li class="toctree-l4"><a class="reference internal" href="#conf">conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#win-bash">win_bash</a></li>
<li class="toctree-l4"><a class="reference internal" href="#win-bash-run">win_bash_run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-type">test_type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="methods.html">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools.html">tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html">Python requires</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html#output-and-running">Output and Running</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../generators.html">Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profiles.html">Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build_helpers.html">Build helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../env_vars.html">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hooks.html">Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conan_v2_mode.html">CONAN_V2_MODE</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #eb8484;background-color: #ffcaca;padding: 3px;margin-bottom: 5px">
              <p>This document is for a <b>"1.X" legacy</b> Conan version, <b>which is no longer recommended</b>. Please update to Conan 2, <a href="https://docs.conan.io/2/">click here to read the <b>Conan 2</b> documentation</a></p>
            </div>
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  📖 The Conan 2 essentials training is now available in the JFrog Academy for free.
                  <a href="https://academy.jfrog.com/conan-2-essentials?utm_source=Conan+Docs" target="_blank">Register now</a>.
                </p>
              </div>                                                  
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../reference.html">Reference</a></li>
          <li class="breadcrumb-item"><a href="../conanfile.html">conanfile.py</a></li>
      <li class="breadcrumb-item active">Attributes</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/conan-io/docs/blob/master/reference/conanfile/attributes.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="attributes">
<span id="conanfile-attributes"></span><h1>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h1>
<section id="name">
<h2>name<a class="headerlink" href="#name" title="Link to this heading"></a></h2>
<p>This is a string, with a minimum of 2 and a maximum of 50 characters (though shorter names are recommended), that defines the package name. It will be the <code class="docutils literal notranslate"><span class="pre">&lt;pkgName&gt;/version&#64;user/channel</span></code> of the package reference.
It should match the following regex <code class="docutils literal notranslate"><span class="pre">^[a-zA-Z0-9_][a-zA-Z0-9_\+\.-]{1,50}$</span></code>, so start with alphanumeric or underscore, then alphanumeric, underscore, +, ., - characters.</p>
<p>The name is only necessary for <code class="docutils literal notranslate"><span class="pre">export</span></code>-ing the recipe into the local cache (<code class="docutils literal notranslate"><span class="pre">export</span></code> and <code class="docutils literal notranslate"><span class="pre">create</span></code> commands), if they are not defined in the command line.
It might take its value from an environment variable, or even any python code that defines it (e.g. a function that reads an environment variable, or a file from disk).
However, the most common and suggested approach would be to define it in plain text as a constant, or provide it as command line arguments.</p>
</section>
<section id="version">
<h2>version<a class="headerlink" href="#version" title="Link to this heading"></a></h2>
<p>The version attribute will define the version part of the package reference: <code class="docutils literal notranslate"><span class="pre">pkgName/&lt;version&gt;&#64;user/channel</span></code>
It is a string, and can take any value, matching the same constraints as the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute.
In case the version follows semantic versioning in the form <code class="docutils literal notranslate"><span class="pre">X.Y.Z-pre1+build2</span></code>, that value might be used for requiring this package through version ranges instead of exact versions.</p>
<p>The version is only strictly necessary for <code class="docutils literal notranslate"><span class="pre">export</span></code>-ing the recipe into the local cache (<code class="docutils literal notranslate"><span class="pre">export</span></code> and <code class="docutils literal notranslate"><span class="pre">create</span></code> commands), if they are not defined in the command line.
It might take its value from an environment variable, or even any python code that defines it (e.g. a function that reads an environment variable, or a file from disk).
Please note that this value might be used in the recipe in other places (as in <code class="docutils literal notranslate"><span class="pre">source()</span></code> method to retrieve code from elsewhere), making this value not constant means that it may evaluate differently in different contexts (e.g., on different machines or for different users) leading to unrepeatable or unpredictable results.
The most common and suggested approach would be to define it in plain text as a constant, or provide it as command line arguments.</p>
</section>
<section id="description">
<h2>description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p>This is an optional, but strongly recommended text field, containing the description of the package,
and any information that might be useful for the consumers. The first line might be used as a
short description of the package.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;This is a Hello World library.</span>
<span class="s2">                    A fully featured, portable, C++ library to say Hello World in the stdout,</span>
<span class="s2">                    with incredible iostreams performance&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="homepage">
<h2>homepage<a class="headerlink" href="#homepage" title="Link to this heading"></a></h2>
<p>Use this attribute to indicate the home web page of the library being packaged. This is useful to link
the recipe to further explanations of the library itself like an overview of its features, documentation, FAQ
as well as other related information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">EigenConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;eigen&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;3.3.4&quot;</span>
    <span class="n">homepage</span> <span class="o">=</span> <span class="s2">&quot;http://eigen.tuxfamily.org&quot;</span>
</pre></div>
</div>
</section>
<section id="url">
<span id="package-url"></span><h2>url<a class="headerlink" href="#url" title="Link to this heading"></a></h2>
<p>It is possible, even typical, if you are packaging a third party lib, that you just develop
the packaging code. Such code is also subject to change, often via collaboration, so it should be stored
in a VCS like git, and probably put on GitHub or a similar service. If you do indeed maintain such a
repository, please indicate it in the <code class="docutils literal notranslate"><span class="pre">url</span></code> attribute, so that it can be easily found.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/conan-io/hello.git&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">url</span></code> is the url <strong>of the package</strong> repository, i.e. not necessarily the original source code.
It is optional, but highly recommended, that it points to GitHub, Bitbucket or your preferred
code collaboration platform. Of course, if you have the conanfile inside your library source,
you can point to it, and afterwards use the <code class="docutils literal notranslate"><span class="pre">url</span></code> in your <code class="docutils literal notranslate"><span class="pre">source()</span></code> method.</p>
<p>This is a recommended, but not mandatory attribute.</p>
</section>
<section id="license">
<h2>license<a class="headerlink" href="#license" title="Link to this heading"></a></h2>
<p>This field is intended for the license of the <strong>target</strong> source code and binaries, i.e. the code
that is being packaged, not the <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> itself. This info is used to be displayed by
the <strong class="command">conan info</strong> command and possibly other search and report tools.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">license</span> <span class="o">=</span> <span class="s2">&quot;MIT&quot;</span>
</pre></div>
</div>
<p>This attribute can contain several, comma separated licenses. It is a text string, so it can
contain any text, including hyperlinks to license files elsewhere.</p>
<p>However, we strongly recommend packagers of Open-Source projects to use
<a class="reference external" href="https://spdx.dev">SPDX</a> identifiers from the <a class="reference external" href="https://spdx.dev/licenses/">SPDX license
list</a> instead of free-formed text. This will help
people wanting to automate license compatibility checks, like consumers of your
package, or you if your package has Open-Source dependencies.</p>
<p>This is a recommended, but not mandatory attribute.</p>
</section>
<section id="author">
<h2>author<a class="headerlink" href="#author" title="Link to this heading"></a></h2>
<p>Intended to add information about the author, in case it is different from the Conan user. It is
possible that the Conan user is the name of an organization, project, company or group, and many
users have permissions over that account. In this case, the author information can explicitly
define who is the creator/maintainer of the package</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">author</span> <span class="o">=</span> <span class="s2">&quot;John J. Smith (john.smith@company.com)&quot;</span>
</pre></div>
</div>
<p>This is an optional attribute.</p>
</section>
<section id="topics">
<h2>topics<a class="headerlink" href="#topics" title="Link to this heading"></a></h2>
<p>Topics provide a useful way to group related tags together and to quickly tell developers what a
package is about. Topics also make it easier for customers to find your recipe. It could be useful
to filter packages by topics.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">topics</span></code> attribute should be a tuple with the needed topics inside.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ProtocInstallerConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;protoc_installer&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">topics</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;protocol-buffers&quot;</span><span class="p">,</span> <span class="s2">&quot;protocol-compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;serialization&quot;</span><span class="p">,</span> <span class="s2">&quot;rpc&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is an optional attribute.</p>
</section>
<section id="user-channel">
<span id="id1"></span><h2>user, channel<a class="headerlink" href="#user-channel" title="Link to this heading"></a></h2>
<p><strong>These fields are optional in a Conan reference</strong>, they could be useful to identify a forked recipe
from the community with changes specific for your company. Using these fields you may keep the
same <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> and use the <code class="docutils literal notranslate"><span class="pre">user/channel</span></code> to disambiguate your recipe.</p>
<p>The value of these fields can be accessed from within a <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;common-lib/version&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">:</span>
            <span class="c1"># If the recipe is using them, I want to consume my fork.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;say/0.1@</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># otherwise, I&#39;ll consume the community one</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;say/0.1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Only packages that have already been exported (packages in the local cache or in a remote server)
can have a user/channel assigned. For package recipes working in the user space, there is no
current user/channel by default, although they can be defined at <strong class="command">conan install</strong> time with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>&lt;path<span class="w"> </span>to<span class="w"> </span>conanfile.py&gt;<span class="w"> </span>user/channel
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>FAQ: <a class="reference internal" href="../../faq/using.html#faq-recommendation-user-channel"><span class="std std-ref">Is there any recommendation regarding which &lt;user&gt; or &lt;channel&gt; to use in a reference?</span></a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Environment variables <code class="docutils literal notranslate"><span class="pre">CONAN_USERNAME</span></code> and <code class="docutils literal notranslate"><span class="pre">CONAN_CHANNEL</span></code> that were used to assign a value
to these fields are now deprecated and will be removed in Conan 2.0. Don’t use them to
populate the value of <code class="docutils literal notranslate"><span class="pre">self.user</span></code> and <code class="docutils literal notranslate"><span class="pre">self.channel</span></code>.</p>
</div>
</section>
<section id="default-user-default-channel">
<h2>default_user, default_channel<a class="headerlink" href="#default-user-default-channel" title="Link to this heading"></a></h2>
<p>For package recipes working in the user space, with local methods like <strong class="command">conan install .</strong> and <strong class="command">conan build .</strong>,
there is no current user/channel. If you are accessing to <code class="docutils literal notranslate"><span class="pre">self.user</span></code> or <code class="docutils literal notranslate"><span class="pre">self.channel</span></code> in your recipe,
you need to declare the environment variables <code class="docutils literal notranslate"><span class="pre">CONAN_USERNAME</span></code> and <code class="docutils literal notranslate"><span class="pre">CONAN_CHANNEL</span></code> or you can set the attributes
<code class="docutils literal notranslate"><span class="pre">default_user</span></code> and <code class="docutils literal notranslate"><span class="pre">default_channel</span></code>. You can also use python <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">default_user</span> <span class="o">=</span> <span class="s2">&quot;myuser&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">default_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;mydefaultchannel&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="s2">&quot;pkg/0.1@</span><span class="si">%s</span><span class="s2">/</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">channel</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="settings">
<span id="settings-property"></span><h2>settings<a class="headerlink" href="#settings" title="Link to this heading"></a></h2>
<p>There are several things that can potentially affect a package being created, i.e. the final
package will be different (a different binary, for example), if some input is different.</p>
<p>Development project-wide variables, like the compiler, its version, or the OS
itself. These variables have to be defined, and they cannot have a default value listed in the
conanfile, as it would not make sense.</p>
<p>It is obvious that changing the OS produces a different binary in most cases. Changing the compiler
or compiler version changes the binary too, which might have a compatible ABI or not, but the
package will be different in any case.</p>
<p>For these reasons, the most common convention among Conan recipes is to distinguish binaries by the following four settings, which is reflected in the <cite>conanfile.py</cite> template used in the <cite>conan new</cite> command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>
</pre></div>
</div>
<p>When Conan generates a compiled binary for a package with a given combination of the settings above, it generates a unique ID for that binary by hashing the current values of these settings.</p>
<p>But what happens for example to <strong>header only libraries</strong>? The final package for such libraries is not
binary and, in most cases it will be identical, unless it is automatically generating code.
We can indicate that in the conanfile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

 <span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
     <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
     <span class="c1"># We can just omit the settings attribute too</span>
     <span class="n">settings</span> <span class="o">=</span> <span class="kc">None</span>

     <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="c1">#empty too, nothing to build in header only</span>
</pre></div>
</div>
<p>You can restrict existing settings and accepted values as well, by redeclaring the settings
attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;os&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Windows&quot;</span><span class="p">],</span>
        <span class="s2">&quot;compiler&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Visual Studio&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]}},</span>
        <span class="s2">&quot;arch&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
</pre></div>
</div>
<p>In this example we have just defined that this package only works in Windows, with VS 10 and 11.
Any attempt to build it in other platforms with other settings will throw an error saying so.
We have also defined that the runtime (the MD and MT flags of VS) is irrelevant for us
(maybe we using a universal one?). Using None as a value means, <em>maintain the original values</em> in order
to avoid re-typing them. Then, “arch”: None is totally equivalent to “arch”: [“x86”, “x86_64”, “arm”]
Check the reference or your ~/.conan/settings.yml file.</p>
<p>As re-defining the whole settings attribute can be tedious, it is sometimes much simpler to
remove or tune specific fields in the <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method. For example, if our package is runtime
independent in VS, we can just remove that setting field:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="p">[</span><span class="s2">&quot;Visual Studio&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;runtime&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>It is possible to check the settings to implement conditional logic, with attribute syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="s2">&quot;15&quot;</span><span class="p">:</span>
        <span class="c1"># do some special build commands</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">arch</span> <span class="o">==</span> <span class="s2">&quot;x86_64&quot;</span><span class="p">:</span>
        <span class="c1"># Other different commands</span>
</pre></div>
</div>
<p>Those comparisons do content checking, for example if you do a typo like <code class="docutils literal notranslate"><span class="pre">self.settings.os</span> <span class="pre">==</span> <span class="pre">&quot;Windows&quot;</span></code>,
Conan will fail and tell you that is not a valid <code class="docutils literal notranslate"><span class="pre">settings.os</span></code> value, and the possible range of values.</p>
<p>Likewise, if you try to access some setting that doesn’t exist, like <code class="docutils literal notranslate"><span class="pre">self.settings.compiler.libcxx</span></code>
for the <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code> setting, Conan will fail telling that <code class="docutils literal notranslate"><span class="pre">libcxx</span></code> does not exist for that compiler.</p>
<p>If you want to do a safe check of settings values, you could use the <code class="docutils literal notranslate"><span class="pre">get_safe()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Will be None if doesn&#39;t exist</span>
    <span class="n">arch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">get_safe</span><span class="p">(</span><span class="s2">&quot;arch&quot;</span><span class="p">)</span>
    <span class="c1"># Will be None if doesn&#39;t exist</span>
    <span class="n">compiler_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">get_safe</span><span class="p">(</span><span class="s2">&quot;compiler.version&quot;</span><span class="p">)</span>
    <span class="c1"># Will be the default version if the return is None</span>
    <span class="n">build_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">get_safe</span><span class="p">(</span><span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;Release&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">get_safe()</span></code> method will return <code class="docutils literal notranslate"><span class="pre">None</span></code> if that setting or subsetting doesn’t exist and there is no default value assigned.</p>
<p>If you want to do a safe deletion of settings, you could use the <code class="docutils literal notranslate"><span class="pre">rm_safe()</span></code> method (available since
<a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.53.0">1.53.0</a>). For example, in the <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method
a typical pattern for a C library would be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">rm_safe</span><span class="p">(</span><span class="s2">&quot;compiler.libcxx&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">rm_safe</span><span class="p">(</span><span class="s2">&quot;compiler.cppstd&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="options">
<span id="conanfile-options"></span><h2>options<a class="headerlink" href="#options" title="Link to this heading"></a></h2>
<p>Conan provides this attribute to declare traits which will affect only one reference, unlike the settings that are typically the
same for all the recipes in a Conan graph. Options are declared per recipe, this attribute consist on a dictionary where the key is the
option name and the value is the list of different values that the option can take.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>All the options with their values are encoded into the package ID, as everything that affects the generated binary.
See <a class="reference internal" href="methods.html#method-configure-config-options"><span class="std std-ref">configure(), config_options()</span></a> and <a class="reference internal" href="methods.html#method-package-id"><span class="std std-ref">package_id()</span></a> methods for information about removing certain
options for some configurations.</p>
</div>
<p>A very common one is the option <code class="docutils literal notranslate"><span class="pre">shared</span></code> with allowed values of <code class="docutils literal notranslate"><span class="pre">[True,</span> <span class="pre">False]</span></code> that many recipes declare and use to configure the
build system to produce a static library or a shared library.</p>
<p>Values for each option can be typed or plain strings (<code class="docutils literal notranslate"><span class="pre">&quot;value&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">42</span></code>,…) and there is a special value, <code class="docutils literal notranslate"><span class="pre">&quot;ANY&quot;</span></code>, for
options that can take any value. When an option uses <code class="docutils literal notranslate"><span class="pre">&quot;ANY&quot;</span></code>, but its default value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then it should be added to the possible option values too.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
        <span class="s2">&quot;option1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">],</span>
        <span class="s2">&quot;option2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ANY&quot;</span><span class="p">],</span>
        <span class="s2">&quot;option3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">],</span>
        <span class="s2">&quot;option4&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">],</span>
        <span class="s2">&quot;option5&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;ANY&quot;</span><span class="p">],</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>Every option in a recipe needs to be assigned a value from the ones declared in the <code class="docutils literal notranslate"><span class="pre">options</span></code> attribute. The
consumer can define options using different methods: command line, profile or consumer
recipes; <strong>an uninitialized option will get the value</strong> <code class="docutils literal notranslate"><span class="pre">None</span></code> <strong>and it will be a valid value if it is contained
in the list of valid values</strong>. Invalid values will produce an error. See attribute <a class="reference internal" href="#conanfile-default-options"><span class="std std-ref">default_options</span></a>
for a way to declare a default value for options in a recipe.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p>You can inspect available package options reading the package recipe, which can be
done with the command <strong class="command">conan inspect mypkg/0.1&#64;user/channel</strong>.</p></li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p>Options <code class="docutils literal notranslate"><span class="pre">&quot;shared&quot;:</span> <span class="pre">[True,</span> <span class="pre">False]</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;fPIC&quot;:</span> <span class="pre">[True,</span> <span class="pre">False]</span></code> are automatically managed in <a class="reference internal" href="../build_helpers/cmake.html#cmake-reference"><span class="std std-ref">CMake</span></a> and
<a class="reference internal" href="../build_helpers/autotools.html#autotools-reference"><span class="std std-ref">AutoToolsBuildEnvironment (configure/make)</span></a> build helpers.</p></li>
</ul>
</div>
<p><strong>Define the value of an option</strong></p>
<p>As we mentioned before, values for options in a recipe can be defined using different ways, let’s
go over all of them for the example recipe <code class="docutils literal notranslate"><span class="pre">mypkg</span></code> defined above:</p>
<ul>
<li><p>In the recipe that declares the option:</p>
<ul>
<li><p>Using the attribute <code class="docutils literal notranslate"><span class="pre">default_options</span></code> in the recipe itself.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">config_options()</span></code> method of the recipe.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method of the recipe itself (<strong>this one has the highest precedence</strong>, this
value can’t be overridden)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;shared&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
        <span class="s2">&quot;option1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">],</span>
        <span class="s2">&quot;option2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ANY&quot;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">some_condition</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>From a recipe that requires this one:</p>
<ul>
<li><p>using the <code class="docutils literal notranslate"><span class="pre">default_options</span></code> attribute of the consumer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OtherPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;mypkg/0.1@user/channel&quot;</span>
    <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;mypkg:shared&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>in the <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method of the consumer (<strong>highest precedence after</strong> <code class="docutils literal notranslate"><span class="pre">configure()</span></code> <strong>in the recipe itself</strong>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OtherPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;mypkg/0.1@user/channel&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;mypkg&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>This method allows to assign values based on other conditions, it can have some drawbacks
as it is explainded in the <a class="reference internal" href="../../mastering/conditional.html#conditional-settings-options-requirements"><span class="std std-ref">mastering section</span></a>.</p>
</li>
</ul>
</li>
<li><p>In the <em>conanfile.txt</em> file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[requires]
mypkg/0.1@user/channel

[options]
mypkg:shared=False
</pre></div>
</div>
</li>
<li><p>It is also possible to define default values for the options of a recipe using
<a class="reference internal" href="../profiles.html#profiles"><span class="std std-ref">profiles</span></a>. They will apply whenever that recipe is used:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[settings]
setting=value

[options]
mypkg:shared=False
</pre></div>
</div>
</li>
<li><p>Last way of defining values for options is to pass these values using the command argument <strong class="command">-o,--option</strong> in the command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>.<span class="w"> </span>-o<span class="w"> </span>mypkg:shared<span class="o">=</span>True
</pre></div>
</div>
</li>
</ul>
<p>Regarding the precedence of all these ways of assigning a value to an option, it works like any other configuration element in Conan:
the closer to the consumer and the command line the higher the precedence. The list above is ordered from the less priority to the
highest one (with the exceptional assignment in <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method which cannot be overridden).</p>
<p><strong>Get the value of an option</strong></p>
<p>Values from options can be retrieved after they are assigned. For options that belong to the same recipe, the value can
be retrieved in any method to run logic conditional to their values. <strong>Options from required packages can be
retrieved only after the full graph has been resolved</strong>, this means that the value will be available in the methods
<code class="docutils literal notranslate"><span class="pre">validate()</span></code>, <code class="docutils literal notranslate"><span class="pre">build()</span></code>, <code class="docutils literal notranslate"><span class="pre">package()</span></code>, <code class="docutils literal notranslate"><span class="pre">package_info()</span></code>. Accessing those values in other methods can lead to unexpected results.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OtherPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;mypkg/0.1@user/channel&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s1">&#39;mypkg&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shared</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ConanInvalidConfiguration</span><span class="p">(</span><span class="s2">&quot;Cannot use shared library of requirement &#39;mypkg&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to retrieve the value of an option and fallback to a known value if the option doesn’t exist
you can use the <code class="docutils literal notranslate"><span class="pre">get_safe()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># Will return None if doesn&#39;t exist</span>
    <span class="n">fpic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get_safe</span><span class="p">(</span><span class="s2">&quot;fPIC&quot;</span><span class="p">)</span>
    <span class="c1"># Will return the default value if the return is None</span>
    <span class="n">shared</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get_safe</span><span class="p">(</span><span class="s2">&quot;shared&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">get_safe()</span></code> method will return <code class="docutils literal notranslate"><span class="pre">None</span></code> if that option doesn’t exist and there is no default value assigned.</p>
<p>If you want to do a safe deletion of options, you could use the <code class="docutils literal notranslate"><span class="pre">rm_safe()</span></code> method (available since
<a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.53.0">1.53.0</a>). For example, in the <code class="docutils literal notranslate"><span class="pre">config_options()</span></code> method
a typical pattern for Windows library would be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">config_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">rm_safe</span><span class="p">(</span><span class="s2">&quot;fPIC&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Evaluate options</strong></p>
<p>It is very important to know how the options are evaluated in conditional expressions and how the
comparison operator works with them:</p>
<ul>
<li><p>Evaluation for the typed value and the string one is the same, so all these inputs would
behave the same:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">default_options</span> <span class="pre">=</span> <span class="pre">{&quot;shared&quot;:</span> <span class="pre">True,</span> <span class="pre">&quot;option&quot;:</span> <span class="pre">None}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default_options</span> <span class="pre">=</span> <span class="pre">{&quot;shared&quot;:</span> <span class="pre">&quot;True&quot;,</span> <span class="pre">&quot;option&quot;:</span> <span class="pre">&quot;None&quot;}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mypkg:shared=True</span></code>, <code class="docutils literal notranslate"><span class="pre">mypkg:option=None</span></code> on profiles, command line or <em>conanfile.txt</em></p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Implicit conversion to boolean is case insensitive</strong>, so the
expression <code class="docutils literal notranslate"><span class="pre">bool(self.options.option)</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p>equals <code class="docutils literal notranslate"><span class="pre">True</span></code> for the values <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;True&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;true&quot;</span></code>, and any other value that
would be evaluated the same way in Python code.</p></li>
<li><p>equals <code class="docutils literal notranslate"><span class="pre">False</span></code> for the values <code class="docutils literal notranslate"><span class="pre">False</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;False&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;false&quot;</span></code>, also for the empty
string and for <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> as expected.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Comparison using <code class="docutils literal notranslate"><span class="pre">is</span></code> is always equals to <code class="docutils literal notranslate"><span class="pre">False</span></code> because the types would be different as
the option value is encapsulated inside a Python class.</p></li>
<li><p>Explicit comparisons with the <code class="docutils literal notranslate"><span class="pre">==</span></code> symbol <strong>are case sensitive</strong>, so:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self.options.option</span> <span class="pre">=</span> <span class="pre">&quot;False&quot;</span></code> satisfies <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">self.options.option</span> <span class="pre">==</span> <span class="pre">False</span></code>,
<code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">self.options.option</span> <span class="pre">==</span> <span class="pre">&quot;False&quot;</span></code>, but <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">self.options.option</span> <span class="pre">!=</span> <span class="pre">&quot;false&quot;</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>A different behavior has <code class="docutils literal notranslate"><span class="pre">self.options.option</span> <span class="pre">=</span> <span class="pre">None</span></code>, because
<code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">self.options.option</span> <span class="pre">!=</span> <span class="pre">None</span></code>.</p></li>
</ul>
</section>
<section id="default-options">
<span id="conanfile-default-options"></span><h2>default_options<a class="headerlink" href="#default-options" title="Link to this heading"></a></h2>
<p>The attribute <code class="docutils literal notranslate"><span class="pre">default_options</span></code> has the purpose of defining the default values for the options
if the consumer (consuming recipe, project, profile or the user through the command line) does
not define them. This attribute should be defined as a python dictionary:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;build_tests&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
               <span class="s2">&quot;option1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">],</span>
               <span class="s2">&quot;option2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ANY&quot;</span><span class="p">],</span>
               <span class="s2">&quot;option3&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;ANY&quot;</span><span class="p">],</span>
               <span class="p">}</span>
    <span class="n">default_options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;build_tests&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                       <span class="s2">&quot;option1&quot;</span><span class="p">:</span> <span class="s2">&quot;value1&quot;</span><span class="p">,</span>
                       <span class="s2">&quot;option2&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
                       <span class="s2">&quot;option3&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                       <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="s1">&#39;BUILD_TESTS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">build_tests</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Remember that you can also assign default values for options of your requirements as we’ve seen in
the attribute <a class="reference internal" href="#conanfile-options"><span class="std std-ref">options</span></a>.</p>
<p>You can also set the options conditionally to a final value with <code class="docutils literal notranslate"><span class="pre">configure()</span></code> instead of using <code class="docutils literal notranslate"><span class="pre">default_options</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OtherPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;some_option&quot;</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]}</span>
    <span class="c1"># Do NOT declare &#39;default_options&#39;, use &#39;config_options()&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">some_option</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span> <span class="o">==</span> <span class="s1">&#39;Android&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">some_option</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">some_option</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Take into account that if a value is assigned in the <code class="docutils literal notranslate"><span class="pre">configure()</span></code> method it cannot be overridden.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Default options can be specified as a dictionary only for Conan version &gt;= 1.8.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Read more about the <a class="reference internal" href="methods.html#method-configure-config-options"><span class="std std-ref">config_options()</span></a> method.</p>
</div>
</section>
<section id="requires">
<h2>requires<a class="headerlink" href="#requires" title="Link to this heading"></a></h2>
<p>Specify package dependencies as a list or tuple of other packages:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;hello/1.0@user/stable&quot;</span><span class="p">,</span> <span class="s2">&quot;OtherLib/2.1@otheruser/testing&quot;</span>
</pre></div>
</div>
<p>You can specify further information about the package requirements:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;hello/0.1@user/testing&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;say/0.2@dummy/stable&quot;</span><span class="p">,</span> <span class="s2">&quot;override&quot;</span><span class="p">),</span>
                <span class="p">(</span><span class="s2">&quot;bye/2.1@coder/beta&quot;</span><span class="p">,</span> <span class="s2">&quot;private&quot;</span><span class="p">)]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">((</span><span class="s2">&quot;hello/1.0@user/stable&quot;</span><span class="p">,</span> <span class="s2">&quot;private&quot;</span><span class="p">),</span> <span class="p">)</span>
</pre></div>
</div>
<p>Requirements can be complemented by 2 different parameters:</p>
<p><strong>private</strong>: a dependency can be declared as private if it is going to be fully embedded and hidden
from consumers of the package. It might be necessary in some extreme cases, like having to use two
different versions of the same library (provided that they are totally hidden in a shared library, for
example), but it is mostly discouraged otherwise.</p>
<p><strong>override</strong>: packages can define overrides of their dependencies, if they require the definition of
specific versions of the upstream required libraries, but not necessarily direct dependencies. For example,
a package can depend on A(v1.0), which in turn could conditionally depend on Zlib(v2), depending on whether
the compression is enabled or not. Now, if you want to force the usage of Zlib(v3) you can:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;ab/1.0@user/stable&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;zlib/3.0@other/beta&quot;</span><span class="p">,</span> <span class="s2">&quot;override&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>This <strong>will not introduce a new dependency</strong>, it will just change <code class="docutils literal notranslate"><span class="pre">zlib/2.0</span></code> to <code class="docutils literal notranslate"><span class="pre">zlib/3.0</span></code> if <code class="docutils literal notranslate"><span class="pre">ab</span></code> actually
requires it. Otherwise zlib will not be a dependency of your package.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To prevent accidental override of transitive dependencies, check the config variable
<a class="reference internal" href="../config_files/conan.conf.html#conan-conf"><span class="std std-ref">general.error_on_override</span></a> or the environment variable
<a class="reference internal" href="../env_vars.html#env-vars-conan-error-on-override"><span class="std std-ref">CONAN_ERROR_ON_OVERRIDE</span></a>.</p>
</div>
<section id="version-ranges">
<span id="version-ranges-reference"></span><h3>version ranges<a class="headerlink" href="#version-ranges" title="Link to this heading"></a></h3>
<p>The syntax is using brackets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;pkg/[&gt;1.0 &lt;1.8]@user/stable&quot;</span>
</pre></div>
</div>
<p>Expressions are those defined and implemented by [python node-semver](<a class="reference external" href="https://pypi.org/project/node-semver/">https://pypi.org/project/node-semver/</a>). Accepted expressions would be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="mf">1.1</span> <span class="o">&lt;</span><span class="mf">2.1</span>    <span class="c1"># In such range</span>
<span class="mf">2.8</span>          <span class="c1"># equivalent to =2.8</span>
<span class="o">~=</span><span class="mf">3.0</span>        <span class="c1"># compatible, according to semver</span>
<span class="o">&gt;</span><span class="mf">1.1</span> <span class="o">||</span> <span class="mf">0.8</span>  <span class="c1"># conditions can be OR&#39;ed</span>
</pre></div>
</div>
<div class="out-reference-box docutils container">
<p>Go to <a class="reference internal" href="../../versioning/version_ranges.html#version-ranges"><span class="std std-ref">Mastering/Version Ranges</span></a> if you want to learn more about version ranges.</p>
</div>
</section>
</section>
<section id="tool-requires">
<h2>tool_requires<a class="headerlink" href="#tool-requires" title="Link to this heading"></a></h2>
<p>Tool requirements are requirements that are only installed and used when the package is built from sources. If there is an existing pre-compiled binary, then the tool requirements for this package will not be retrieved.</p>
<p>They can be specified as a comma separated tuple in the package recipe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyPkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">tool_requires</span> <span class="o">=</span> <span class="s2">&quot;tool_a/0.2@user/testing&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_b/0.2@user/testing&quot;</span>
</pre></div>
</div>
<p>Read more: <a class="reference internal" href="../../devtools/build_requires.html#build-requires"><span class="std std-ref">Tool requirements</span></a></p>
</section>
<section id="exports">
<span id="exports-attribute"></span><h2>exports<a class="headerlink" href="#exports" title="Link to this heading"></a></h2>
<p>This <strong>optional attribute</strong> declares the set of files that should be exported and stored side by
side with the <em>conanfile.py</em> file to make the recipe work: other python files that the recipe will
import, some text file with data to read,…</p>
<p>The <code class="docutils literal notranslate"><span class="pre">exports</span></code> field can declare one single file or pattern, or a list of any of the previous
elements. Patterns use <a class="reference external" href="https://docs.python.org/3/library/fnmatch.html">fnmatch</a>
formatting to declare files to include or exclude.</p>
<p>For example, if we have some python code that we want the recipe to use in a <code class="docutils literal notranslate"><span class="pre">helpers.py</span></code> file,
and have some text file <em>info.txt</em> we want to read and display during the recipe evaluation
we would do something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exports</span> <span class="o">=</span> <span class="s2">&quot;helpers.py&quot;</span><span class="p">,</span> <span class="s2">&quot;info.txt&quot;</span>
</pre></div>
</div>
<p>Exclude patterns are also possible, with the <code class="docutils literal notranslate"><span class="pre">!</span></code> prefix:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exports</span> <span class="o">=</span> <span class="s2">&quot;*.py&quot;</span><span class="p">,</span> <span class="s2">&quot;!*tmp.py&quot;</span>
</pre></div>
</div>
</section>
<section id="exports-sources">
<span id="exports-sources-attribute"></span><h2>exports_sources<a class="headerlink" href="#exports-sources" title="Link to this heading"></a></h2>
<p>This <strong>optional attribute</strong> declares the set of files that should be exported together with the
recipe and will be available to generate the package. Unlike <code class="docutils literal notranslate"><span class="pre">exports</span></code> attribute, these files
shouldn’t be used by the <em>conanfile.py</em> Python code, but to compile the library or generate
the final package. And, due to its purpose, these files will only be retrieved if requested
binaries are not available or the user forces Conan to compile from sources.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">exports_sources</span></code> attribute can declare one single file or pattern, or a list of any of the
previous elements. Patterns use <a class="reference external" href="https://docs.python.org/3/library/fnmatch.html">fnmatch</a>
formatting to declare files to include or exclude.</p>
<p>Together with the <code class="docutils literal notranslate"><span class="pre">source()</span></code> and <code class="docutils literal notranslate"><span class="pre">imports()</span></code> methods, and the <a class="reference internal" href="../../creating_packages/package_repo.html#scm-feature"><span class="std std-ref">SCM feature</span></a>,
this is another way to retrieve the sources to create a package. Unlike the other methods, files
declared in <code class="docutils literal notranslate"><span class="pre">exports_sources</span></code> will be exported together with the <em>conanfile.py</em> recipe, so,
if nothing else is required, it can create a self-contained package with all the sources
(like a snapshot) that will be used to generate the final artifacts.</p>
<p>Some examples for this attribute are:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exports_sources</span> <span class="o">=</span> <span class="s2">&quot;include*&quot;</span><span class="p">,</span> <span class="s2">&quot;src*&quot;</span>
</pre></div>
</div>
<p>Exclude patterns are also possible, with the <code class="docutils literal notranslate"><span class="pre">!</span></code> prefix:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exports_sources</span> <span class="o">=</span> <span class="s2">&quot;include*&quot;</span><span class="p">,</span> <span class="s2">&quot;src*&quot;</span><span class="p">,</span> <span class="s2">&quot;!src/build/*&quot;</span>
</pre></div>
</div>
<p>Note, if the recipe defines the <code class="docutils literal notranslate"><span class="pre">layout()</span></code> method and specifies a <code class="docutils literal notranslate"><span class="pre">self.folders.source</span> <span class="pre">=</span> <span class="pre">&quot;src&quot;</span></code> it won’t affect
where the files (from the <code class="docutils literal notranslate"><span class="pre">exports_sources</span></code>) are copied. They will be copied to the base source folder. So, if you
want to replace some file that got into the <code class="docutils literal notranslate"><span class="pre">source()</span></code> method, you need to explicitly copy it from the parent folder
or even better, from <code class="docutils literal notranslate"><span class="pre">self.export_sources_folder</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span><span class="o">,</span><span class="w"> </span><span class="nn">shutil</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">conan.tools.files</span><span class="w"> </span><span class="kn">import</span> <span class="n">save</span><span class="p">,</span> <span class="n">load</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="o">...</span>
   <span class="n">exports_sources</span> <span class="o">=</span> <span class="s2">&quot;CMakeLists.txt&quot;</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">folders</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="s2">&quot;src&quot;</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">folders</span><span class="o">.</span><span class="n">build</span> <span class="o">=</span> <span class="s2">&quot;build&quot;</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># emulate a download from web site</span>
       <span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;CMakeLists.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;MISTAKE: Very old CMakeLists to be replaced&quot;</span><span class="p">)</span>
       <span class="c1"># Now I fix it with one of the exported files</span>
       <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;../CMakeLists.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span>
       <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_sources_folder</span><span class="p">,</span> <span class="s2">&quot;CMakeLists.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="generators">
<h2>generators<a class="headerlink" href="#generators" title="Link to this heading"></a></h2>
<p>Generators specify which is the output of the <strong class="command">install</strong> command in your project folder. By default, a <em>conanbuildinfo.txt</em> file is
generated, but you can specify different generators and even use more than one.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;cmake&quot;</span><span class="p">,</span> <span class="s2">&quot;gcc&quot;</span>
</pre></div>
</div>
<p>You can also set the generators conditionally in the <a class="reference internal" href="methods.html#method-configure-config-options"><span class="std std-ref">configure() method</span></a>
like in the example below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyLibConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">os</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generators</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;msbuild&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Check the full <a class="reference internal" href="../../using_packages/conanfile_txt.html#generators"><span class="std std-ref">generators list</span></a>.</p>
</section>
<section id="should-configure-should-build-should-install-should-test">
<span id="attribute-build-stages"></span><h2>should_configure, should_build, should_install, should_test<a class="headerlink" href="#should-configure-should-build-should-install-should-test" title="Link to this heading"></a></h2>
<p>Read only variables defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>These variables allow you to control the build stages of a recipe during a <strong class="command">conan build</strong> command with the optional arguments
<strong class="command">--configure</strong>/<strong class="command">--build</strong>/<strong class="command">--install</strong>/<strong class="command">--test</strong>. For example, consider this <code class="docutils literal notranslate"><span class="pre">build()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">cmake</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
    <span class="n">cmake</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
    <span class="n">cmake</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
    <span class="n">cmake</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
<p>If nothing is specified, all four methods will be called. But using command line arguments, this can be changed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>build<span class="w"> </span>.<span class="w"> </span>--configure<span class="w">  </span><span class="c1"># only run cmake.configure(). Other methods will do nothing</span>
$<span class="w"> </span>conan<span class="w"> </span>build<span class="w"> </span>.<span class="w"> </span>--build<span class="w">      </span><span class="c1"># only run cmake.build(). Other methods will do nothing</span>
$<span class="w"> </span>conan<span class="w"> </span>build<span class="w"> </span>.<span class="w"> </span>--install<span class="w">    </span><span class="c1"># only run cmake.install(). Other methods will do nothing</span>
$<span class="w"> </span>conan<span class="w"> </span>build<span class="w"> </span>.<span class="w"> </span>--test<span class="w">       </span><span class="c1"># only run cmake.test(). Other methods will do nothing</span>
<span class="c1"># They can be combined</span>
$<span class="w"> </span>conan<span class="w"> </span>build<span class="w"> </span>.<span class="w"> </span>-c<span class="w"> </span>-b<span class="w"> </span><span class="c1"># run cmake.configure() + cmake.build(), but not cmake.install() nor cmake.test()</span>
</pre></div>
</div>
<p>Autotools and Meson helpers already implement the same functionality. For other build systems, you can use these variables in the
<code class="docutils literal notranslate"><span class="pre">build()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_configure</span><span class="p">:</span>
        <span class="c1"># Run my configure stage</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_build</span><span class="p">:</span>
        <span class="c1"># Run my build stage</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_install</span><span class="p">:</span> <span class="c1"># If my build has install, otherwise use package()</span>
        <span class="c1"># Run my install stage</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_test</span><span class="p">:</span>
        <span class="c1"># Run my test stage</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">should_configure</span></code>, <code class="docutils literal notranslate"><span class="pre">should_build</span></code>, <code class="docutils literal notranslate"><span class="pre">should_install</span></code>, <code class="docutils literal notranslate"><span class="pre">should_test</span></code> variables will always be <code class="docutils literal notranslate"><span class="pre">True</span></code> while building in
the cache and can be only modified for the local flow with <strong class="command">conan build</strong>.</p>
</section>
<section id="build-policy">
<h2>build_policy<a class="headerlink" href="#build-policy" title="Link to this heading"></a></h2>
<p>With the <code class="docutils literal notranslate"><span class="pre">build_policy</span></code> attribute the package creator can change conan’s build behavior.
The allowed <code class="docutils literal notranslate"><span class="pre">build_policy</span></code> values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">missing</span></code>: If this package is not found as a binary package, Conan will build it from source.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">always</span></code>: (deprecated, will be removed in 2.0) This package will always be built from source, also <strong>retrieving the source code each time</strong> by executing the “source” method.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="k">class</span><span class="w"> </span><span class="nc">PocoTimerConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
<span class="hll">     <span class="n">build_policy</span> <span class="o">=</span> <span class="s2">&quot;always&quot;</span> <span class="c1"># &quot;missing&quot;</span>
</span></pre></div>
</div>
</section>
<section id="upload-policy">
<h2>upload_policy<a class="headerlink" href="#upload-policy" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">upload_policy</span></code> class attribute, generally not defined, can be assigned the value <code class="docutils literal notranslate"><span class="pre">skip</span></code>, to indicate that binaries
created from this recipe will never be uploaded to the servers with <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">upload</span></code>, without failing or warning.
This will typically be used together with a <code class="docutils literal notranslate"><span class="pre">build_policy</span> <span class="pre">=</span> <span class="pre">&quot;missing&quot;</span></code>.</p>
<p>This can be useful for:</p>
<ul class="simple">
<li><p>Binaries that are built by downloading and unzipping some large pre-compiled binaries from elsewhere, like binary tools (android-ndk or similar),
that repackaging it into a .tgz in Conan package would only use extra space without adding much value. This would be the most common case.</p></li>
<li><p>Binaries that for some reason only work when re-compiled from source in the machine. This shouldn’t be common, but some extreme cases of low-level,
close to the hardware, binaries, might be difficult to have reusable binaries between different machines. This would be a very unusual case.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
<span class="hll">     <span class="n">upload_policy</span> <span class="o">=</span> <span class="s2">&quot;skip&quot;</span>
</span></pre></div>
</div>
</section>
<section id="short-paths">
<span id="short-paths-reference"></span><h2>short_paths<a class="headerlink" href="#short-paths" title="Link to this heading"></a></h2>
<p>This attribute is specific to Windows, and ignored on other operating systems.
It tells Conan to workaround the limitation of 260 chars in Windows paths.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Since Windows 10 (ver. 10.0.14393), it is possible to <a class="reference external" href="https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file#maximum-path-length-limitation">enable long paths at the system level</a>.
Latest python 2.x and 3.x installers enable this by default. With the path limit removed both on the OS
and on Python, the <code class="docutils literal notranslate"><span class="pre">short_paths</span></code> functionality becomes unnecessary, and can be disabled explicitly
through the <code class="docutils literal notranslate"><span class="pre">CONAN_USER_HOME_SHORT</span></code> environment variable.</p>
</div>
<p>Enabling short paths management will “link” the <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">build</span></code> directories of the package to a different
location, in Windows it will be <code class="docutils literal notranslate"><span class="pre">C:\.conan\tmpdir</span></code>. All the folder layout in the local cache is maintained.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">short_paths=True</span></code> in your <em>conanfile.py</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ConanFileTest</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">short_paths</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>There is an <a class="reference internal" href="../env_vars.html#env-vars"><span class="std std-ref">environment variable</span></a> <code class="docutils literal notranslate"><span class="pre">CONAN_USE_ALWAYS_SHORT_PATHS</span></code> to force
activate this behavior for all packages.</p>
</div>
<p>This behavior will also work in Cygwin, the short folder directory will be <code class="docutils literal notranslate"><span class="pre">/home/&lt;user&gt;/.conan_short</span></code>
by default, but it can be modified as we’ve explained before.</p>
</section>
<section id="no-copy-source">
<span id="id5"></span><h2>no_copy_source<a class="headerlink" href="#no-copy-source" title="Link to this heading"></a></h2>
<p>The attribute <code class="docutils literal notranslate"><span class="pre">no_copy_source</span></code> tells the recipe that the source code will not be copied from the <code class="docutils literal notranslate"><span class="pre">source</span></code> folder to the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder.
This is mostly an optimization for packages with large source codebases or header-only, to avoid extra copies. It is <strong>mandatory</strong> that the source code must not be modified at all by the configure or build scripts, as the source code will be shared among all builds.</p>
<p>To be able to use it, the package recipe can access the <code class="docutils literal notranslate"><span class="pre">self.source_folder</span></code> attribute, which will point to the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder when <code class="docutils literal notranslate"><span class="pre">no_copy_source=False</span></code> or not defined, and will point to the <code class="docutils literal notranslate"><span class="pre">source</span></code> folder when <code class="docutils literal notranslate"><span class="pre">no_copy_source=True</span></code>.</p>
<p>When this attribute is set to True, the <code class="docutils literal notranslate"><span class="pre">self.copy()</span></code> lines will be called twice, one copying from the <code class="docutils literal notranslate"><span class="pre">source</span></code> folder and the other copying from the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder.</p>
<p>Read <a class="reference internal" href="../../howtos/header_only.html#header-only"><span class="std std-ref">header-only</span></a> section for an example using <code class="docutils literal notranslate"><span class="pre">no_copy_source</span></code> attribute.</p>
</section>
<section id="source-folder">
<span id="attribute-source-folder"></span><span id="folders-attributes-reference"></span><h2>source_folder<a class="headerlink" href="#source-folder" title="Link to this heading"></a></h2>
<p>The folder in which the source code lives.</p>
<p>When a package is built in the Conan local cache its value is the same as the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder by default. This is due to the fact that the
source code is copied from the <code class="docutils literal notranslate"><span class="pre">source</span></code> folder to the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder to ensure isolation and avoiding modifications of shared common
source code among builds for different configurations. Only when <code class="docutils literal notranslate"><span class="pre">no_copy_source=True</span></code> this folder will actually point to the package
<code class="docutils literal notranslate"><span class="pre">source</span></code> folder in the local cache.</p>
<p>When executing Conan commands in the <a class="reference internal" href="../../developing_packages/package_dev_flow.html#package-dev-flow"><span class="std std-ref">Package development flow</span></a> like <strong class="command">conan source</strong>, this attribute will be pointing to the folder
specified in the command line.</p>
</section>
<section id="install-folder">
<span id="attribute-install-folder"></span><h2>install_folder<a class="headerlink" href="#install-folder" title="Link to this heading"></a></h2>
<p>The folder in which the installation of packages outputs the generator files with the information of dependencies.
By default in the the local cache its value is the same as <code class="docutils literal notranslate"><span class="pre">self.build_folder</span></code> one.</p>
<p>When executing Conan commands in the <a class="reference internal" href="../../developing_packages/package_dev_flow.html#package-dev-flow"><span class="std std-ref">Package development flow</span></a> like <strong class="command">conan install</strong> or <strong class="command">conan build</strong>, this attribute will
be pointing to the folder specified in the command line.</p>
</section>
<section id="build-folder">
<span id="attribute-build-folder"></span><h2>build_folder<a class="headerlink" href="#build-folder" title="Link to this heading"></a></h2>
<p>The folder used to build the source code. In the local cache a build folder is created with the name of the package ID that will be built.</p>
<p>When executing Conan commands in the <a class="reference internal" href="../../developing_packages/package_dev_flow.html#package-dev-flow"><span class="std std-ref">Package development flow</span></a> like <strong class="command">conan build</strong>, this attribute will be pointing to the folder
specified in the command line.</p>
</section>
<section id="package-folder">
<span id="attribute-package-folder"></span><h2>package_folder<a class="headerlink" href="#package-folder" title="Link to this heading"></a></h2>
<p>The folder to copy the final artifacts for the binary package. In the local cache a package folder is created for every different package
ID.</p>
<p>When executing Conan commands in the <a class="reference internal" href="../../developing_packages/package_dev_flow.html#package-dev-flow"><span class="std std-ref">Package development flow</span></a> like <strong class="command">conan package</strong>, this attribute will be pointing to the folder
specified in the command line.</p>
</section>
<section id="recipe-folder">
<span id="attribute-recipe-folder"></span><h2>recipe_folder<a class="headerlink" href="#recipe-folder" title="Link to this heading"></a></h2>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.28.0">1.28.0</a></p>
<p>The folder where the recipe <em>conanfile.py</em> is stored, either in the local folder or in the cache. This is useful in order to access files
that are exported along with the recipe.</p>
</section>
<section id="cpp-info">
<span id="cpp-info-attributes-reference"></span><h2>cpp_info<a class="headerlink" href="#cpp-info" title="Link to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This attribute is only defined inside <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method being <cite>None</cite> elsewhere.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">self.cpp_info</span></code> attribute is responsible for storing all the information needed by consumers of a package: include directories,
library names, library paths… There are some default values that will be applied automatically if not indicated otherwise.</p>
<p>This object should be filled in <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>NAME</p></th>
<th class="head"><p>DESCRIPTION</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>self.cpp_info.includedirs</p></td>
<td><p>Ordered list with include paths. Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;include&quot;]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.libdirs</p></td>
<td><p>Ordered list with lib paths. Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;lib&quot;]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.resdirs</p></td>
<td><p>Ordered list of resource (data) paths. Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;res&quot;]</span></code>. If layout() is declared, defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> *</p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.bindirs</p></td>
<td><p>Ordered list with paths to binaries (executables, dynamic libraries,…). Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;bin&quot;]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.builddirs</p></td>
<td><div class="line-block">
<div class="line">Ordered list with build scripts directory paths. Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;&quot;]</span></code> (Package folder directory)</div>
<div class="line">CMake generators will search in these dirs for files like <em>findXXX.cmake</em></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.libs</p></td>
<td><p>Ordered list with the library names, Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.defines</p></td>
<td><p>Preprocessor definitions. Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.cflags</p></td>
<td><p>Ordered list with pure C flags. Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.cppflags</p></td>
<td><p>[DEPRECATED: Use cxxflags instead]</p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.cxxflags</p></td>
<td><p>Ordered list with C++ flags. Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.sharedlinkflags</p></td>
<td><p>Ordered list with linker flags (shared libs). Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.exelinkflags</p></td>
<td><p>Ordered list with linker flags (executables). Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.frameworks</p></td>
<td><p>Ordered list with the framework names (OSX), Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.frameworkdirs</p></td>
<td><p>Ordered list with frameworks search paths (OSX). Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;Frameworks&quot;]</span></code> or <code class="docutils literal notranslate"><span class="pre">[]</span></code> if layout() is declared *</p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.rootpath</p></td>
<td><p>Filled with the root directory of the package, see <code class="docutils literal notranslate"><span class="pre">deps_cpp_info</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.name</p></td>
<td><p><strong>[DEPRECATED]</strong> Use <code class="docutils literal notranslate"><span class="pre">self.cpp_info.names</span></code> instead.</p></td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.names[“generator”]</p></td>
<td><div class="line-block">
<div class="line">Alternative name for the package used by an specific generator to create files or variables.</div>
<div class="line">If set for a generator it will override the information provided by self.cpp_info.name.</div>
<div class="line">Like the cpp_info.name, this is only supported by <cite>cmake</cite>, <cite>cmake_multi</cite>, <cite>cmake_find_package</cite>,</div>
<div class="line"><cite>cmake_find_package_multi</cite>, <cite>cmake_paths</cite> and <cite>pkg_config</cite> generators.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.filenames[“generator”]</p></td>
<td><div class="line-block">
<div class="line">Alternative name for the filename produced by a specific generator. If set for a generator it will</div>
<div class="line">override the “names” value. This is only supported by the <cite>cmake_find_package</cite> and</div>
<div class="line"><cite>cmake_find_package_multi</cite> generators.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.system_libs</p></td>
<td><p>Ordered list with the system library names. Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</p></td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.build_modules</p></td>
<td><div class="line-block">
<div class="line">Dictionary of lists per generator containing relative paths to build system related utility module</div>
<div class="line">files created by the package. Used by CMake generators to export <em>.cmake</em> files with functions for</div>
<div class="line">consumers. Defaulted to <code class="docutils literal notranslate"><span class="pre">{}</span></code> (empty)</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.components</p></td>
<td><div class="line-block">
<div class="line"><strong>[Experimental]</strong> Dictionary with different components a package may have: libraries, executables…</div>
<div class="line"><strong>Warning</strong>: Using components with other <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> non-default values or configs is not supported</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>self.cpp_info.requires</p></td>
<td><div class="line-block">
<div class="line"><strong>[Experimental]</strong> List of components to consume from requirements (it applies only to</div>
<div class="line">generators that implements components feature).</div>
<div class="line"><strong>Warning</strong>: If declared, only the components listed here will used by the linker and consumers.</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>self.cpp_info.objects</p></td>
<td><div class="line-block">
<div class="line"><strong>[Experimental]</strong> List of object libraries (<em>.obj</em> or <em>.o</em>). Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code> (empty)</div>
<div class="line">Only supported by new <a class="reference internal" href="tools/cmake.html#conan-tools-cmake"><span class="std std-ref">CMakeDeps</span></a> generator</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>(*) If the <code class="docutils literal notranslate"><span class="pre">layout()</span></code> is declared, for Conan &gt;= 1.50, the default values for <code class="docutils literal notranslate"><span class="pre">self.cpp_info.frameworkdirs</span></code> and <code class="docutils literal notranslate"><span class="pre">self.cpp_info.resdirs</span></code>
change to <code class="docutils literal notranslate"><span class="pre">[]</span></code>, being a way to migrate to Conan 2.0, where the default values for these field changed. Read more in the
<a class="reference internal" href="../../migrating_to_2.0/recipes.html#conan2-migration-guide-recipes-package-info"><span class="std std-ref">migration guide</span></a>.</p>
</div>
<p>The paths of the directories in the directory variables indicated above are relative to the
<a class="reference internal" href="#folders-attributes-reference"><span class="std std-ref">self.package_folder</span></a> directory.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Components is a <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p><a class="reference internal" href="../../creating_packages/package_information.html#package-information-components"><span class="std std-ref">Using components</span></a> you can achieve a more fine-grained control over individual libraries available in
a single Conan package. Components allow you define a <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> like object per each of those libraries and also requirements between
them and to components of other packages (the following case is not a real example):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="s2">&quot;cmake_find_package&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;OpenSSL&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="s2">&quot;cmake_find_package_multi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;OpenSSL&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;crypto&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="s2">&quot;cmake_find_package&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Crypto&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;crypto&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;libcrypto&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;crypto&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">defines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;DEFINE_CRYPTO=1&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;crypto&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;zlib::zlib&quot;</span><span class="p">]</span>  <span class="c1"># Depends on all components in zlib package</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="s2">&quot;cmake&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SSL&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">includedirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;include/headers_ssl&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;libssl&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">requires</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;crypto&quot;</span><span class="p">,</span>
                                                <span class="s2">&quot;boost::headers&quot;</span><span class="p">]</span>  <span class="c1"># Depends on headers component in boost package</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;ssl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="s2">&quot;cmake&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SSL&quot;</span>

    <span class="n">obj_ext</span> <span class="o">=</span> <span class="s2">&quot;obj&quot;</span> <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Windows&quot;</span> <span class="k">else</span> <span class="s2">&quot;o&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="s2">&quot;ssl-objs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">objects</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;lib&quot;</span><span class="p">,</span> <span class="s2">&quot;ssl-object.</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">obj_ext</span><span class="p">))]</span>
</pre></div>
</div>
<p>The interface of the <code class="docutils literal notranslate"><span class="pre">Component</span></code> object is the same as the one used by the <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> object and
has <strong>the same default directories</strong>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using components and global <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> non-default values or release/debug configurations at the same time is not allowed (except for
<code class="docutils literal notranslate"><span class="pre">self.cpp_info.names</span></code>).</p>
</div>
<p>Dependencies among components and to components of other requirements can be defined using the <code class="docutils literal notranslate"><span class="pre">requires</span></code> attribute and the name
of the component. The dependency graph for components will be calculated and values will be aggregated in the correct order for each field.</p>
<p><strong>New properties model for the cpp_info new tools</strong></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">set_property</span></code> and <code class="docutils literal notranslate"><span class="pre">get_property</span></code> methods for <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> is an <strong>experimental</strong>
feature subject to breaking changes in future releases.</p>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">.names</span></code>, <code class="docutils literal notranslate"><span class="pre">.filenames</span></code> and <code class="docutils literal notranslate"><span class="pre">.build_modules</span></code> will not work any more for new
generators, like <a class="reference internal" href="tools/cmake/cmakedeps.html#cmakedeps"><span class="std std-ref">CMakeDeps</span></a> and <a class="reference internal" href="tools/gnu/pkgconfigdeps.html#id1"><span class="std std-ref">PkgConfigDeps</span></a>.
They have a new way of setting this information using <code class="docutils literal notranslate"><span class="pre">set_property</span></code> and
<code class="docutils literal notranslate"><span class="pre">get_property</span></code> methods of the <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> object (available since Conan 1.36).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">set_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">property_name</span><span class="p">):</span>
</pre></div>
</div>
<p>To read more about the new <code class="docutils literal notranslate"><span class="pre">set_property</span></code> and <code class="docutils literal notranslate"><span class="pre">get_property</span></code> methods for <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code>
please check the dedicated section in the <a class="reference internal" href="../../migrating_to_2.0/recipes.html#conanv2-properties-model"><span class="std std-ref">Conan 2.0 migration guide</span></a>.</p>
</section>
<section id="deps-cpp-info">
<span id="deps-cpp-info-attributes-reference"></span><h2>deps_cpp_info<a class="headerlink" href="#deps-cpp-info" title="Link to this heading"></a></h2>
<p>Contains the <code class="docutils literal notranslate"><span class="pre">cpp_info</span></code> object of the requirements of the recipe. In addition of the above fields, there are also properties to obtain the
absolute paths, and <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>NAME</p></th>
<th class="head"><p>DESCRIPTION</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>self.deps_cpp_info[“dep”].include_paths</p></td>
<td><p>“dep” package <code class="docutils literal notranslate"><span class="pre">includedirs</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-odd"><td><p>self.deps_cpp_info[“dep”].lib_paths</p></td>
<td><p>“dep” package <code class="docutils literal notranslate"><span class="pre">libdirs</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-even"><td><p>self.deps_cpp_info[“dep”].bin_paths</p></td>
<td><p>“dep” package <code class="docutils literal notranslate"><span class="pre">bindirs</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-odd"><td><p>self.deps_cpp_info[“dep”].build_paths</p></td>
<td><p>“dep” package <code class="docutils literal notranslate"><span class="pre">builddirs</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-even"><td><p>self.deps_cpp_info[“dep”].res_paths</p></td>
<td><p>“dep” package <code class="docutils literal notranslate"><span class="pre">resdirs</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-odd"><td><p>self.deps_cpp_info[“dep”].framework_paths</p></td>
<td><p>“dep” package  <code class="docutils literal notranslate"><span class="pre">frameworkdirs</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-even"><td><p>self.deps_cpp_info[“dep”].build_modules_paths</p></td>
<td><p>“dep” package <code class="docutils literal notranslate"><span class="pre">build_modules</span></code> but transformed to absolute paths</p></td>
</tr>
<tr class="row-odd"><td><p>self.deps_cpp_info[“dep”].get_name(“&lt;generator&gt;”)</p></td>
<td><p>Get the name declared for the given generator</p></td>
</tr>
<tr class="row-even"><td><p>self.deps_cpp_info[“dep”].version</p></td>
<td><p>Get the version of the “dep” package</p></td>
</tr>
<tr class="row-odd"><td><p>self.deps_cpp_info[“dep”].components</p></td>
<td><div class="line-block">
<div class="line"><strong>[Experimental]</strong> Dictionary with different components a package</div>
<div class="line">may have: libraries, executables…</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>To get a list of all the dependency names from <code class="docutils literal notranslate"><span class="pre">deps_cpp_info</span></code>, you can call the <cite>deps</cite> member:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">PocoTimerConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># deps is a list of package names: [&quot;poco&quot;, &quot;zlib&quot;, &quot;openssl&quot;]</span>
        <span class="n">deps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deps_cpp_info</span><span class="o">.</span><span class="n">deps</span>
</pre></div>
</div>
<p>It can be used to get information about the dependencies, like used compilation flags or the
root folder of the package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="k">class</span><span class="w"> </span><span class="nc">PocoTimerConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>
     <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;zlib/1.2.11&quot;</span><span class="p">,</span> <span class="s2">&quot;openssl/1.0.2u&quot;</span>
     <span class="o">...</span>

     <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="c1"># Get the directory where zlib package is installed</span>
<span class="hll">         <span class="bp">self</span><span class="o">.</span><span class="n">deps_cpp_info</span><span class="p">[</span><span class="s2">&quot;zlib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">rootpath</span>
</span>
         <span class="c1"># Get the absolute paths to zlib include directories (list)</span>
<span class="hll">         <span class="bp">self</span><span class="o">.</span><span class="n">deps_cpp_info</span><span class="p">[</span><span class="s2">&quot;zlib&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">include_paths</span>
</span>
         <span class="c1"># Get the sharedlinkflags property from OpenSSL package</span>
<span class="hll">         <span class="bp">self</span><span class="o">.</span><span class="n">deps_cpp_info</span><span class="p">[</span><span class="s2">&quot;openssl&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sharedlinkflags</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using the experimental feature <a class="reference internal" href="../../devtools/build_requires.html#build-requires-context"><span class="std std-ref">with different context for host and build</span></a>, this
attribute will contain only information from packages in the <em>host</em> context.</p>
</div>
</section>
<section id="env-info">
<span id="env-info-attributes-reference"></span><h2>env_info<a class="headerlink" href="#env-info" title="Link to this heading"></a></h2>
<p>This attribute is only defined inside <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method, being None elsewhere, so please use it only inside this method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">self.env_info</span></code> object can be filled with the environment variables to be declared in the packages reusing the recipe.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Read <a class="reference internal" href="methods.html#method-package-info"><span class="std std-ref">package_info() method docs</span></a> for more info.</p>
</div>
</section>
<section id="deps-env-info">
<span id="deps-env-info-attributes-reference"></span><h2>deps_env_info<a class="headerlink" href="#deps-env-info" title="Link to this heading"></a></h2>
<p>You can access to the declared environment variables of the requirements of the recipe.</p>
<p><strong>Note:</strong> The environment variables declared in the requirements of a recipe are automatically applied
and it can be accessed with the python <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> dictionary. Nevertheless if
you want to access to the variable declared by some specific requirement you can use the <code class="docutils literal notranslate"><span class="pre">self.deps_env_info</span></code> object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

 <span class="k">class</span><span class="w"> </span><span class="nc">RecipeConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>
     <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;package1/1.0@conan/stable&quot;</span><span class="p">,</span> <span class="s2">&quot;package2/1.2@conan/stable&quot;</span>
     <span class="o">...</span>

     <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="c1"># Get the SOMEVAR environment variable declared in the &quot;package1&quot;</span>
<span class="hll">         <span class="bp">self</span><span class="o">.</span><span class="n">deps_env_info</span><span class="p">[</span><span class="s2">&quot;package1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">SOMEVAR</span>
</span>
         <span class="c1"># Access to the environment variables globally</span>
         <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;SOMEVAR&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using the experimental feature <a class="reference internal" href="../../devtools/build_requires.html#build-requires-context"><span class="std std-ref">with different context for host and build</span></a>, this
attribute will contain only information from packages in the <em>build</em> context.</p>
</div>
</section>
<section id="user-info">
<h2>user_info<a class="headerlink" href="#user-info" title="Link to this heading"></a></h2>
<p>This attribute is only defined inside <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method, being None elsewhere, so please use it only inside this method.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">self.user_info</span></code> object can be filled with any custom variable to be accessed in the packages reusing the recipe.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Read <a class="reference internal" href="methods.html#method-package-info"><span class="std std-ref">package_info() method docs</span></a> for more info.</p>
</div>
</section>
<section id="deps-user-info">
<span id="deps-user-info-attributes-reference"></span><h2>deps_user_info<a class="headerlink" href="#deps-user-info" title="Link to this heading"></a></h2>
<p>You can access the declared <code class="docutils literal notranslate"><span class="pre">user_info.XXX</span></code> variables of the requirements through the <code class="docutils literal notranslate"><span class="pre">self.deps_user_info</span></code> object like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

 <span class="k">class</span><span class="w"> </span><span class="nc">RecipeConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>
     <span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;package1/1.0@conan/stable&quot;</span>
     <span class="o">...</span>

     <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">         <span class="bp">self</span><span class="o">.</span><span class="n">deps_user_info</span><span class="p">[</span><span class="s2">&quot;package1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">SOMEVAR</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using the experimental feature <a class="reference internal" href="../../devtools/build_requires.html#build-requires-context"><span class="std std-ref">with different context for host and build</span></a>, this
attribute will contain only information from packages in the <em>host</em> context. Use <a class="reference internal" href="#user-info-build-attributes-reference"><span class="std std-ref">user_info_build</span></a>
to access information from packages that belong to <em>build</em> context.</p>
</div>
</section>
<section id="user-info-build">
<span id="user-info-build-attributes-reference"></span><h2>user_info_build<a class="headerlink" href="#user-info-build" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This section refers to the <strong>experimental feature</strong> that is activated when using <code class="docutils literal notranslate"><span class="pre">--profile:build</span></code> and <code class="docutils literal notranslate"><span class="pre">--profile:host</span></code>
in the command-line. It is currently under development, features can be added or removed in the following versions.</p>
</div>
<p>This attribute offers the information declared in the <code class="docutils literal notranslate"><span class="pre">user_info.XXXX</span></code> variables of the requirements that belong to the <em>build</em>
context, it is available only if Conan is invoked with two profiles (see <a class="reference internal" href="../../devtools/build_requires.html#build-requires-context"><span class="std std-ref">this section</span></a> to
know more about this feature.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

 <span class="k">class</span><span class="w"> </span><span class="nc">RecipeConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="o">...</span>
     <span class="n">tool_requires</span> <span class="o">=</span> <span class="s2">&quot;tool/1.0&quot;</span>
     <span class="o">...</span>

     <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="hll">         <span class="bp">self</span><span class="o">.</span><span class="n">user_info_build</span><span class="p">[</span><span class="s2">&quot;tool&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">SOMEVAR</span>
</span></pre></div>
</div>
</section>
<section id="info">
<h2>info<a class="headerlink" href="#info" title="Link to this heading"></a></h2>
<p>Object used to control the unique ID for a package. Check the <a class="reference internal" href="methods.html#method-package-id"><span class="std std-ref">package_id()</span></a> to see the details of the <code class="docutils literal notranslate"><span class="pre">self.info</span></code>
object.</p>
</section>
<section id="apply-env">
<span id="id7"></span><h2>apply_env<a class="headerlink" href="#apply-env" title="Link to this heading"></a></h2>
<p>When <code class="docutils literal notranslate"><span class="pre">True</span></code> (Default), the values from <code class="docutils literal notranslate"><span class="pre">self.deps_env_info</span></code> (corresponding to the declared <code class="docutils literal notranslate"><span class="pre">env_info</span></code> in the <code class="docutils literal notranslate"><span class="pre">requires</span></code> and <code class="docutils literal notranslate"><span class="pre">tool_requires</span></code>)
will be automatically applied to the <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>.</p>
<p>Disable it setting <code class="docutils literal notranslate"><span class="pre">apply_env</span></code> to False if you want to control by yourself the environment variables
applied to your recipes.</p>
<p>You can apply manually the environment variables from the requires and tool_requires:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="hll"> <span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">tools</span>
</span>
 <span class="k">class</span><span class="w"> </span><span class="nc">RecipeConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="n">apply_env</span> <span class="o">=</span> <span class="kc">False</span>

     <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
         <span class="k">with</span> <span class="n">tools</span><span class="o">.</span><span class="n">environment_append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="p">):</span>
             <span class="c1"># The same if we specified apply_env = True</span>
             <span class="k">pass</span>
</pre></div>
</div>
</section>
<section id="in-local-cache">
<span id="id8"></span><h2>in_local_cache<a class="headerlink" href="#in-local-cache" title="Link to this heading"></a></h2>
<p>A boolean attribute useful for conditional logic to apply in user folders local commands.
It will return <cite>True</cite> if the conanfile resides in the local cache ( we are installing the package)
and <cite>False</cite> if we are running the conanfile in a user folder (local Conan commands).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">class</span><span class="w"> </span><span class="nc">RecipeConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">in_local_cache</span><span class="p">:</span>
            <span class="c1"># we are installing the package</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we are building the package in a local directory</span>
</pre></div>
</div>
</section>
<section id="develop">
<span id="develop-attribute"></span><h2>develop<a class="headerlink" href="#develop" title="Link to this heading"></a></h2>
<p>A boolean attribute useful for conditional logic. It will be <code class="docutils literal notranslate"><span class="pre">True</span></code> if the package is created with <strong class="command">conan create</strong>, or if the
<em>conanfile.py</em> is in user space:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">RecipeConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">develop</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Develop mode&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>It can be used for conditional logic in other methods too, like <code class="docutils literal notranslate"><span class="pre">requirements()</span></code>, <code class="docutils literal notranslate"><span class="pre">package()</span></code>, etc.</p>
<p>This recipe will output “Develop mode” if:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>user/testing
<span class="c1"># or</span>
$<span class="w"> </span>mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>..
$<span class="w"> </span>conan<span class="w"> </span>build<span class="w"> </span>..
</pre></div>
</div>
<p>But it will not output that when it is a transitive requirement or installed with <strong class="command">conan install</strong>.</p>
</section>
<section id="keep-imports">
<span id="id9"></span><h2>keep_imports<a class="headerlink" href="#keep-imports" title="Link to this heading"></a></h2>
<p>Just before the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method is executed, if the conanfile has an <code class="docutils literal notranslate"><span class="pre">imports()</span></code> method, it is
executed into the build folder, to copy binaries from dependencies that might be necessary for
the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method to work. After the method finishes, those copied (imported) files are removed,
so they are not later unnecessarily repackaged.</p>
<p>This behavior can be avoided declaring the <code class="docutils literal notranslate"><span class="pre">keep_imports=True</span></code> attribute. This can be useful, for example
to <a class="reference internal" href="../../devtools/running_packages.html#repackage"><span class="std std-ref">repackage artifacts</span></a></p>
</section>
<section id="scm">
<span id="scm-attribute"></span><h2>scm<a class="headerlink" href="#scm" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases. Although this
is an experimental feature, the use of the feature using <code class="docutils literal notranslate"><span class="pre">scm_to_conandata</span></code> is considered
stable.</p>
</div>
<p>Used to clone/checkout a repository. It is a dictionary with the following possible values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">CMake</span><span class="p">,</span> <span class="n">tools</span>

<span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
     <span class="n">scm</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;git&quot;</span><span class="p">,</span>
        <span class="s2">&quot;subfolder&quot;</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/conan-io/hello.git&quot;</span><span class="p">,</span>
        <span class="s2">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;master&quot;</span>
     <span class="p">}</span>
    <span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li><p><strong>type</strong> (Required): Currently only <code class="docutils literal notranslate"><span class="pre">git</span></code> and <code class="docutils literal notranslate"><span class="pre">svn</span></code> are supported. Others can be added eventually.</p></li>
<li><p><strong>url</strong> (Required): URL of the remote or <code class="docutils literal notranslate"><span class="pre">auto</span></code> to capture the remote from the local working
copy (credentials will be removed from it). When type is <code class="docutils literal notranslate"><span class="pre">svn</span></code> it can contain
the <a class="reference external" href="http://svnbook.red-bean.com/en/1.7/svn.advanced.pegrevs.html">peg_revision</a>.</p></li>
<li><p><strong>revision</strong> (Required): id of the revision or <code class="docutils literal notranslate"><span class="pre">auto</span></code> to capture the current working copy one.
When type is <code class="docutils literal notranslate"><span class="pre">git</span></code>, it can also be the branch name or a tag.</p></li>
<li><p><strong>subfolder</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">.</span></code>): A subfolder where the repository will be cloned.</p></li>
<li><p><strong>username</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): When present, it will be used as the login to authenticate with the remote.</p></li>
<li><p><strong>password</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>): When present, it will be used as the password to authenticate with the remote.</p></li>
<li><p><strong>verify_ssl</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Verify SSL certificate of the specified <strong>url</strong>.</p></li>
<li><p><strong>shallow</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">True</span></code>): Use shallow clone for Git repositories.</p></li>
<li><dl class="simple">
<dt><strong>submodule</strong> (Optional, Defaulted to <code class="docutils literal notranslate"><span class="pre">None</span></code>):</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">shallow</span></code>: Will sync the git submodules using <code class="docutils literal notranslate"><span class="pre">submodule</span> <span class="pre">sync</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recursive</span></code>: Will sync the git submodules using <code class="docutils literal notranslate"><span class="pre">submodule</span> <span class="pre">sync</span> <span class="pre">--recursive</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Attributes <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">url</span></code> and <code class="docutils literal notranslate"><span class="pre">revision</span></code> are required to upload the recipe to a remote server.</p>
<p>SCM attributes are evaluated in the working directory where the <em>conanfile.py</em> is located before
exporting it to the Conan cache, so these values can be returned from arbitrary functions that
depend on the local directory. Nevertheless, all the other code in the recipe must be able to
run in the export folder inside the cache, where it has access only to the files exported (see
attribute <a class="reference internal" href="#exports-attribute"><span class="std std-ref">exports</span></a> and <a class="reference internal" href="../config_files/conandata.yml.html#conandata-yml"><span class="std std-ref">conandata.yml</span></a>) and to any other functionality
from a <a class="reference internal" href="../../extending/python_requires.html#python-requires"><span class="std std-ref">python_requires</span></a> package.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By default, in Conan v1.x the information after evaluating the attribute <code class="docutils literal notranslate"><span class="pre">scm</span></code> will be stored in the
<em>conanfile.py</em> file (the recipe will be modified when exported to the Conan cache) and any value will be
written in plain text (watch out about passwords).
However, you can activate the <a class="reference internal" href="../config_files/conan.conf.html#conan-conf"><span class="std std-ref">scm_to_conandata</span></a> config option, the <em>conanfile.py</em>
won’t be modified (data is stored in a different file) and the fields <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> won’t be
stored, so these one will be computed each time the recipe is loaded.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In case of git, by default conan will try to perform shallow clone of the repository, and will fallback to the full
clone in case shallow fails (e.g. not supported by the server).</p>
</div>
<p>To know more about the usage of <code class="docutils literal notranslate"><span class="pre">scm</span></code> check:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../creating_packages/external_repo.html#external-repo"><span class="std std-ref">Creating packages/Recipe and sources in a different repo</span></a></p></li>
<li><p><a class="reference internal" href="../../creating_packages/package_repo.html#package-repo"><span class="std std-ref">Creating packages/Recipe and sources in the same repo</span></a></p></li>
</ul>
</section>
<section id="revision-mode">
<span id="revision-mode-attribute"></span><h2>revision_mode<a class="headerlink" href="#revision-mode" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This attribute is part of the <a class="reference internal" href="../../versioning/revisions.html#package-revisions"><span class="std std-ref">package revisions</span></a> feature, so
it is also an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>This attribute allow each recipe to declare how the revision for the recipe itself should
be computed. It can take two different values:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;hash&quot;</span></code> (by default): Conan will use the checksum hash of the recipe manifest to
compute the revision for the recipe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;scm&quot;</span></code>: the commit ID will be used as the recipe revision if it belongs to a known
repository system (Git or SVN). If there is no repository it will raise an error.</p></li>
</ul>
</div></blockquote>
</section>
<section id="python-requires-legacy">
<span id="python-requires-attribute"></span><h2>python_requires (legacy)<a class="headerlink" href="#python-requires-legacy" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This attribute has been superseded by the new <a class="reference internal" href="../../extending/python_requires.html#python-requires"><span class="std std-ref">Python requires</span></a>. Even if this is an <strong>experimental</strong>
feature subject to breaking changes in future releases, this legacy <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> syntax has not
been removed yet, but it will be removed in Conan 2.0.</p>
</div>
<p>Python requires are associated with the <code class="docutils literal notranslate"><span class="pre">ConanFile</span></code> declared in the recipe file, data
from those imported recipes is accessible using the <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> attribute in
the recipe itself. This attribute is a dictionary where the key is the name of the
<em>python requires</em> reference and the value is a dictionary with the following information:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ref</span></code>: full reference of the python requires.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exports_folder</span></code>: directory in the cache where the exported files are located.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exports_sources_folder</span></code>: directory in the cache where the files exported using the
<code class="docutils literal notranslate"><span class="pre">exports_sources</span></code> attribute of the python requires recipe are located.</p></li>
</ul>
</div></blockquote>
<p>You can use this information to copy files accompanying a python requires to the consumer
workspace.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PyReq</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;pyreq&quot;</span>
    <span class="n">exports_sources</span> <span class="o">=</span> <span class="s2">&quot;CMakeLists.txt&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">pyreq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">python_requires</span><span class="p">[</span><span class="s1">&#39;pyreq&#39;</span><span class="p">]</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">pyreq</span><span class="o">.</span><span class="n">exports_sources_folder</span><span class="p">,</span> <span class="s2">&quot;CMakeLists.txt&quot;</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">source_folder</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="python-requires">
<h2>python_requires<a class="headerlink" href="#python-requires" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>This class attribute allows to define a dependency to another Conan recipe and reuse its code.
Its basic syntax is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">python_requires</span> <span class="o">=</span> <span class="s2">&quot;pyreq/0.1@user/channel&quot;</span>  <span class="c1"># recipe to reuse code from</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python_requires</span><span class="p">[</span><span class="s2">&quot;pyreq&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">module</span> <span class="c1"># access to the whole conanfile.py module</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python_requires</span><span class="p">[</span><span class="s2">&quot;pyreq&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">myvar</span>  <span class="c1"># access to a variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python_requires</span><span class="p">[</span><span class="s2">&quot;pyreq&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">myfunct</span><span class="p">()</span>  <span class="c1"># access to a global function</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python_requires</span><span class="p">[</span><span class="s2">&quot;pyreq&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">path</span> <span class="c1"># access to the folder where the reused file is</span>
</pre></div>
</div>
<p>Read more about this attribute in <a class="reference internal" href="../../extending/python_requires.html#python-requires"><span class="std std-ref">Python requires</span></a></p>
</section>
<section id="python-requires-extend">
<h2>python_requires_extend<a class="headerlink" href="#python-requires-extend" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>This class attribute defines one or more classes that will be injected in runtime as base classes of
the recipe class. Syntax for each of these classes should be a string like <code class="docutils literal notranslate"><span class="pre">pyreq.MyConanfileBase</span></code>
where the <code class="docutils literal notranslate"><span class="pre">pyreq</span></code> is the name of a <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> and <code class="docutils literal notranslate"><span class="pre">MyConanfileBase</span></code> is the name of the class
to use.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">python_requires</span> <span class="o">=</span> <span class="s2">&quot;pyreq/0.1@user/channel&quot;</span><span class="p">,</span> <span class="s2">&quot;utils/0.1@user/channel&quot;</span>
    <span class="n">python_requires_extend</span> <span class="o">=</span> <span class="s2">&quot;pyreq.MyConanfileBase&quot;</span><span class="p">,</span> <span class="s2">&quot;utils.UtilsBase&quot;</span>  <span class="c1"># class/es to inject</span>
</pre></div>
</div>
<p>Read more about this attribute in <a class="reference internal" href="../../extending/python_requires.html#python-requires"><span class="std std-ref">Python requires</span></a></p>
</section>
<section id="conan-data">
<span id="conandata-attribute"></span><h2>conan_data<a class="headerlink" href="#conan-data" title="Link to this heading"></a></h2>
<p>This attribute is a dictionary with the keys and values provided in a <a class="reference internal" href="../config_files/conandata.yml.html#conandata-yml"><span class="std std-ref">conandata.yml</span></a> file format placed next to the <em>conanfile.py</em>.
This YAML file is automatically exported with the recipe and automatically loaded with it too.</p>
<p>You can declare information in the <em>conandata.yml</em> file and then access it inside any of the methods of the recipe.
For example, a <em>conandata.yml</em> with information about sources that looks like this:</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">sources</span><span class="p">:</span>
<span class="w">  </span><span class="s">&quot;1.1.0&quot;</span><span class="p p-Indicator">:</span>
<span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://www.url.org/source/mylib-1.0.0.tar.gz&quot;</span>
<span class="w">    </span><span class="nt">sha256</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;8c48baf3babe0d505d16cfc0cf272589c66d3624264098213db0fb00034728e9&quot;</span>
<span class="w">  </span><span class="s">&quot;1.1.1&quot;</span><span class="p p-Indicator">:</span>
<span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://www.url.org/source/mylib-1.0.1.tar.gz&quot;</span>
<span class="w">    </span><span class="nt">sha256</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;15b6393c20030aab02c8e2fe0243cb1d1d18062f6c095d67bca91871dc7f324a&quot;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">tools</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">conan_data</span><span class="p">[</span><span class="s2">&quot;sources&quot;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="deprecated">
<h2>deprecated<a class="headerlink" href="#deprecated" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.28.0">1.28.0</a></p>
<p>This attribute declares that the recipe is deprecated, causing a user-friendly warning message to be emitted whenever it is used.
For example, the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;cpp-taskflow&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">deprecated</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>may emit a warning like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cpp-taskflow/1.0:<span class="w"> </span>WARN:<span class="w"> </span>Recipe<span class="w"> </span><span class="s1">&#39;cpp-taskflow/1.0&#39;</span><span class="w"> </span>is<span class="w"> </span>deprecated.<span class="w"> </span>Please,<span class="w"> </span>consider<span class="w"> </span>changing<span class="w"> </span>your<span class="w"> </span>requirements.
</pre></div>
</div>
<p>Optionally, the attribute may specify the name of the suggested replacement:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;cpp-taskflow&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">deprecated</span> <span class="o">=</span> <span class="s2">&quot;taskflow&quot;</span>
</pre></div>
</div>
<p>This will emit a warning like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cpp-taskflow/1.0:<span class="w"> </span>WARN:<span class="w"> </span>Recipe<span class="w"> </span><span class="s1">&#39;cpp-taskflow/1.0&#39;</span><span class="w"> </span>is<span class="w"> </span>deprecated<span class="w"> </span><span class="k">in</span><span class="w"> </span>favor<span class="w"> </span>of<span class="w"> </span><span class="s1">&#39;taskflow&#39;</span>.<span class="w"> </span>Please,<span class="w"> </span>consider<span class="w"> </span>changing<span class="w"> </span>your<span class="w"> </span>requirements.
</pre></div>
</div>
<p>If the value of the attribute evaluates to <code class="docutils literal notranslate"><span class="pre">False</span></code>, no warning is printed.</p>
</section>
<section id="provides">
<h2>provides<a class="headerlink" href="#provides" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.28.0">1.28.0</a></p>
<p>This attribute declares that the recipe provides the same functionality as other recipe(s). The attribute is usually needed if two or more
libraries implement the same API to prevent link-time and run-time conflicts (ODR violations). One typical situation is forked libraries.</p>
<p>Some examples are:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://www.libressl.org/">LibreSSL</a>, <a class="reference external" href="https://boringssl.googlesource.com/boringssl/">BoringSSL</a> and <a class="reference external" href="https://www.openssl.org/">OpenSSL</a></p></li>
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Libav">libav</a> and <a class="reference external" href="https://ffmpeg.org/">ffmpeg</a></p></li>
<li><p><a class="reference external" href="https://downloads.mariadb.org/client-native">MariaDB client</a> and <a class="reference external" href="https://dev.mysql.com/downloads/c-api/">MySQL client</a></p></li>
</ul>
</div></blockquote>
<p>If Conan encounters two or more libraries providing the same functionality within a single graph, it raises an error:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>At<span class="w"> </span>least<span class="w"> </span>two<span class="w"> </span>recipes<span class="w"> </span>provides<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>functionality:
<span class="w"> </span>-<span class="w"> </span><span class="s1">&#39;libjpeg&#39;</span><span class="w"> </span>provided<span class="w"> </span>by<span class="w"> </span><span class="s1">&#39;libjpeg/9d&#39;</span>,<span class="w"> </span><span class="s1">&#39;libjpeg-turbo/2.0.5&#39;</span>
</pre></div>
</div>
<p>The attribute value should be a string with a recipe name or a tuple of such recipe names.</p>
<p>For example, to declare that <code class="docutils literal notranslate"><span class="pre">libjpeg-turbo</span></code> recipe offers the same functionality as <code class="docutils literal notranslate"><span class="pre">libjpeg</span></code> recipe, the following code could be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">LibJpegTurbo</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;libjpeg-turbo&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">provides</span> <span class="o">=</span> <span class="s2">&quot;libjpeg&quot;</span>
</pre></div>
</div>
<p>To declare that a recipe provides the functionality of several different recipes at the same time, the following code could be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">OpenBLAS</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;openblas&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
    <span class="n">provides</span> <span class="o">=</span> <span class="s2">&quot;cblas&quot;</span><span class="p">,</span> <span class="s2">&quot;lapack&quot;</span>
</pre></div>
</div>
<p>If the attribute is omitted, the value of the attribute is assumed to be equal to the current package name. Thus, it’s redundant for
<code class="docutils literal notranslate"><span class="pre">libjpeg</span></code> recipe to declare that it provides <code class="docutils literal notranslate"><span class="pre">libjpeg</span></code>, it’s already implicitly assumed by Conan.</p>
</section>
<section id="conf">
<h2>conf<a class="headerlink" href="#conf" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.47.0">1.47.0</a></p>
<p>In the <code class="docutils literal notranslate"><span class="pre">self.conf</span></code> attribute we can find all the conf entries declared in the <a class="reference internal" href="../profiles.html#profiles-tools-conf"><span class="std std-ref">[conf] section of the profiles</span></a>
in addition of the declared <a class="reference internal" href="../config_files/global_conf.html#conf-in-recipes"><span class="std std-ref">self.conf_info</span></a> entries from the first level tool requirements. The profile entries have priority.</p>
<p>This is an example of a recipe for a tool called <code class="docutils literal notranslate"><span class="pre">my_android_ndk</span></code> with the following recipe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyAndroidNDKRecipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

  <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_android_ndk&quot;</span>
  <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">conf_info</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;tools.android:ndk_path&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If we require that tool:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyConsumer</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

  <span class="n">tool_requires</span> <span class="o">=</span> <span class="s2">&quot;my_android_ndk/1.0&quot;</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;NDK host: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tools.android:ndk_path&quot;</span><span class="p">))</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Custom var1: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;user.custom.var1&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>And we install it applying this profile:</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">myprofile</span><a class="headerlink" href="#id17" title="Link to this code"></a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>include(default)
[conf]
tools.android:ndk_path=foo
user.custom.var1=hello
</pre></div>
</div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>.<span class="w"> </span>--profile<span class="w"> </span>myprofile
...
conanfile.py:<span class="w"> </span>Applying<span class="w"> </span>build-requirement:<span class="w"> </span>my_android_ndk/1.0
conanfile.py:<span class="w"> </span>Generator<span class="w"> </span>txt<span class="w"> </span>created<span class="w"> </span>conanbuildinfo.txt
conanfile.py:<span class="w"> </span>Calling<span class="w"> </span>generate<span class="o">()</span>
conanfile.py:<span class="w"> </span>NDK<span class="w"> </span>host:<span class="w"> </span>foo
conanfile.py:<span class="w"> </span>Custom<span class="w"> </span>var1:<span class="w"> </span>hello
...
</pre></div>
</div>
<p>Without the profile:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>.
...
conanfile.py:<span class="w"> </span>Applying<span class="w"> </span>build-requirement:<span class="w"> </span>my_android_ndk/1.0
conanfile.py:<span class="w"> </span>Generator<span class="w"> </span>txt<span class="w"> </span>created<span class="w"> </span>conanbuildinfo.txt
conanfile.py:<span class="w"> </span>Calling<span class="w"> </span>generate<span class="o">()</span>
conanfile.py:<span class="w"> </span>NDK<span class="w"> </span>host:<span class="w"> </span>bar
conanfile.py:<span class="w"> </span>Custom<span class="w"> </span>var1:<span class="w"> </span>None
</pre></div>
</div>
</section>
<section id="win-bash">
<h2>win_bash<a class="headerlink" href="#win-bash" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.39.0">1.39.0</a></p>
<p>When <code class="docutils literal notranslate"><span class="pre">True</span></code> it enables the new run in a subsystem bash in Windows mechanism. <a class="reference internal" href="../../systems_cross_building/windows_subsystems.html#conanfile-win-bash"><span class="std std-ref">Read more here</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">FooRecipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">win_bash</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>  <span class="c1"># will run &lt;cmd&gt; inside bash</span>
</pre></div>
</div>
</section>
<section id="win-bash-run">
<h2>win_bash_run<a class="headerlink" href="#win-bash-run" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.54.0">1.54.0</a></p>
<p>When <code class="docutils literal notranslate"><span class="pre">True</span></code> it enables running commands in the <code class="docutils literal notranslate"><span class="pre">&quot;run&quot;</span></code> scope, to run them inside a bash shell.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conan</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span>

<span class="k">class</span><span class="w"> </span><span class="nc">FooRecipe</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="n">win_bash_run</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;run&quot;</span><span class="p">)</span>  <span class="c1"># will run &lt;cmd&gt; inside bash</span>
</pre></div>
</div>
</section>
<section id="test-type">
<span id="id15"></span><h2>test_type<a class="headerlink" href="#test-type" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Test type is an <strong>experimental</strong> feature subject to breaking changes in future releases.</p>
</div>
<p>Available since: <a class="reference external" href="https://github.com/conan-io/conan/releases/tag/1.44.0">1.44.0</a></p>
<p>This attribute allows testing requirements and build requiments explicitly on test package.
In Conan 2.0 the <code class="docutils literal notranslate"><span class="pre">test_type</span></code> attribute will be ignored, the behavior will be always explicit, so declaring <code class="docutils literal notranslate"><span class="pre">test_type=&quot;explicit&quot;</span></code> will make the test recipe compatible with Conan 2.0.
The possible values are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">requires</span></code> (default): The package being tested will be consumed as a regular requirement automatically.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">build_requires</span></code>: The package being tested will be consumed as a build requirement automatically. It can be combined with <code class="docutils literal notranslate"><span class="pre">requires</span></code> to be required in both ways.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">explicit</span></code>: The test package will not solve its dependencies automatically, you need to declare it explicitly using the reference at <code class="docutils literal notranslate"><span class="pre">self.tested_reference_str</span></code>. This will be the only behavior for Conan 2.0. The additional values <code class="docutils literal notranslate"><span class="pre">requires</span></code> and <code class="docutils literal notranslate"><span class="pre">build_requires</span></code> (if specified) will be ignored.</p></li>
</ul>
</div></blockquote>
<p>To solve build requirements and requirements automatically as regularly on Conan 1.0</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">CMake</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestPackage</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">test_type</span> <span class="o">=</span> <span class="s2">&quot;build_requires&quot;</span><span class="p">,</span> <span class="s2">&quot;requires&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bin_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="s2">&quot;test_package&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">bin_path</span><span class="p">,</span> <span class="n">run_environment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>To explicitly declare the required dependencies as required on Conan 2.0:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">CMake</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestPackage</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">test_type</span> <span class="o">=</span> <span class="s2">&quot;explicit&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requires</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tested_reference_str</span><span class="p">)</span>
        <span class="c1"># and, or</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_requires</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tested_reference_str</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">bin_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="s2">&quot;test_package&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">bin_path</span><span class="p">,</span> <span class="n">run_environment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>For more information see <a class="reference internal" href="../../migrating_to_2.0/recipes.html#explicit-test-package-requirement"><span class="std std-ref">explicit test package requirement</span></a> and <a class="reference internal" href="../../devtools/build_requires.html#testing-build-requires"><span class="std std-ref">testing tool requirements</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../conanfile.html" class="btn btn-neutral float-left" title="conanfile.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="methods.html" class="btn btn-neutral float-right" title="Methods" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, JFrog.
      <span class="lastupdated">Last updated on Sep 29, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 1.54
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/en/1.54/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>