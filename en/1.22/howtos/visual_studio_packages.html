<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to create and reuse packages based on Visual Studio &mdash; conan 1.22.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../_static/conan-favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=fe3ceb2f"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Creating and reusing packages based on Makefiles" href="makefiles.html" />
    <link rel="prev" title="How to launch conan install from cmake" href="cmake_launch.html" />


<script
  data-cfasync="false"
  data-tracker-overrides="GoogleConsentMode:security_storage=on;ad_storage=SaleOfInfo,Advertising;ad_user_data=SaleOfInfo,Advertising;ad_personalization=SaleOfInfo,Advertising;analytics_storage=Analytics,SaleOfInfo;functionality_storage=Functional,SaleOfInfo;personalization_storage=Functional,SaleOfInfo"
  src="https://transcend-cdn.com/cm/f0071674-c641-4cf3-9d31-303ec0c86b1b/airgap.js" data-languages="en"
></script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://gtm.jfrog.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {dataLayer.push(arguments);}
      gtag("js", new Date());
      gtag("config", "GTM-WK44ZFM");
      gtag('set', 'developer_id.dODQ2Mj', true);
</script>

 



</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/conan-logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.22
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_packages.html">Creating Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing_packages.html">Developing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mastering.html">Mastering Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending.html">Extending Conan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../howtos.html">Howtos</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="header_only.html">How to package header-only libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmake_launch.html">How to launch conan install from cmake</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to create and reuse packages based on Visual Studio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-packages">Creating packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uploading-binaries">Uploading binaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reusing-packages">Reusing packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-configurations">Other configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="makefiles.html">Creating and reusing packages based on Makefiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="manage_gcc_abi.html">How to manage the GCC &gt;= 5 ABI</a></li>
<li class="toctree-l2"><a class="reference internal" href="vs2017_cmake.html">Using Visual Studio 2017 - CMake integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="intel_compiler.html">Working with Intel compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="manage_cpp_standard.html">How to manage C++ standard [EXPERIMENTAL]</a></li>
<li class="toctree-l2"><a class="reference internal" href="run_conan_in_docker.html">How to use Docker to create and cross-build C and C++ Conan packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_code_reuse.html">How to reuse Python code in recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_generators.html">How to create and share a custom generator with generator packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="manage_shared_libraries.html">How to manage shared libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmake_install.html">How to reuse cmake install for package() method</a></li>
<li class="toctree-l2"><a class="reference internal" href="collaborate_packages.html">How to collaborate with other users‚Äô packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="link_apple_framework.html">How to link with Apple Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="link_apple_framework.html#how-to-package-apple-frameworks">How to package Apple Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="collect_licenses.html">How to collect licenses of dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="extract_licenses_from_headers.html">How to extract licenses from headers</a></li>
<li class="toctree-l2"><a class="reference internal" href="capture_version.html">How to dynamically define the name and version of a package</a></li>
<li class="toctree-l2"><a class="reference internal" href="capture_version.html#how-to-capture-package-version-from-scm-git">How to capture package version from SCM: git</a></li>
<li class="toctree-l2"><a class="reference internal" href="capture_version.html#how-to-capture-package-version-from-scm-svn">How to capture package version from SCM: svn</a></li>
<li class="toctree-l2"><a class="reference internal" href="capture_version.html#how-to-capture-package-version-from-text-or-build-files">How to capture package version from text or build files</a></li>
<li class="toctree-l2"><a class="reference internal" href="other_languages_package_manager.html">How to use Conan as other language package manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="use_tls_certificates.html">How to manage SSL (TLS) certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_conan_version_in_conanfile.html">How to check the version of the Conan client inside a conanfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic_ci_artifactory.html">Use a generic CI with Conan and Artifactory</a></li>
<li class="toctree-l2"><a class="reference internal" href="sanitizers.html">Compiler sanitizers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div class="admonition warning wy-text-center" style="position:sticky;top:0;background: #fcfcfc;padding: inherit;z-index:1" id="conan-banners">
            
            <div style="border: 2px solid #eb8484;background-color: #ffcaca;padding: 3px;margin-bottom: 5px">
              <p>This document is for a <b>"1.X" legacy</b> Conan version, <b>which is no longer recommended</b>. Please update to Conan 2, <a href="https://docs.conan.io/2/">click here to read the <b>Conan 2</b> documentation</a></p>
            </div>
            
            <div style="border: 2px solid #4a7d7e; background-color: #e6f2f2; padding: 8px">
                <p>
                  üìñ The complete Conan 2 training is now available for free on
                  JFrog Academy: <a
                  href="https://academy.jfrog.com/path/conan-cc-package-manager?utm_source=Conan+Docs"
                  target="_blank">Essentials</a> and <a
                  href="https://academy.jfrog.com/path/conan-2-advanced?utm_source=Conan+Docs"
                  target="_blank">Advanced</a>.
                </p>
              </div>                                                  
          </div>
          <!--@ OUTDATED_VERSION_PLACEHOLDER_BEGIN @
          <div>
            <div class="admonition warning wy-text-center" style="position:sticky">
              <p>This document is for an <b>outdated</b> Conan version.
              <a href="https://docs.conan.io/2/@LATEST_DOC_PAGE_URL@">Click here to read the <b>latest</b> documentation</a></p>
             </div>
          </div>
          @ OUTDATED_VERSION_PLACEHOLDER_END @-->
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../howtos.html">Howtos</a></li>
      <li class="breadcrumb-item active">How to create and reuse packages based on Visual Studio</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-create-and-reuse-packages-based-on-visual-studio">
<span id="visual-studio-packages"></span><h1>How to create and reuse packages based on Visual Studio<a class="headerlink" href="#how-to-create-and-reuse-packages-based-on-visual-studio" title="Link to this heading">ÔÉÅ</a></h1>
<p>Conan has different helpers to manage Visual Studio and MSBuild based projects.
This how-to illustrates how to put them together to create and consume packages that are purely
based on Visual Studio. This how-to is using VS2015, but other versions can be used too.</p>
<section id="creating-packages">
<h2>Creating packages<a class="headerlink" href="#creating-packages" title="Link to this heading">ÔÉÅ</a></h2>
<p>Start cloning the existing example repository, containing a simple ‚ÄúHello World‚Äù library, and application:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/memsharded/hello_vs
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>hello_vs
</pre></div>
</div>
<p>It contains a <code class="docutils literal notranslate"><span class="pre">src</span></code> folder with the source code and a <code class="docutils literal notranslate"><span class="pre">build</span></code> folder with a Visual Studio 2015 solution,
containing 2 projects: the HelloLib static library, and the Greet application. Open it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>build<span class="se">\H</span>elloLib<span class="se">\H</span>elloLib.sln
</pre></div>
</div>
<p>You should be able to select the <code class="docutils literal notranslate"><span class="pre">Greet</span></code> subproject -&gt; <code class="docutils literal notranslate"><span class="pre">Set</span> <span class="pre">as</span> <span class="pre">Startup</span> <span class="pre">Project</span></code>.
Then build and run the app with Ctrl+F5. (Debug -&gt; Start Without Debugging)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Debug!
<span class="c1"># Switch IDE to Release mode, repeat</span>
$<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Release!
</pre></div>
</div>
<p>Because the <code class="docutils literal notranslate"><span class="pre">hello.cpp</span></code> file contains an <code class="docutils literal notranslate"><span class="pre">#ifdef</span> <span class="pre">_DEBUG</span></code> to switch between debug and release message.</p>
<p>In the repository, there is already a <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> recipe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">conans</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConanFile</span><span class="p">,</span> <span class="n">MSBuild</span>

<span class="k">class</span><span class="w"> </span><span class="nc">HelloConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>
    <span class="n">license</span> <span class="o">=</span> <span class="s2">&quot;MIT&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/memsharded/hello_vs&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span>
    <span class="n">exports_sources</span> <span class="o">=</span> <span class="s2">&quot;src/*&quot;</span><span class="p">,</span> <span class="s2">&quot;build/*&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msbuild</span> <span class="o">=</span> <span class="n">MSBuild</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">msbuild</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s2">&quot;build/HelloLib/HelloLib.sln&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*.h&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;include&quot;</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;src&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="s2">&quot;*.lib&quot;</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="s2">&quot;lib&quot;</span><span class="p">,</span> <span class="n">keep_path</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpp_info</span><span class="o">.</span><span class="n">libs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;HelloLib&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>This recipe is using the <a class="reference internal" href="../reference/build_helpers/visual_studio.html#msbuild"><span class="std std-ref">MSBuild() build helper</span></a> to build the <code class="docutils literal notranslate"><span class="pre">sln</span></code> project.
If our recipe has <code class="docutils literal notranslate"><span class="pre">requires</span></code>, the <code class="docutils literal notranslate"><span class="pre">MSBUILD</span></code> helper will also take care of inject all the needed
information from the requirements, as include directories, library names, definitions, flags etc
to allow our project to locate the declared dependencies.</p>
<p>The recipe contains also a <code class="docutils literal notranslate"><span class="pre">test_package</span></code> folder with a simple example consuming application.
In this example, the consuming application is using cmake to build, but it could also use Visual Studio too.
We have left the cmake one because it is the default generated with <strong class="command">conan new</strong>, and also to show that packages
created from Visual Studio projects can also be consumed with other build systems like CMake.</p>
<p>Once we want to create a package, it is advised to close VS IDE, clean the temporary build files from VS to avoid problems,
then create and test the package. Here it is using system defaults, assuming they are Visual Studio 14, Release, x86_64:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># close VS</span>
$<span class="w"> </span>git<span class="w"> </span>clean<span class="w"> </span>-xdf
$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>memsharded/testing
...
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Release!
</pre></div>
</div>
<p>Instead of closing the IDE and running the command:<cite>git clean</cite> we could also configure a smarter filter in <code class="docutils literal notranslate"><span class="pre">exports_sources</span></code> field, so temporary
build files are not exported into the recipe.</p>
<p>This process can be repeated to create and test packages for different configurations:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>memsharded/testing<span class="w"> </span>-s<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>x86
$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>memsharded/testing<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span><span class="s2">&quot;Visual Studio&quot;</span><span class="w"> </span>-s<span class="w"> </span>compiler.runtime<span class="o">=</span>MDd<span class="w"> </span>-s<span class="w"> </span><span class="nv">build_type</span><span class="o">=</span>Debug
$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>memsharded/testing<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span><span class="s2">&quot;Visual Studio&quot;</span><span class="w"> </span>-s<span class="w"> </span>compiler.runtime<span class="o">=</span>MDd<span class="w"> </span>-s<span class="w"> </span><span class="nv">build_type</span><span class="o">=</span>Debug<span class="w"> </span>-s<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>x86
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not mandatory to specify the <code class="docutils literal notranslate"><span class="pre">compiler.runtime</span></code> setting. If it is not explicitly defined, Conan will
automatically use <code class="docutils literal notranslate"><span class="pre">runtime=MDd</span></code> for <code class="docutils literal notranslate"><span class="pre">build_type==Debug</span></code> and <code class="docutils literal notranslate"><span class="pre">runtime=MD</span></code> for <code class="docutils literal notranslate"><span class="pre">build_type==Release</span></code>.</p>
</div>
<p>You can list the different created binary packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>search<span class="w"> </span>Hello/0.1@memsharded/testing
</pre></div>
</div>
</section>
<section id="uploading-binaries">
<h2>Uploading binaries<a class="headerlink" href="#uploading-binaries" title="Link to this heading">ÔÉÅ</a></h2>
<p>Your locally created packages can already be uploaded to a Conan remote.
If you created them with the original username ‚Äúmemsharded‚Äù, as from the git clone, you might want to do a <strong class="command">conan copy</strong>
to put them on your own username. Of course, you can also directly use your user name in <strong class="command">conan create</strong>.</p>
<p>Another alternative is to configure the permissions in the remote, to allow uploading packages with
different usernames. By default artifactory will do it but Conan server won‚Äôt:
permissions must be given in <code class="docutils literal notranslate"><span class="pre">[write_permissions]</span></code> section of <code class="docutils literal notranslate"><span class="pre">server.conf</span></code>.</p>
</section>
<section id="reusing-packages">
<h2>Reusing packages<a class="headerlink" href="#reusing-packages" title="Link to this heading">ÔÉÅ</a></h2>
<p>To use existing packages directly from Visual Studio, Conan provides the <code class="docutils literal notranslate"><span class="pre">visual_studio</span></code> generator.
Let‚Äôs clone an existing ‚ÄúChat‚Äù project, consisting of a ChatLib static library that makes use of the
previous ‚ÄúHello World‚Äù package, and a MyChat application, calling the ChatLib library function.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/memsharded/chat_vs
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>chat_vs
</pre></div>
</div>
<p>As above, the repository contains a Visual Studio solution in the <code class="docutils literal notranslate"><span class="pre">build</span></code> folder.
But if you try to open it, it will fail to load.
This is because it is expecting to find a file with the required information about dependencies,
so it is necessary to obtain that file first. Just run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
<p>You will see that it created two files, a <code class="docutils literal notranslate"><span class="pre">conaninfo.txt</span></code> file, containing the current
configuration of dependencies, and a <code class="docutils literal notranslate"><span class="pre">conanbuildinfo.props</span></code> file, containing the Visual Studio
properties (like <code class="docutils literal notranslate"><span class="pre">&lt;AdditionalIncludeDirectories&gt;</span></code>), so it is able to find the installed dependencies.</p>
<p>Now you can open the IDE and build and run the app (by the way, the chat function is just calling
the <code class="docutils literal notranslate"><span class="pre">hello()</span></code> function two or three times, depending on the build type):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w">  </span>build<span class="se">\C</span>hatLib<span class="se">\C</span>hatLib.sln
<span class="c1"># Switch to Release</span>
<span class="c1"># MyChat -&gt; Set as Startup Project</span>
<span class="c1"># Ctrl + F5 (Debug -&gt; Run without debugging)</span>
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Release!
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Release!
</pre></div>
</div>
<p>If you wish to link with the debug version of Hello package, just install it and change IDE build type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>install<span class="w"> </span>.<span class="w"> </span>-s<span class="w"> </span><span class="nv">build_type</span><span class="o">=</span>Debug<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span><span class="s2">&quot;Visual Studio&quot;</span><span class="w"> </span>-s<span class="w"> </span>compiler.runtime<span class="o">=</span>MDd
<span class="c1"># Switch to Debug</span>
<span class="c1"># Ctrl + F5 (Debug -&gt; Run without debugging)</span>
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Debug!
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Debug!
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Debug!
</pre></div>
</div>
<p>Now you can close the IDE and clean the temporary files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># close VS IDE</span>
$<span class="w"> </span>git<span class="w"> </span>clean<span class="w"> </span>-xdf
</pre></div>
</div>
<p>Again, there is a <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> package recipe in the repository, together with a <code class="docutils literal notranslate"><span class="pre">test_package</span></code>.
The recipe is almost identical to the above one, just with two minor differences:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">requires</span> <span class="o">=</span> <span class="s2">&quot;Hello/0.1@memsharded/testing&quot;</span>
<span class="o">...</span>
<span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;visual_studio&quot;</span>
</pre></div>
</div>
<p>This will allow us to create and test the package of the ChatLib library:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>memsharded/testing
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Release!
&gt;<span class="w"> </span>Hello<span class="w"> </span>World<span class="w"> </span>Release!
</pre></div>
</div>
<p>You can also repeat the process for different build types and architectures.</p>
</section>
<section id="other-configurations">
<h2>Other configurations<a class="headerlink" href="#other-configurations" title="Link to this heading">ÔÉÅ</a></h2>
<p>The above example works as-is for VS2017, because VS supports upgrading from previous versions.
The <code class="docutils literal notranslate"><span class="pre">MSBuild()</span></code> already implements such functionality, so building and testing
packages with VS2017 can be done.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conan<span class="w"> </span>create<span class="w"> </span>.<span class="w"> </span>demo/testing<span class="w"> </span>-s<span class="w"> </span><span class="nv">compiler</span><span class="o">=</span><span class="s2">&quot;Visual Studio&quot;</span><span class="w"> </span>-s<span class="w"> </span>compiler.version<span class="o">=</span><span class="m">15</span>
</pre></div>
</div>
<p>If you have to build for older versions of Visual Studio, it is also possible.
In that case, you would probably have different solution projects inside your build folder.
Then the recipe only has to select the correct one, something like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># assuming HelloLibVS12, HelloLibVS14 subfolders</span>
    <span class="n">sln_file</span> <span class="o">=</span> <span class="s2">&quot;build/HelloLibVS</span><span class="si">%s</span><span class="s2">/HelloLib.sln&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">compiler</span><span class="o">.</span><span class="n">version</span>
    <span class="n">msbuild</span> <span class="o">=</span> <span class="n">MSBuild</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="n">msbuild</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">sln_file</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, we used just one <code class="docutils literal notranslate"><span class="pre">conanbuildinfo.props</span></code> file, which the solution loaded at a global level.
You could also define multiple <code class="docutils literal notranslate"><span class="pre">conanbuildinfo.props</span></code> files, one per configuration (Release/Debug, x86/x86_64), and load them accordingly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>So far, the <code class="docutils literal notranslate"><span class="pre">visual_studio</span></code> generator is single-configuration (packages containing debug or release artifacts,
the generally recommended approach). It does not support multi-config packages (packages containing both debug and release artifacts).
Please report and provide feedback (submit an issue in github) to request this feature if necessary.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cmake_launch.html" class="btn btn-neutral float-left" title="How to launch conan install from cmake" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="makefiles.html" class="btn btn-neutral float-right" title="Creating and reusing packages based on Makefiles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2019, JFrog.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: 1.22
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
    <dt>Versions</dt>
    
        
            <dd><a href="/2.26/index.html">2.26</a></dd>
        
    
        
            <dd><a href="/2.25/index.html">2.25</a></dd>
        
    
        
            <dd><a href="/2.24/index.html">2.24</a></dd>
        
    
        
            <dd><a href="/2.23/index.html">2.23</a></dd>
        
    
        
            <dd><a href="/2.22/index.html">2.22</a></dd>
        
    
        
            <dd><a href="/2.21/index.html">2.21</a></dd>
        
    
        
            <dd><a href="/2.20/index.html">2.20</a></dd>
        
    
        
            <dd><a href="/2.19/index.html">2.19</a></dd>
        
    
        
            <dd><a href="/2.18/index.html">2.18</a></dd>
        
    
        
            <dd><a href="/2.17/index.html">2.17</a></dd>
        
    
        
            <dd><a href="/2.16/index.html">2.16</a></dd>
        
    
        
            <dd><a href="/2.15/index.html">2.15</a></dd>
        
    
        
            <dd><a href="/2.14/index.html">2.14</a></dd>
        
    
        
            <dd><a href="/2.13/index.html">2.13</a></dd>
        
    
        
            <dd><a href="/2.12/index.html">2.12</a></dd>
        
    
        
            <dd><a href="/2.11/index.html">2.11</a></dd>
        
    
        
            <dd><a href="/2.10/index.html">2.10</a></dd>
        
    
        
            <dd><a href="/2.9/index.html">2.9</a></dd>
        
    
        
            <dd><a href="/2.8/index.html">2.8</a></dd>
        
    
        
            <dd><a href="/2.7/index.html">2.7</a></dd>
        
    
        
            <dd><a href="/2.6/index.html">2.6</a></dd>
        
    
        
            <dd><a href="/2.5/index.html">2.5</a></dd>
        
    
        
            <dd><a href="/2.4/index.html">2.4</a></dd>
        
    
        
            <dd><a href="/2.3/index.html">2.3</a></dd>
        
    
        
            <dd><a href="/2.2/index.html">2.2</a></dd>
        
    
        
            <dd><a href="/2.1/index.html">2.1</a></dd>
        
    
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/2/index.html">2</a></dd>
        
    
    <br>
        <details>
            <summary>Conan 1 releases</summary>
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <dd><a href="/1/index.html">1</a></dd>
        
    
        
            <dd><a href="/en/1.66/index.html">1.66</a></dd>
        
    
        
            <dd><a href="/en/1.65/index.html">1.65</a></dd>
        
    
        
            <dd><a href="/en/1.64/index.html">1.64</a></dd>
        
    
        
            <dd><a href="/en/1.63/index.html">1.63</a></dd>
        
    
        
            <dd><a href="/en/1.62/index.html">1.62</a></dd>
        
    
        
            <dd><a href="/en/1.61/index.html">1.61</a></dd>
        
    
        
            <dd><a href="/en/1.60/index.html">1.60</a></dd>
        
    
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
    
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
    
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
    
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
    
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
    
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
    
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
    
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
    
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
    
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
    
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
    
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
    
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
    
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
    
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
    
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
    
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
    
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
    
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
    
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
    
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
    
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
    
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
    
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
    
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
    
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
    
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
    
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
    
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
    
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
    
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
    
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
    
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
    
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
    
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
    
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
    
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
    
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
    
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
    
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
    
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
    
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
    
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
    
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
    
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
    
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
    
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
    
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
    
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
    
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
    
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
    
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
    
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
    
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
    
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
    
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
    
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
    
        
    
        </details>
    </dl>
    <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/en/1.22/conan.pdf">PDF</a></dd>
        
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

<noscript><iframe src="https://gtm.jfrog.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>