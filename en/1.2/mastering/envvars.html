



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Environment variables &mdash; conan 1.2.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="conan 1.2.0 documentation" href="../index.html"/>
        <link rel="up" title="Mastering conan" href="../mastering.html"/>
        <link rel="next" title="Virtual Environments" href="virtualenv.html"/>
        <link rel="prev" title="Build policies" href="policies.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-53TFLK7');</script>
<!-- End Google Tag Manager -->
 

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../_static/conan_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../conan1.0.html">Upgrading to conan 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_packages.html">Using packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_packages.html">Creating packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uploading_packages.html">Uploading packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Package apps and devtools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../mastering.html">Mastering conan</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="conanfile_py.html">Use conanfile.py for consumers</a></li>
<li class="toctree-l2"><a class="reference internal" href="conditional.html">Conditional settings, options and requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="version_ranges.html">Version ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="policies.html">Build policies</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Environment variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#defining-environment-variables">Defining environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-environment-variables-inheritance">Automatic environment variables inheritance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="virtualenv.html">Virtual Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="sharing_settings_and_config.html">Sharing the settings and other configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_cache.html">Conan local cache: concurrency, Continuous Integration, isolation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../systems_cross_building.html">Systems and cross building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howtos.html">Howtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videos.html">Videos and links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="http://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("http://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">conan</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../mastering.html">Mastering conan</a> &raquo;</li>
        
      <li>Environment variables</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mastering/envvars.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="environment-variables">
<h1>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h1>
<p>There are several use cases for environment variables:</p>
<ul class="simple">
<li>Conan global configuration environment variables (e.g. <code class="docutils literal notranslate"><span class="pre">CONAN_COMPRESSION_LEVEL</span></code>). They can be configured in <em>conan.conf</em> or as system
environment variables, and control conan behavior.</li>
<li>Package recipes can access environment variables to determine their behavior. A typical example would be when launching CMake, it will
check for CC and CXX environment variables to define the compiler to use. These variables are mostly transparent for conan, and just used
by the package recipes.</li>
<li><dl class="first docutils">
<dt>Environment variables can be set in different ways:</dt>
<dd><ul class="first last">
<li>global, at the OS level, with <strong class="command">export VAR=Value</strong> or in Windows <strong class="command">SET VAR=Value</strong>.</li>
<li>In the conan command line: <strong class="command">conan install -e VAR=Value</strong>.</li>
<li>In profile files.</li>
<li>In package recipes in the <code class="docutils literal notranslate"><span class="pre">self.env_info</span></code> field, so they are activated for dependent recipes.</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="section" id="defining-environment-variables">
<h2>Defining environment variables<a class="headerlink" href="#defining-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>You can use <a class="reference internal" href="../reference/profiles.html#profiles"><span class="std std-ref">profiles</span></a> to define environment variables that will apply to your recipes. You can also use <strong class="command">-e</strong> parameter
in <strong class="command">conan install</strong>, <strong class="command">conan info</strong> and <strong class="command">conan create</strong> commands.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[env]
CC=/usr/bin/clang
CXX=/usr/bin/clang++
</pre></div>
</div>
<p>If you want to override an environment variable that a package has inherited from its requirements, you can use either <strong>profiles</strong> or
<strong class="command">-e</strong> to do it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conan install -e MyPackage:PATH<span class="o">=</span>/other/path
</pre></div>
</div>
<p>If you want to define an environment variable but you want to append the variables declared in your requirements you can use the <code class="docutils literal notranslate"><span class="pre">[]</span></code>
syntax:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conan install -e <span class="nv">PYTHONPATH</span><span class="o">=[</span>/other/path<span class="o">]</span>
</pre></div>
</div>
<p>This way the first entry in the PYTHONPATH variable will be <em>/other/path</em> but the PYTHONPATH values declared in the requirements
of the project will be appended at the end using the system path separator.</p>
</div>
<div class="section" id="automatic-environment-variables-inheritance">
<h2>Automatic environment variables inheritance<a class="headerlink" href="#automatic-environment-variables-inheritance" title="Permalink to this headline">¶</a></h2>
<p>If your dependencies define some <code class="docutils literal notranslate"><span class="pre">env_info</span></code> variables in the <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method they will be automatically applied before calling
the consumer <em>conanfile.py</em> methods <code class="docutils literal notranslate"><span class="pre">source()</span></code>, <code class="docutils literal notranslate"><span class="pre">build()</span></code>, <code class="docutils literal notranslate"><span class="pre">package()</span></code> and <code class="docutils literal notranslate"><span class="pre">imports()</span></code>. You can read more about <code class="docutils literal notranslate"><span class="pre">env_info</span></code> object
<a class="reference internal" href="../reference/conanfile/methods.html#method-package-info-env-info"><span class="std std-ref">here</span></a>.</p>
<p>For example, if you are creating a package for a tool, you can define the variable <code class="docutils literal notranslate"><span class="pre">PATH</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ToolExampleConan</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my_tool_installer&quot;</span>
   <span class="o">...</span>

   <span class="k">def</span> <span class="nf">package_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">env_info</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">package_folder</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>If another conan recipe requires the <cite>my_tool_installer</cite> in the <code class="docutils literal notranslate"><span class="pre">source()</span></code>, <code class="docutils literal notranslate"><span class="pre">build()</span></code>, <code class="docutils literal notranslate"><span class="pre">package()</span></code> and <code class="docutils literal notranslate"><span class="pre">imports()</span></code> the bin folder of
the <code class="docutils literal notranslate"><span class="pre">my_tool_installer</span></code> package will be automatically appended to the system PATH. If <code class="docutils literal notranslate"><span class="pre">my_tool_installer</span></code> packages an executable called
<code class="docutils literal notranslate"><span class="pre">my_tool_executable</span></code> in the <em>bin</em> of the package folder we can directly call the tool, because it will be available in the path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyLibExample</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
   <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;my_lib_example&quot;</span>
   <span class="o">...</span>

   <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;my_tool_executable some_arguments&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You could also set <code class="docutils literal notranslate"><span class="pre">CC</span></code>, <code class="docutils literal notranslate"><span class="pre">CXX</span></code> variables if we are packing a compiler to define what compiler to use or any other environment variable.
Read more about tool packages <a class="reference internal" href="../devtools/create_installer_packages.html#create-installer-packages"><span class="std std-ref">here</span></a>.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="virtualenv.html" class="btn btn-neutral float-right" title="Virtual Environments" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="policies.html" class="btn btn-neutral" title="Build policies" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, JFrog.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-53TFLK7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>